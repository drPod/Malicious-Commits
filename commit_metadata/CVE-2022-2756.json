{
  "kavita": [
    {
      "hash": "f5229fd0e6405374b4f9c08e2fe8f02a1314c8e8",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-09-24T17:27:47-07:00",
      "message": "Bulk Operations (#596)\n\n* Implemented the ability to perform multi-selections on cards. Basic selection code is done, CSS needed and exposing actions.\r\n\r\n* Implemented a bulk selection bar. Added logic to the card on when to force show checkboxes.\r\n\r\n* Fixed some bad parsing groups and cases for Comic Chapters.\r\n\r\n* Hooked up some bulk actions on series detail page. Not hooked up to backend yet.\r\n\r\n* Fixes #593. URI Enocde library names as sometimes they can have & in them.\r\n\r\n* Implemented the ability to mark volume/chapters as read/unread.\r\n\r\n* Hooked up mark as unread with specials as well.\r\n\r\n* Add to reading list hooked up for Series Detail\r\n\r\n* Implemented ability to add multiple series to a reading list.\r\n\r\n* Implemented bulk selection for series cards\r\n\r\n* Added comments to the new code in ReaderService.cs\r\n\r\n* Implemented proper styling on bulk operation bar and integrated for collections.\r\n\r\n* Fixed an issue with shift clicking\r\n\r\n* Cleaned up css of bulk operations bar\r\n\r\n* Code cleanup",
      "files_changed": [
        "API.Tests/Parser/ComicParserTests.cs",
        "API.Tests/Services/Test Data/ImageService/cover.expected.jpg",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/ReadingListController.cs",
        "API/DTOs/Reader/MarkMultipleSeriesAsReadDto.cs",
        "API/DTOs/Reader/MarkVolumesReadDto.cs",
        "API/DTOs/ReadingLists/UpdateReadingListByMultipleDto.cs",
        "API/DTOs/ReadingLists/UpdateReadingListByMultipleSeriesDto.cs",
        "API/Data/Repositories/SeriesRepository.cs",
        "API/Data/Repositories/VolumeRepository.cs",
        "API/Interfaces/Repositories/ISeriesRepository.cs",
        "API/Interfaces/Repositories/IVolumeRepository.cs",
        "API/Interfaces/Services/IReaderService.cs",
        "API/Interfaces/Services/ReaderService.cs",
        "API/Parser/Parser.cs",
        "UI/Web/src/app/_services/action.service.ts",
        "UI/Web/src/app/_services/library.service.ts",
        "UI/Web/src/app/_services/reader.service.ts",
        "UI/Web/src/app/_services/reading-list.service.ts",
        "UI/Web/src/app/cards/bulk-operations/bulk-operations.component.html",
        "UI/Web/src/app/cards/bulk-operations/bulk-operations.component.scss",
        "UI/Web/src/app/cards/bulk-operations/bulk-operations.component.ts",
        "UI/Web/src/app/cards/bulk-selection.service.ts",
        "UI/Web/src/app/cards/card-item/card-actionables/card-actionables.component.ts",
        "UI/Web/src/app/cards/card-item/card-item.component.html",
        "UI/Web/src/app/cards/card-item/card-item.component.scss",
        "UI/Web/src/app/cards/card-item/card-item.component.ts",
        "UI/Web/src/app/cards/cards.module.ts",
        "UI/Web/src/app/cards/series-card/series-card.component.html",
        "UI/Web/src/app/cards/series-card/series-card.component.ts",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.html",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.ts",
        "UI/Web/src/app/library-detail/library-detail.component.html",
        "UI/Web/src/app/library-detail/library-detail.component.ts",
        "UI/Web/src/app/reading-list/_modals/add-to-list-modal/add-to-list-modal.component.ts",
        "UI/Web/src/app/series-detail/series-detail.component.html",
        "UI/Web/src/app/series-detail/series-detail.component.ts",
        "UI/Web/src/app/shared/_services/utility.service.ts"
      ],
      "insertions": 1124,
      "deletions": 167,
      "original_hash": "f5229fd0e6405374b4f9c08e2fe8f02a1314c8e8",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "8aced68e5b0f4ca039e560a1e709c7e4911ada20",
      "author": "Joseph Milazzo",
      "author_email": "josephmajora@gmail.com",
      "committed_date": "2022-04-02T10:11:07-07:00",
      "message": "v0.5.2 - UX Refresh, Custom Themes, Metadata Editing, and OPDS updates! (#1189)\n\n* Angular Upgrade (#1059)\r\n\r\n* Upgraded to Angular 12\r\n\r\n* Bump ng-bootstrap for upgrade\r\n\r\n* Angular 13 upgrade, ng-bootstrap bump\r\n\r\n* Angular 13 upgrade (broken)\r\n\r\n* Angular 13 upgrade. CSS is broken completely\r\n\r\n* Angular 13 upgrade is complete.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Added beta disclaimer (#1065)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Auto approve migration emails if the password is correct. Change Email Link dump to Critical to ensure it makes it into the logs. (#1069)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Adding discord roles (#1070)\r\n\r\n* Adding discord roles\r\n\r\n# Added\r\n- Added: Added Discord roles to automated build discord notification.\r\n\r\n* update\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Custom Theme Support (#1077)\r\n\r\n* Started the migration to bootstrap 5. Introduced a breakpoint system that bootstrap reflects for our screens.\r\n\r\n* sr only migrated\r\n\r\n* mr/ml -> me/ms\r\n\r\n* pl/pr -> ps/pe\r\n\r\n* btn-block\r\n\r\n* removed input-group-append\r\n\r\n* Added form-label to all labels\r\n\r\n* Added some style overrides for inputs\r\n\r\n* Replaced form-group with mb-3\r\n\r\n* Ignore journal files\r\n\r\n* Update media to d-flex/flex-grow-1\r\n\r\n* Fixed reading list detail page\r\n\r\n* For develop builds, don't inline critical styles\r\n\r\n* Fixed some downstream security issues\r\n\r\n* Fixed a layout issue in series detail\r\n\r\n* Fixed issue with btn-light not having background color. Updated layout for series detail metadata\r\n\r\n* Cleaned up nav search\r\n\r\n* Laid out the organization for custom theme components. Update _inputs.scss with variable overrides and depending on theme, it will just work.\r\n\r\n* Lots of theming work\r\n\r\n* Added inputs to the theme page\r\n\r\n* Login and input placeholder changes\r\n\r\n- Fixed login screen centering issue on all devices\r\n- Changed the format of the login screen\r\n- Change the input placeholder color\r\n\r\n* Added checkbox styles\r\n\r\n* Refactored tagbadges and removed some ngdeep selectors\r\n\r\n* Added nav bar component and refactored some styles into event widget\r\n\r\n* Cleaned nav events again and made dedicated popover body\r\n\r\n* Finished pagination component\r\n\r\n* Fixed up some styles with buttons\r\n\r\n* refactored dropdown component\r\n\r\n* Update accordion component\r\n\r\n* Refactored breadcrumbs and rating star. Fixed a missing style for cards\r\n\r\n* Fixed some styling issues on person badge, added modal component, and some global styles\r\n\r\n* Finished moving everything within dark to component files\r\n\r\n* Fixed up filter buttons, move card styles into a component theme, fixed slider style\r\n\r\n* Refactored library card and grouped typeahead\r\n\r\n* Updated normal typeahead component and reduced amount of ngdeep selector\r\n\r\n* Refactored grid breakpoints to be available by css variable, but it's hardcoded into the app\r\n\r\n* Ensure breakpoints are defined per theme\r\n\r\n* Fixed up some styling overrides and customization for nav links and alt button\r\n\r\n* Removed some deep styles, moved css out of splash container and brough back labels for login page\r\n\r\n* Finished css variable refactor\r\n\r\n* Refactored all the theme variable definitions into files for each theme.\r\n\r\n* Added back bootstrap overrides\r\n\r\n* Added a note about bootstrap theme colors being not-possible to swap out at runtime\r\n\r\n* Cleaned up some dead code\r\n\r\n* Implemented the ability to set a custom theme on the site. Cleaned up misc code throughout.\r\n\r\n* Additional changes\r\n\r\n- Fixed nav where \"kavita\" was not hiding correctly on small viewports\r\n- Fixed search bar to make the behavior more consistent\r\n- Fixed accordion buttons\r\n- Changed accordion buttons to be more responsive\r\n- Added radio button colors\r\n- Fixed radios on theme test page\r\n- Changed login and reset password card layouts to be more consistent.\r\n- Added primary color shade for when darker shading is needed.\r\n\r\n* Built a basic site, allow the user to apply different themes, refactored nav service code out.\r\n\r\n* Implemented the ability update a user's theme\r\n\r\n* Added unit tests for Scan and Get Content in SiteThemeService.\r\n\r\n* Fixed a bug in the login code and Pref code which wasn't joining on SiteTheme table. Wrote Unit tests and the UI component to manage current theme.\r\n\r\n* Implemented scan so that it manages custom themes with unit tests\r\n\r\n* Component updates\r\n\r\n- Repositioning style ordering\r\n- Adding indicator override\r\n- Adding select styles\r\n\r\n* SignlaR integration, some fixes when creating custom entities, one single migration. Just login functionality left.\r\n\r\n* More ui updated\r\n\r\n- Added .no-hover to prevent hover on elements where not needed\r\n- Changed all selects I could find to appropriate class\r\n- Changed up nav tabs to work more like bootstrap tabs than pills\r\n- Added padding to top of some containers to make styles consistent\r\n- Added ability to change navbar fontawesome icon colors\r\n- removed some unecessary inline styling\r\n- Changed radio button to appropriate class\r\n- Toned down primate color, a bit too bright for dark theme.\r\n- Added ability to change button fontawesome icon color\r\n\r\n* nav-tab fix for series-detail\r\n\r\n* Added themes folder to gitignore\r\n\r\n* Adding card overlay\r\n\r\n* Fixing up light theme\r\n\r\n* Everything is done. Only bug is that color-scheme isn't being set properly from css variable.\r\n\r\n* Checkboxes have pointer by default. Confirm/Confirm email use default (dark) theme by default\r\n\r\n* Fixed an error where color-scheme wasn't reflecting correctly on themes on first load\r\n\r\n* Fixed user preferences not available on login\r\n\r\n* Changing dual radios to switches and color tweaks\r\n\r\n* disabled primary APCA fix\r\n\r\n* button APCA fixes\r\n\r\n* Fixed some timing issues with first load and image service\r\n\r\n* Fixed swiper issues from upgrade\r\n\r\n* Changed themes to be scss files again and adjusted Seed code\r\n\r\n* Migrated carousel to css variables. Fixed a broken animation for search.\r\n\r\n* Cleaned up some backend smells\r\n\r\n* Fixed white border outline on nav tabs, added some variables for header\r\n\r\n* Nav bar has been css variable-ified\r\n\r\n* Added some basic eink stuff to make the app useable\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fix an issue for first time running theme code, theme will not be available (#1081)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Event Widget Update (#1098)\r\n\r\n* Took care of some notes in the code\r\n\r\n* Fixed an issue where Extra might get flagged as special too early, if in a word like Extraordinary\r\n\r\n* Moved Tag cleanup code into Scanner service. Added a SplitQuery to another heavy API. Refactored Scan loop to remove parallelism and use async instead.\r\n\r\n* Lots of rework on the codebase to support detailed messages and easier management of message sending. Need to take a break on this work.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Fixed merge issue\r\n\r\n* Fixed unit tests\r\n\r\n* CoverUpdate is now hooked into new ProgressEvent structure\r\n\r\n* Refactored code to remove custom observables and have everything use standard messages$\r\n\r\n* Refactored a ton of instances to NotificationProgressEvent style and tons of the UI to respect that too. UI is still a bit buggy, but wholistically the work is done.\r\n\r\n* Working much better. Sometimes events come in too fast. Currently cover update progress doesn't display on UI\r\n\r\n* Fixed unit tests\r\n\r\n* Removed SignalREvent to minimize internal event types. Updated the UI to use progress bars. Finished SiteThemeService.\r\n\r\n* Merged metadata refresh progress events and changed library scan events to merge cleaner in the UI\r\n\r\n* Changed RefreshMetadataProgress to CoverUpdateProgress to reflect the event better.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked some of the emitting code\r\n\r\n* Some css, but pretty bad. Robbie please save me\r\n\r\n* Removed a todo\r\n\r\n* styling update\r\n\r\n* Only send filename on FileScanProgress\r\n\r\n* Some console.log spam cleanup\r\n\r\n* Various updates\r\n\r\n* Show events widget activity based on activeEvents\r\n\r\n* progress bar color updates\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Scanner event hub fix (#1099)\r\n\r\n* Scanner event hub fix\r\n\r\n- Fixed an issue where the scanner would error when adding a new series because the series didn't have a library name yet. (develop)\r\n\r\n* Removing library.type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Workflow update to add nightly versions (#1100)\r\n\r\n# Changed\r\n- Changed: Changed automated workflow to release individual nightly versions on dockerhub\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Updating GA to parse version (#1101)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* GA Fixes (#1103)\r\n\r\n**Strictly Repo Changes**\r\n# Fixed\r\n- Fixed: Fixed an issue where patch version was not being added to docker tag.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed specials being misaligned (#1106)\r\n\r\n# Fixed\r\n- Fixed: Fixed issue with specials not being properly aligned (develop)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix/ux pass 2 (#1107)\r\n\r\n* Adding margin bottom to series detail tabs\r\n\r\n* Styling tag badges with green on dark\r\n\r\n- Added 3 new css vars\r\n\r\n* Removing underline from readmore\r\n\r\n* Fixing see more to be on one line\r\n\r\n* adding gutter to see more\r\n\r\n* Changing queue toasts to info\r\n\r\n* adding api key tooltip\r\n\r\n* Updating active accordion on user preference.\r\n\r\n* Fixing search bar and close btn position\r\n\r\n* Fixed a bug where entering book reader in dark mode then closing out, would leave you in a broken white state.\r\n\r\n* Fixed broken wiki links\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series Detail Refactor (#1118)\r\n\r\n* Fixed a bug where reading list and collection's summary wouldn't render newlines\r\n\r\n* Moved all the logic in the UI for Series Detail into the backend (messy code). We are averaging 400ms max with much optimizations available. Next step is to refactor out of controller and provide unit tests.\r\n\r\n* Unit tests for CleanSpecialTitle\r\n\r\n* Laid out foundation for testing major code in SeriesController.\r\n\r\n* Refactored code so that read doesn't need to be disabled on page load. SeriesId doesn't need the series to actually load.\r\n\r\n* Removed old property from Volume\r\n\r\n* Changed tagbadge font size to rem.\r\n\r\n* Refactored some methods from SeriesController.cs into SeriesService.cs\r\n\r\n* UpdateRating unit tested\r\n\r\n* Wrote unit tests for SeriesDetail\r\n\r\n* Worked up some code where books are rendered only as volumes. However, looks like I will need to use Chapters to better support series_index as floats.\r\n\r\n* Refactored Series Detail to change Volume Name on Book libraries to have book name and series_index.\r\n\r\n* Some cleanup on the code\r\n\r\n* DeleteMultipleSeries test is hard. Going to skip.\r\n\r\n* Removed some debug code and make all tabs Books for Book library Type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tachiyomi Bugfix (#1119)\r\n\r\n* Updated the dependencies for .NET 6.0.2\r\n\r\n* Fixed a bad prev chapter logic where we would bleed into chapters from last volume instead of specials.\r\n\r\n* Fixed the get prev chapter code to properly walk the order according to documentation and updated some bad test cases\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series index fix (#1120)\r\n\r\n* Series index fix\r\n\r\n# Fixed\r\n- Fixed: Fixed an issue where epub series with index = 0 would be hidden on series detail page.\r\n\r\n* Removing unnecessary conditional\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Misc Bugfixes (#1123)\r\n\r\n* Fixed a bug where ComicInfo Count can be a float and we threw a parse error.\r\n\r\n* Fixed a bug in download bookmarks which didn't properly create the filepaths for copying. Refactored into a service with a unit test.\r\n\r\nIn Scanner, repull genres, people and tags between chunk saves to ensure no unique constraint issues.\r\n\r\n* Fixed a bug where card detail layout wouldn't refresh the library name on the card between pages\r\n\r\n* Fixed an issue where a check to scrolling page back to top was missing in manga reader\r\n\r\n* Fixed a bug where cleaning up collection tags without Series was missing after editing a Series.\r\n\r\n* Cleaned up the styles for cover chooser\r\n\r\n* Added Regex support for \"Series 001 (Digital) (somethingwith1234)\" and removed support for \"A Compendium of Ghosts - 031 - The Third Story_ Part 12\" due to complexity in parsing.\r\n\r\n* Fixed a miscommunication on how Tachiyomi needs the API MarkChaptersUntilAsRead implemented. Now 0 chapter volumes will be marked.\r\n\r\n* Removed unneeded DI\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* CopyFilesToDirectory will now allow for one duplicate copy over and put (2) (#1126)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Stablize the Styles (#1128)\r\n\r\n* Fixed a bug where adding multiple series to reading list would throw an error on UI, but it was successful.\r\n\r\n* When a series has a reading list, we now show the connection on Series detail.\r\n\r\n* Removed all baseurl code from UI and not-connected component since we no longer use it.\r\n\r\n* Fixed tag badges not showing a border. Added last read time to the series detail page\r\n\r\n* Fixed up error interceptor to remove no-connection code\r\n\r\n* Changed implementation for series detail. Book libraries will never send chapters back. Volume 0 volumes will not be sent in volumes ever. Fixed up more renaming logic on books to send more accurate representations to the UI.\r\n\r\n* Cleaned up the selected tab and tab display logic\r\n\r\n* Fixed a bad where statement in reading lists for series\r\n\r\n* Fixed up tab logic again\r\n\r\n* Fixed a small margin on search backdrop\r\n\r\n* Made badge expander button smaller to align with badges\r\n\r\n* Fixed a few UIs due to .form-group and .form-row being removed\r\n\r\n* Updated Theme component page to help with style testing\r\n\r\n* Added more components to theme tester\r\n\r\n* Cleaned up some styling\r\n\r\n* Fixed opacity on search item hover\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Hacked in code so that we render an image instead of canvas for fit to screen to try out. (#1131)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Metadata Editing from the UI! (#1135)\r\n\r\n* Added the skeleton code for layout, hooked up Age Rating, Publication Status, and Tags\r\n\r\n* Tweaked message of Scan service to Finished scan of to better indicate the total scan time\r\n\r\n* Hooked in foundation for person typeaheads\r\n\r\n* Fixed people not populating typeaheads on load\r\n\r\n* For manga/comics, when parsing, set the SeriesSort from ComicInfo if it exists.\r\n\r\n* Implemented the ability to override and create new genre tags. Code is ready to flush out the rest.\r\n\r\n* Ability to update metadata from the UI is hooked up. Next is locking.\r\n\r\n* Updated typeahead to allow for non-multiple usage. Implemented ability to update Language tag in Series Metadata.\r\n\r\n* Fixed a bug in GetContinuePoint for a case where we have Volumes, Loose Leaf chapters and no read progress.\r\n\r\n* Added ETag headers on Images to allow for better caching (bookmarks and images in manga reader)\r\n\r\n* Built out UI code to show locked indication to user\r\n\r\n* Implemented Series locking and refactored a lot of styles in typeahead to make the lock setting work, plus misc cleanup.\r\n\r\n* Added locked properties to dtos. Updated typeahead loading indicator to not interfere with close button if present\r\n\r\n* Hooked up locking flags in UI\r\n\r\n* Integrated regular field locking/unlocking\r\n\r\n* Removed some old code\r\n\r\n* Prevent input group from wrapping\r\n\r\n* Implemented some basic layout for metadata on volume/chapter card modal. Refactored out all metadata from Chapter object in terms of UI and put into a separate call to ensure speedy delivery and simplicity of code.\r\n\r\n* Refactored code to hide covers section if not an admin\r\n\r\n* Implemented ability to modify a chapter/volume cover from the detail modal\r\n\r\n* Removed a few variables and change cover image modal\r\n\r\n* Added bookmark to single chapter view\r\n\r\n* Put a temp fix in for a ngb v12 z-index bug (reported). Bumped ngb to 12.0 stable and fixed some small rendering bugs\r\n\r\n* loading buttons ftw\r\n\r\n* Lots of cleanup, looks like the story is finished\r\n\r\n* Changed action name from Info to Details\r\n\r\n* Style tweaks\r\n\r\n* Fixed an issue where Summary would assume it's locked due to a subscription firing on setting the model\r\n\r\n* Fixed some misc bugs\r\n\r\n* Code smells\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Manga Reader Refresh (#1137)\r\n\r\n* Refactored manga reader to use a regular image element for all cases except for split page rendering\r\n\r\n* Fixed a weird issue where ordering of routes broke redireciton in one case.\r\n\r\n* Added comments to a lot of the enums and refactored READER_MODE to be ReaderMode and much more clearer on function.\r\n\r\n* Added bookmark effect on image renderer\r\n\r\n* Implemented keyboard shortcut modal\r\n\r\n* Introduced the new layout mode into the manga reader, updated preferences, and updated bookmark to work for said functionality. Need to implement renderer now\r\n\r\n* Hooked in ability to show double pages but all the css is broken. Committing for help from Robbie.\r\n\r\n* Fixed an issue where Language tag in metadata edit wasn't being updated\r\n\r\n* Fixed up some styling on mobile for edit series detail\r\n\r\n* Some css fixes\r\n\r\n* Hooked in ability to set background color on reader (not implemented in reader). Optimized some code in ArchiveService to avoid extra memory allocations.\r\n\r\n* Hooked in background color, generated the migration\r\n\r\n* Fixed a bug when paging to cover images, full height would be used instead of full-width for cover images\r\n\r\n* New option in reader to show screen hints (on by default). You can disable in user preferences which will stop showing pagination overlay hints\r\n\r\n* Lots of fixes for double rendering mode\r\n\r\n* Bumped the amount of cached pages to 8\r\n\r\n* Fixed an issue where dropdowns weren't being locked on form manipulation\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* On Deck tweaks + Bugfixes (#1141)\r\n\r\n* Tweaked the On deck to only look for series that have progress in past 30 days. This number is just to test it out, it will be configurable later. Tweaked the layout of the dashboard to remove a redundant section.\r\n\r\n* Fixed a bug where archives with __MACOSX/ inside would break the reader during flattening.\r\n\r\n* Fixed a bug where confirm service rejection should have resolved as false.\r\n\r\n* Fixed an issue with checking if server is accessible with loopback and local ips\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Manga Reader Shakeout (#1142)\r\n\r\n* Fixed a unit test in ArchiveService\r\n\r\n* Image scaling fixes\r\n\r\n* removing test\r\n\r\n* Added new layout mode (enum only) and cleaned up manga reader and wrote extra documentation\r\n\r\n* Aligned code with cleanup\r\n\r\n* Adding reverse classes for manga reading\r\n\r\n* Disable options for layout modes that doesn't make sense.\r\n\r\n* Cleaned up manga reader menu items to link to preferences options directly\r\n\r\n* Work in progress, but rendering the correct page numbers for double. Need to rework caching logic so we can use existing image objects\r\n\r\n* Pagination logic is now properly increasing page number an extra when double layout mode\r\n\r\n* I can't figure out cachedImages to work properly with double pages, but doing it in a way where it handles downloading the image (and etag cache) + rendering the url, seems to work really well\r\n\r\n* Double original fix, also flex squish fix\r\n\r\n* Implemented last page on double which will load next chapter.\r\n\r\nFixed a bug where if GetImage from ReaderController threw an error, the chapter directory would be emptied, but the folder itself wasn't deleted.\r\n\r\n* Fixed a bad if for double manga\r\n\r\n* double class fix\r\n\r\n* Cleanup up some console.logs\r\n\r\n* Adjusted the caching for images in a reading session so they cache for 2 mins\r\n\r\n* fixing webtoon image issue\r\n\r\n* Tweaked the caching of images to 10 mins for reading. Fixed a bug where after webtoon, single image layout would be selected. Tweaked logic for handling prev/next pages on chapter boundaries.\r\n\r\n* Fixed an issue where 2nd page would be skipped\r\n\r\n* Fixed an issue where 2nd page would be skipped\r\n\r\n* Fixed a skip page issue\r\n\r\n* Misc css fixes\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Misc Bugfixes and Cleanup (#1144)\r\n\r\n* Moved libraryType into chapter info\r\n\r\n* Fixed a bug where you could not reset cover on a series\r\n\r\n* Patched in relevant changes from another polish branch\r\n\r\n* Refactored invite user setup to shift the checking for accessibility to the backend and always show the link. This will help with users who have some unique setups in docker.\r\n\r\n* Refactored invite user to always print the url to setup a new account.\r\n\r\n* Single page renderer uses canvasImage rather than re-requesting and relying on cache\r\n\r\n* Fixed a rendering issue where fit to split on single on a cover wouldn't force width scaling just for that image\r\n\r\n* Fixed a rendering bug with split image functionality\r\n\r\n* Added title to copy button\r\n\r\n* Fixed a bug in GetContinuePoint when a chapter is added to an already read volume and a new chapter is added loose leaf. The loose leaf would be prioritized over the volume chapter.\r\n\r\nRefactored 2 methods from controller into service and unit tested.\r\n\r\n* Fixed a bug on opening a volume in series detail that had a chapter added to it after the volume (0 chapter) was read would cause a loose leaf chapter to be opened.\r\n\r\n* Added mark as read/actionables on Files in volume detail modal. Fixed a bug where we were showing the wrong page count in a volume detail modal.\r\n\r\n* Removed OnDeck page and replaced it with a pre-filtered All-Series. Hooked up the ability to pass read state to the filter via query params. Fixed some spacing on filter post bootstrap update.\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfixes and Cover Chooser Upgrades (#1146)\r\n\r\n* Fixed a bug where GetNextChapter would return a loose leaf chapter from a special when it should return nothing.\r\n\r\n* Fixed a bug in events widget when an update comes in after a user refreshes, the active event counter could get out of sync, thus showing \"Nothing going on here\"\r\n\r\nRefactored the events widget to be named appropriately.\r\n\r\n* Refactored code to have errors during threaded tasks propagate to the UI via events widget (css still needed).\r\n\r\nRemoved ScanLibraryError in favor of generic Error event.\r\n\r\n* Fixed up some code and added ability to remove the event from events widget\r\n\r\n* Fixed a bug where modifiying certain fields, like summary, wouldn't lock the field\r\n\r\n* Fixed a few bugs where lock state was not being set in the DB correctly nor were certain combinations of locking fields and editing fields.\r\n\r\n* Removed debug code\r\n\r\n* Updated the discord alert to tag new group\r\n\r\n* Refactored cover upload to actually handle uploading a temp file via url on the backend so that users can user change cover by url. Fixed up some bugs that occured when chaning the image container in a previous PR.\r\n\r\n* Code cleanup\r\n\r\n* Cleaned up the css on the error items\r\n\r\n* Code cleanup\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Side nav (#1155)\r\n\r\n* adding back side-nav\r\n\r\n* Event Widget Update (#1098)\r\n\r\n* Took care of some notes in the code\r\n\r\n* Fixed an issue where Extra might get flagged as special too early, if in a word like Extraordinary\r\n\r\n* Moved Tag cleanup code into Scanner service. Added a SplitQuery to another heavy API. Refactored Scan loop to remove parallelism and use async instead.\r\n\r\n* Lots of rework on the codebase to support detailed messages and easier management of message sending. Need to take a break on this work.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Fixed merge issue\r\n\r\n* Fixed unit tests\r\n\r\n* CoverUpdate is now hooked into new ProgressEvent structure\r\n\r\n* Refactored code to remove custom observables and have everything use standard messages$\r\n\r\n* Refactored a ton of instances to NotificationProgressEvent style and tons of the UI to respect that too. UI is still a bit buggy, but wholistically the work is done.\r\n\r\n* Working much better. Sometimes events come in too fast. Currently cover update progress doesn't display on UI\r\n\r\n* Fixed unit tests\r\n\r\n* Removed SignalREvent to minimize internal event types. Updated the UI to use progress bars. Finished SiteThemeService.\r\n\r\n* Merged metadata refresh progress events and changed library scan events to merge cleaner in the UI\r\n\r\n* Changed RefreshMetadataProgress to CoverUpdateProgress to reflect the event better.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked some of the emitting code\r\n\r\n* Some css, but pretty bad. Robbie please save me\r\n\r\n* Removed a todo\r\n\r\n* styling update\r\n\r\n* Only send filename on FileScanProgress\r\n\r\n* Some console.log spam cleanup\r\n\r\n* Various updates\r\n\r\n* Show events widget activity based on activeEvents\r\n\r\n* progress bar color updates\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Scanner event hub fix (#1099)\r\n\r\n* Scanner event hub fix\r\n\r\n- Fixed an issue where the scanner would error when adding a new series because the series didn't have a library name yet. (develop)\r\n\r\n* Removing library.type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Workflow update to add nightly versions (#1100)\r\n\r\n# Changed\r\n- Changed: Changed automated workflow to release individual nightly versions on dockerhub\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Updating GA to parse version (#1101)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* GA Fixes (#1103)\r\n\r\n**Strictly Repo Changes**\r\n# Fixed\r\n- Fixed: Fixed an issue where patch version was not being added to docker tag.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed specials being misaligned (#1106)\r\n\r\n# Fixed\r\n- Fixed: Fixed issue with specials not being properly aligned (develop)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix/ux pass 2 (#1107)\r\n\r\n* Adding margin bottom to series detail tabs\r\n\r\n* Styling tag badges with green on dark\r\n\r\n- Added 3 new css vars\r\n\r\n* Removing underline from readmore\r\n\r\n* Fixing see more to be on one line\r\n\r\n* adding gutter to see more\r\n\r\n* Changing queue toasts to info\r\n\r\n* adding api key tooltip\r\n\r\n* Updating active accordion on user preference.\r\n\r\n* Fixing search bar and close btn position\r\n\r\n* Fixed a bug where entering book reader in dark mode then closing out, would leave you in a broken white state.\r\n\r\n* Fixed broken wiki links\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series Detail Refactor (#1118)\r\n\r\n* Fixed a bug where reading list and collection's summary wouldn't render newlines\r\n\r\n* Moved all the logic in the UI for Series Detail into the backend (messy code). We are averaging 400ms max with much optimizations available. Next step is to refactor out of controller and provide unit tests.\r\n\r\n* Unit tests for CleanSpecialTitle\r\n\r\n* Laid out foundation for testing major code in SeriesController.\r\n\r\n* Refactored code so that read doesn't need to be disabled on page load. SeriesId doesn't need the series to actually load.\r\n\r\n* Removed old property from Volume\r\n\r\n* Changed tagbadge font size to rem.\r\n\r\n* Refactored some methods from SeriesController.cs into SeriesService.cs\r\n\r\n* UpdateRating unit tested\r\n\r\n* Wrote unit tests for SeriesDetail\r\n\r\n* Worked up some code where books are rendered only as volumes. However, looks like I will need to use Chapters to better support series_index as floats.\r\n\r\n* Refactored Series Detail to change Volume Name on Book libraries to have book name and series_index.\r\n\r\n* Some cleanup on the code\r\n\r\n* DeleteMultipleSeries test is hard. Going to skip.\r\n\r\n* Removed some debug code and make all tabs Books for Book library Type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tachiyomi Bugfix (#1119)\r\n\r\n* Updated the dependencies for .NET 6.0.2\r\n\r\n* Fixed a bad prev chapter logic where we would bleed into chapters from last volume instead of specials.\r\n\r\n* Fixed the get prev chapter code to properly walk the order according to documentation and updated some bad test cases\r\n\r\n* Updated side nav to float a bit and added user settings to it.\r\n\r\n* Refactored the code to hide/show sidenav to be more angular and decoupled\r\n\r\n* Moved Changelog out of admin dashboard and into a dedicated page in user menu. Added a wiki link from user menu\r\n\r\n* Introduced a side nav item for rendering each item and refactored code to use it.\r\n\r\n* Added a filter of side nav when there are more than 10 libraries. Added some themeing overrides for side nav.\r\n\r\n* Cleaned up the template code for side nav item so if there is no link, we don't generate that html directive\r\n\r\n* Refactored side nav into a module and migrated a few pipes into a pipe module for easy re-use\r\n\r\n* Added companion bar on reading list and collection. Updated modules to load pages and make side nav items clickable as anchors, so new tab works.\r\n\r\n* Moved metadata filter into separate component/module and the button in the companion bar. Needs cleanup.\r\n\r\n* Finished cleanup and refactoring of metadata filter into separate component.\r\n\r\nRemoved filtering from Collections as it doesn't work and wasn't hooked up.\r\n\r\n* Tweaked the css on carousel component\r\n\r\n* Added to library detail and series-detail\r\n\r\n* Fixes and css vars\r\n\r\n* Stop destroying sidenav, animaton timing\r\n\r\n* Integrated side nav on the rest of the pages\r\n\r\n* Navbar now collapses to icons\r\n\r\n* mobile sidenav start\r\n\r\n* more mobile fixes\r\n\r\n* mobile tweaks\r\n\r\n* light and e-ink theme updates\r\n\r\n* white and eink dropdown color fixes\r\n\r\n* plex inspired side-nav\r\n\r\n* theme fixes\r\n\r\n* Making spacing more uniform across app\r\n\r\n* More fixes\r\n\r\n* fixing spacing on cards\r\n\r\n* actionable fix for sidenav\r\n\r\n* no scroll on mobile when sidenav is open\r\n\r\n* hide sidenav on pages\r\n\r\n* Adding card spacing\r\n\r\n* Adding ability to remove sidenav when in a reader\r\n\r\n* tidying up sidenav toggles\r\n\r\n* side-nav mobile updates\r\n\r\n* fixing up other themes\r\n\r\n* overlay fixes\r\n\r\n* Cleaned up the code to make the observables have better names.\r\n\r\nRemoved a bunch of pointless subscriptions. Cleaned up methods that werent needed.\r\n\r\nAdded jsdocs to help ensure the understandability of the 2 states for the side nav.\r\n\r\n* Integrated a highlight effect on side nav. Fixed a ton of places where the nav was being hidden when it shouldn't.\r\n\r\n* Fixed where active state wasn't working on all urls\r\n\r\n* misc fixes\r\n\r\n- smaller hamburger\r\n- z-index fixes\r\n- active fixes\r\n\r\n* Revert \"Merge branch 'develop' into feature/side-nav-upgrade\"\r\n\r\nThis reverts commit 76b0d15a984692874e0cb57e821686ea703144cf, reversing\r\nchanges made to b3ed55395473aa35577500596a211ad22a42631b.\r\n\r\n* Fixing edit-series modal spacing\r\n\r\n* Give the ability to jump to a library from admin manage libraries page\r\n\r\n* Fixed a bug with highlighting active item on side nav\r\n\r\n* Moved localized series title to companion bar via subtitle\r\n\r\n* Removed old title\r\n\r\n* Fixed a bug where clicking a link would reload the whole app, styling fixes on filter, fixed issue with initial load not setting active state, adjusted styles on active style.\r\n\r\n* code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed a bug where companion bar would be pushing content to the right even when not visible. Updated nav service localstorage key. (#1159)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Side Nav Fixes (#1161)\r\n\r\n* Fixed an issue where there was extra padding on top/bottom of readers when side nav was hidden.\r\n\r\n* Fixed a bug where fit to screen wasn't forcing width scaling\r\n\r\n* Added back total pages to many pages\r\n\r\n* Fixed the padding on series detail cards\r\n\r\n* Tweaked carousels to match series detail padding\r\n\r\n* Fixed an issue where large amount of libraries could have 2 highlighted at once due to how highlight logic works on routes.\r\n\r\n* Cleaned up some extra space in card detail layout due to moving title into compainion bar\r\n\r\n* Moved some gloabls to global and moved color-scheme to body tag\r\n\r\n* Moved scrollbar onto the body itself which helps with page jank on loading and fixes scrollbar not working with theme\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed loose chapters marked as read for Tachiyomi (#1158)\r\n\r\n* Tachiyomi-related fixes\r\n\r\n* Created unit test for MarkAsReadAnythingUntil\r\n\r\n* Applied the requested changes.\r\n\r\n* More Bugfixes from Side Nav (#1162)\r\n\r\n* Fixed a bug where the bottom of the page could be cut off\r\n\r\n* Adjusted all the headings to h2, which looks better\r\n\r\n* Refactored GetSeriesDetail to actually map the names inside the code so the UI just displays.\r\n\r\n* Put in some basic improvements to OPDS by using Series Detail type layout, but this only reduces one click.\r\n\r\n* Fixed a bug where offset from scrollbar fix causes readers to be cutoff.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* OPDS Rework (#1164)\r\n\r\n* Fixed a bug where the bottom of the page could be cut off\r\n\r\n* Adjusted all the headings to h2, which looks better\r\n\r\n* Refactored GetSeriesDetail to actually map the names inside the code so the UI just displays.\r\n\r\n* Put in some basic improvements to OPDS by using Series Detail type layout, but this only reduces one click.\r\n\r\n* Fixed a bug where offset from scrollbar fix causes readers to be cutoff.\r\n\r\n* Ensure the hamburger menu icon is aligned with side nav\r\n\r\n* Disable the image splitting dropdown in webtoon mode\r\n\r\n* Fixed broken progress/scroll code as we scroll on the body instead of window now\r\n\r\n* Fixed phone-hidden class not working due to a bad media query\r\n\r\n* Lots of changes to OPDS to provide a richer text experience. Uses Issues or Books based on library type. Cleans up the experience by providing Storyline from the get-go.\r\n\r\n* Updated OPDS-SE search description to include collections and reading lists.\r\n\r\n* Fixed up some title stuff\r\n\r\n* If a volume only has one file underneath it, flatten it and send a chapter as if it were the volume.\r\n\r\n* Code cleanup\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Feature/enhancements and more (#1166)\r\n\r\n* Moved libraryType into chapter info\r\n\r\n* Fixed a bug where you could not reset cover on a series\r\n\r\n* Patched in relevant changes from another polish branch\r\n\r\n* Refactored invite user setup to shift the checking for accessibility to the backend and always show the link. This will help with users who have some unique setups in docker.\r\n\r\n* Refactored invite user to always print the url to setup a new account.\r\n\r\n* Single page renderer uses canvasImage rather than re-requesting and relying on cache\r\n\r\n* Fixed a rendering issue where fit to split on single on a cover wouldn't force width scaling just for that image\r\n\r\n* Fixed a rendering bug with split image functionality\r\n\r\n* Added title to copy button\r\n\r\n* Fixed a bug in GetContinuePoint when a chapter is added to an already read volume and a new chapter is added loose leaf. The loose leaf would be prioritized over the volume chapter.\r\n\r\nRefactored 2 methods from controller into service and unit tested.\r\n\r\n* Fixed a bug on opening a volume in series detail that had a chapter added to it after the volume (0 chapter) was read would cause a loose leaf chapter to be opened.\r\n\r\n* Added mark as read/actionables on Files in volume detail modal. Fixed a bug where we were showing the wrong page count in a volume detail modal.\r\n\r\n* Removed OnDeck page and replaced it with a pre-filtered All-Series. Hooked up the ability to pass read state to the filter via query params. Fixed some spacing on filter post bootstrap update.\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Some string equals enhancements to reduce extra allocations\r\n\r\n* Fixed an issue when trying to download via a url, to remove query parameters to get the format\r\n\r\n* Made an optimization to Normalize method to reduce memory pressure by 100MB over the course of a scan (16k files)\r\n\r\n* Adjusted the styles on dashboard for first time setup and used a routerlink rather than href to avoid a fresh load.\r\n\r\n* Use framgment on router link\r\n\r\n* Hooked in the ability to search by release year (along with series optionally) and series will be returned back.\r\n\r\n* Fixed a bug in the filter format code where it was sending the wrong type\r\n\r\n* Only show clear all on typeahead when there are at least one selected item\r\n\r\n* Cleaned up the styles of the styles of the typeahead\r\n\r\n* Removed some dead code\r\n\r\n* Implemented the ability to filter against a series name.\r\n\r\n* Fixed filter top offset\r\n\r\n* Ensure that when we add or remove libraries, the side nav of users gets updated.\r\n\r\n* Tweaked the width on the mobile side nav\r\n\r\n* Close side nav on clicking overlay on mobile viewport\r\n\r\n* Don't show a pointer if the carousel section title is not actually selectable\r\n\r\n* Removed the User profile on the side nav so home is always first. Tweaked styles to match\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Fixed a bug where Latest read date wasn't being set due to an early short circuit.\r\n\r\n* When sending the chapter file, format the title of the FeedEntry more like Series Detail.\r\n\r\n* Removed dead code\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfixes  (#1177)\r\n\r\n* Fixed an underline on hover of pagination link\r\n\r\n* Ensure title of companion bar eats full width if there is no filter\r\n\r\n* If a user doesn't have the Download role, they will not be able to download over OPDS.\r\n\r\n* Fixed a bug where after going into webtoon reader mode then leaving, the bookmark effect would continue using the webtoon mode styling\r\n\r\n* Fixed a bug where continuous reader wasn't being triggered due to moving scrollbar to body and a floating point percision error on scroll top\r\n\r\n* Fixed how continuous trigger is shown so that we properly adjust scroll on the top (for prev chapter)\r\n\r\n* Fixed a bad merge that broke saving any edits to series metadata\r\n\r\n* When a epub key is not correct, even after we correct it, ignore the inlining of the style so the book is at least still readable.\r\n\r\n* Disabled double rendering (this feature is being postponed to a later release)\r\n\r\n* Disabled user setting and forced it to Single on any save\r\n\r\n* Removed cache directory from UpdateSettings validation as we don't allow changing it.\r\n\r\n* Fix security issue with url parse\r\n\r\n* After all migrations run, update the installed version in the Database. Send that installed version on the stat service.\r\n\r\n* Dependency bot to update some security stuff\r\n\r\n* Some misc code cleanup and fixes on the typeahead (still broken)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* New Feature Stats (#1179)\r\n\r\n* When searching, search against normalized names.\r\n\r\n* Added new stat fields\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Getting Ready for Release (#1180)\r\n\r\n* One more unit test for Tachiyomi\r\n\r\n* Removed some debug code in the manga reader menu\r\n\r\n* Fixed a typeahead bug where using Enter on add new item or selected options could cause items to disappear from selected state or other visual glitches\r\n\r\n* Actually fix the selection issue. We needed to filter out selected before we access element\r\n\r\n* Cleaned up collection detail page to align to new side nav design\r\n\r\n* Cleaned up some styling on the reading list page\r\n\r\n* Fixed a bug where side nav would not be visible on the main app due to some weird redirect logic\r\n\r\n* Fixed a bug where when paging to the last page, a page will be skipped and user will have to refresh manually to view\r\n\r\n* Fixed some styling bugs on drawer for light themes. Added missing pagination colors on light themes\r\n\r\n* On mobile screens, add some padding on series-detail page\r\n\r\n* Fixed a bad test case helper\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout Part 1 (#1184)\r\n\r\n* Have actionables on series detail action bar and in title to make it easier to use.\r\n\r\n* Fixed a bug where super long titles could render over the book content\r\n\r\n* Fixed a bug in get continue point where it wasn't working in an edge case\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout (#1186)\r\n\r\n* Cleaned up some styles on the progress bar in book reader\r\n\r\n* Fixed up some phone-hidden classes and added titles around the codebase. Stat reporting on first run now takes into account that admin user wont exist.\r\n\r\n* Fixed manage library page not updating last scan time when a notification event comes in.\r\n\r\n* Integrated SeriesSort ComicInfo tag (somehow it got missed)\r\n\r\n* Some minor style changes and no results found for bookmarks on chapter detail modal\r\n\r\n* Fixed the labels in action bar on book reader so Prev/Next are in same place\r\n\r\n* Cleaned up some responsive styles around images and reduced custom classes in light of new display classes on collection detail and series detail pages\r\n\r\n* Fixed an issue with webkit browsers and book reader where the scroll to would fail as the document wasn't fully rendered. A 10ms delay seems to fix the issue.\r\n\r\n* Cleaned up some code and filtering for collections. Collection detail is missing filtering functionality somehow, disabled the button and will add in future release\r\n\r\n* Correctly validate and show a message when a user is not an admin or has change password role when going through forget password flow.\r\n\r\n* Fixed a bug on manage libraries where library last scan didn't work on first scan of a library, due to there being no updated series.\r\n\r\n* Fixed a rendering issue with text being focused on confirm email page textboxes. Fixed a bug where when deleting a theme that was default, Kavita didn't reset Dark as the default theme.\r\n\r\n* Cleaned up the naming and styles for side nav active item hover\r\n\r\n* Fixed event widget to have correct styling on eink and light\r\n\r\n* Tried to fix a rendering issue on side nav for light themes, but can't figure it out\r\n\r\n* On light more, ensure switches are green\r\n\r\n* Fixed a bug where opening a page with a preselected filter, the filter toggle button would require 2 clicks to collapse\r\n\r\n* Reverted the revert of On Deck.\r\n\r\n* Improved the upload by url experience by sending a custom fail error to UI when a url returns 401.\r\n\r\n* When deleting a library, emit a series removed event for each series removed so user's dashboards/screens update.\r\n\r\n* Fixed an api throwing an error due to text being sent back instead of json.\r\n\r\n* Fixed a refresh bug with refreshing pending invites after deleting an invite. Ensure we always refresh pending invites even if user cancel's from invite, as they might invite, then hit cancel, where invite is still active.\r\n\r\n* Fixed a bug where invited users with + in the email would fail due to validation, but UI wouldn't properly inform user.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Version bump for release\r\n\r\nCo-authored-by: ThePromidius <thepromidiusyt@gmail.com>\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>",
      "files_changed": [
        ".github/workflows/sonar-scan.yml",
        ".gitignore",
        "API.Benchmark/API.Benchmark.csproj",
        "API.Benchmark/ParseScannedFilesBenchmarks.cs",
        "API.Benchmark/ParserBenchmarks.cs",
        "API.Tests/API.Tests.csproj",
        "API.Tests/Comparers/SortComparerZeroLastTests.cs",
        "API.Tests/Helpers/EntityFactory.cs",
        "API.Tests/Parser/BookParserTests.cs",
        "API.Tests/Parser/MangaParserTests.cs",
        "API.Tests/Parser/ParserTest.cs",
        "API.Tests/Services/ArchiveServiceTests.cs",
        "API.Tests/Services/BackupServiceTests.cs",
        "API.Tests/Services/BookmarkServiceTests.cs",
        "API.Tests/Services/CleanupServiceTests.cs",
        "API.Tests/Services/DirectoryServiceTests.cs",
        "API.Tests/Services/ParseScannedFilesTests.cs",
        "API.Tests/Services/ReaderServiceTests.cs",
        "API.Tests/Services/SeriesServiceTests.cs",
        "API.Tests/Services/SiteThemeServiceTests.cs",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/macos_native.jpg",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/macos_native.png",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/output/test2_output.png",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/sorting.expected.jpg",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/sorting.expected.png",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/v10 - duplicate covers.expected.jpg",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/v10 - duplicate covers.expected.png",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/v10 - nested folder.expected.jpg",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/v10 - nested folder.expected.png",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/v10 - with folder.expected.png",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/v10.expected.jpg",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/v10.expected.png",
        "API/API.csproj",
        "API/Comparators/ChapterSortComparer.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/CollectionController.cs",
        "API/Controllers/DownloadController.cs",
        "API/Controllers/ImageController.cs",
        "API/Controllers/LibraryController.cs",
        "API/Controllers/MetadataController.cs",
        "API/Controllers/OPDSController.cs",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Controllers/ServerController.cs",
        "API/Controllers/SettingsController.cs",
        "API/Controllers/ThemeController.cs",
        "API/Controllers/UploadController.cs",
        "API/Controllers/UsersController.cs",
        "API/DTOs/Account/InviteUserDto.cs",
        "API/DTOs/Account/InviteUserResponse.cs",
        "API/DTOs/ChapterDto.cs",
        "API/DTOs/Filtering/FilterDto.cs",
        "API/DTOs/Metadata/ChapterMetadataDto.cs",
        "API/DTOs/Reader/ChapterInfoDto.cs",
        "API/DTOs/SeriesDetailDto.cs",
        "API/DTOs/SeriesDto.cs",
        "API/DTOs/SeriesMetadataDto.cs",
        "API/DTOs/Settings/ServerSettingDTO.cs",
        "API/DTOs/Stats/ServerInfoDto.cs",
        "API/DTOs/Theme/SiteThemeDto.cs",
        "API/DTOs/Theme/UpdateDefaultSiteThemeDto.cs",
        "API/DTOs/UpdateSeriesDto.cs",
        "API/DTOs/UpdateSeriesMetadataDto.cs",
        "API/DTOs/UpdateUserRole.cs",
        "API/DTOs/Uploads/UploadUrlDto.cs",
        "API/DTOs/UserDto.cs",
        "API/DTOs/UserPreferencesDto.cs",
        "API/Data/DataContext.cs",
        "API/Data/Metadata/ComicInfo.cs",
        "API/Data/Migrations/20220215163317_SiteTheme.Designer.cs",
        "API/Data/Migrations/20220215163317_SiteTheme.cs",
        "API/Data/Migrations/20220303205301_SeriesLockedFields.Designer.cs",
        "API/Data/Migrations/20220303205301_SeriesLockedFields.cs",
        "API/Data/Migrations/20220306155456_MangaReaderBackgroundAndLayoutMode.Designer.cs",
        "API/Data/Migrations/20220306155456_MangaReaderBackgroundAndLayoutMode.cs",
        "API/Data/Migrations/20220307153053_ScreenHints.Designer.cs",
        "API/Data/Migrations/20220307153053_ScreenHints.cs",
        "API/Data/Migrations/DataContextModelSnapshot.cs",
        "API/Data/Repositories/AppUserProgressRepository.cs",
        "API/Data/Repositories/ChapterRepository.cs",
        "API/Data/Repositories/LibraryRepository.cs",
        "API/Data/Repositories/ReadingListRepository.cs",
        "API/Data/Repositories/SeriesRepository.cs",
        "API/Data/Repositories/SiteThemeRepository.cs",
        "API/Data/Repositories/UserRepository.cs",
        "API/Data/Seed.cs",
        "API/Data/UnitOfWork.cs",
        "API/Entities/AppUserPreferences.cs",
        "API/Entities/AppUserProgress.cs",
        "API/Entities/Enums/LayoutMode.cs",
        "API/Entities/Enums/ReaderMode.cs",
        "API/Entities/Enums/Theme/ThemeProvider.cs",
        "API/Entities/Metadata/ChapterMetadata.cs",
        "API/Entities/Metadata/SeriesMetadata.cs",
        "API/Entities/Series.cs",
        "API/Entities/SiteTheme.cs",
        "API/Entities/Volume.cs",
        "API/Extensions/ApplicationServiceExtensions.cs",
        "API/Extensions/EnumerableExtensions.cs",
        "API/Extensions/HttpExtensions.cs",
        "API/Extensions/IdentityServiceExtensions.cs",
        "API/Helpers/AutoMapperProfiles.cs",
        "API/Helpers/Converters/ServerSettingConverter.cs",
        "API/Parser/Parser.cs",
        "API/Parser/ParserInfo.cs",
        "API/Program.cs",
        "API/Services/ArchiveService.cs",
        "API/Services/BookService.cs",
        "API/Services/BookmarkService.cs",
        "API/Services/CacheService.cs",
        "API/Services/DirectoryService.cs",
        "API/Services/DownloadService.cs",
        "API/Services/EmailService.cs",
        "API/Services/MetadataService.cs",
        "API/Services/ReaderService.cs",
        "API/Services/SeriesService.cs",
        "API/Services/TaskScheduler.cs",
        "API/Services/Tasks/BackupService.cs",
        "API/Services/Tasks/CleanupService.cs",
        "API/Services/Tasks/Scanner/ParseScannedFiles.cs",
        "API/Services/Tasks/ScannerService.cs",
        "API/Services/Tasks/SiteThemeService.cs",
        "API/Services/Tasks/StatsService.cs",
        "API/Services/Tasks/VersionUpdaterService.cs",
        "API/SignalR/EventHub.cs",
        "API/SignalR/MessageFactory.cs",
        "API/SignalR/MessageHub.cs",
        "API/SignalR/Presence/PresenceTracker.cs",
        "API/SignalR/ProgressEventType.cs",
        "API/SignalR/ProgressType.cs",
        "API/SignalR/SignalREvents.cs",
        "API/SignalR/SignalRMessage.cs",
        "API/Startup.cs",
        "INSTALL.txt",
        "Kavita.Common/Kavita.Common.csproj",
        "README.md",
        "UI/Web/angular.json",
        "UI/Web/package-lock.json",
        "UI/Web/package.json",
        "UI/Web/src/app/_guards/admin.guard.ts",
        "UI/Web/src/app/_guards/auth.guard.ts",
        "UI/Web/src/app/_guards/library-access.guard.ts",
        "UI/Web/src/app/_interceptors/error.interceptor.ts",
        "UI/Web/src/app/_interceptors/jwt.interceptor.ts",
        "UI/Web/src/app/_modals/review-series-modal/review-series-modal.component.html",
        "UI/Web/src/app/_models/chapter-metadata.ts",
        "UI/Web/src/app/_models/chapter.ts",
        "UI/Web/src/app/_models/config-data.ts",
        "UI/Web/src/app/_models/events/error-event.ts",
        "UI/Web/src/app/_models/events/file-scan-progress-event.ts",
        "UI/Web/src/app/_models/events/library-modified-event.ts",
        "UI/Web/src/app/_models/events/notification-container.ts",
        "UI/Web/src/app/_models/events/notification-progress-event.ts",
        "UI/Web/src/app/_models/events/progress-event.ts",
        "UI/Web/src/app/_models/events/refresh-metadata-event.ts",
        "UI/Web/src/app/_models/events/scan-library-progress-event.ts",
        "UI/Web/src/app/_models/events/scan-series-event.ts",
        "UI/Web/src/app/_models/events/site-theme-progress-event.ts",
        "UI/Web/src/app/_models/invite-user-response.ts",
        "UI/Web/src/app/_models/preferences/preferences.ts",
        "UI/Web/src/app/_models/preferences/reader-mode.ts",
        "UI/Web/src/app/_models/preferences/reading-direction.ts",
        "UI/Web/src/app/_models/preferences/scaling-option.ts",
        "UI/Web/src/app/_models/preferences/site-theme.ts",
        "UI/Web/src/app/_models/series-detail/series-detail.ts",
        "UI/Web/src/app/_models/series-filter.ts",
        "UI/Web/src/app/_models/series-metadata.ts",
        "UI/Web/src/app/_models/series.ts",
        "UI/Web/src/app/_models/volume.ts",
        "UI/Web/src/app/_services/account.service.ts",
        "UI/Web/src/app/_services/action-factory.service.ts",
        "UI/Web/src/app/_services/action.service.ts",
        "UI/Web/src/app/_services/image.service.ts",
        "UI/Web/src/app/_services/message-hub.service.ts",
        "UI/Web/src/app/_services/metadata.service.ts",
        "UI/Web/src/app/_services/nav.service.ts",
        "UI/Web/src/app/_services/reader.service.ts",
        "UI/Web/src/app/_services/reading-list.service.ts",
        "UI/Web/src/app/_services/series.service.ts",
        "UI/Web/src/app/_services/upload.service.ts",
        "UI/Web/src/app/admin/_modals/directory-picker/directory-picker.component.html",
        "UI/Web/src/app/admin/_modals/directory-picker/directory-picker.component.ts",
        "UI/Web/src/app/admin/_modals/library-access-modal/library-access-modal.component.html",
        "UI/Web/src/app/admin/_modals/library-editor-modal/library-editor-modal.component.html",
        "UI/Web/src/app/admin/_modals/library-editor-modal/library-editor-modal.component.ts",
        "UI/Web/src/app/admin/_modals/reset-password-modal/reset-password-modal.component.html",
        "UI/Web/src/app/admin/admin.module.ts",
        "UI/Web/src/app/admin/changelog/changelog.component.html",
        "UI/Web/src/app/admin/changelog/changelog.component.scss",
        "UI/Web/src/app/admin/changelog/changelog.component.ts",
        "UI/Web/src/app/admin/dashboard/dashboard.component.html",
        "UI/Web/src/app/admin/dashboard/dashboard.component.scss",
        "UI/Web/src/app/admin/dashboard/dashboard.component.ts",
        "UI/Web/src/app/admin/edit-user/edit-user.component.html",
        "UI/Web/src/app/admin/invite-user/invite-user.component.html",
        "UI/Web/src/app/admin/invite-user/invite-user.component.ts",
        "UI/Web/src/app/admin/manage-library/manage-library.component.html",
        "UI/Web/src/app/admin/manage-library/manage-library.component.ts",
        "UI/Web/src/app/admin/manage-settings/manage-settings.component.html",
        "UI/Web/src/app/admin/manage-system/manage-system.component.html",
        "UI/Web/src/app/admin/manage-users/manage-users.component.html",
        "UI/Web/src/app/admin/manage-users/manage-users.component.ts",
        "UI/Web/src/app/all-series/all-series.component.html",
        "UI/Web/src/app/all-series/all-series.component.ts",
        "UI/Web/src/app/announcements/announcements-routing.module.ts",
        "UI/Web/src/app/announcements/announcements.component.html",
        "UI/Web/src/app/announcements/announcements.component.scss",
        "UI/Web/src/app/announcements/announcements.component.ts",
        "UI/Web/src/app/announcements/announcements.module.ts",
        "UI/Web/src/app/announcements/changelog/changelog.component.html",
        "UI/Web/src/app/announcements/changelog/changelog.component.scss",
        "UI/Web/src/app/announcements/changelog/changelog.component.ts",
        "UI/Web/src/app/app-routing.module.ts",
        "UI/Web/src/app/app.component.html",
        "UI/Web/src/app/app.component.scss",
        "UI/Web/src/app/app.component.ts",
        "UI/Web/src/app/app.module.ts",
        "UI/Web/src/app/book-reader/book-reader.module.ts",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.html",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.ts",
        "UI/Web/src/app/cards/_modals/bookmarks-modal/bookmarks-modal.component.html",
        "UI/Web/src/app/cards/_modals/bookmarks-modal/bookmarks-modal.component.ts",
        "UI/Web/src/app/cards/_modals/bulk-add-to-collection/bulk-add-to-collection.component.html",
        "UI/Web/src/app/cards/_modals/card-details-modal/card-details-modal.component.html",
        "UI/Web/src/app/cards/_modals/card-details-modal/card-details-modal.component.ts",
        "UI/Web/src/app/cards/_modals/change-cover-image/change-cover-image-modal.component.html",
        "UI/Web/src/app/cards/_modals/change-cover-image/change-cover-image-modal.component.scss",
        "UI/Web/src/app/cards/_modals/change-cover-image/change-cover-image-modal.component.ts",
        "UI/Web/src/app/cards/_modals/edit-collection-tags/edit-collection-tags.component.html",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.html",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.scss",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.ts",
        "UI/Web/src/app/cards/bookmark/bookmark.component.html",
        "UI/Web/src/app/cards/bulk-operations/bulk-operations.component.html",
        "UI/Web/src/app/cards/bulk-operations/bulk-operations.component.scss",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.html",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.scss",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.ts",
        "UI/Web/src/app/cards/card-item/card-item.component.html",
        "UI/Web/src/app/cards/card-item/card-item.component.scss",
        "UI/Web/src/app/cards/cards.module.ts",
        "UI/Web/src/app/cards/chapter-metadata-detail/chapter-metadata-detail.component.html",
        "UI/Web/src/app/cards/chapter-metadata-detail/chapter-metadata-detail.component.ts",
        "UI/Web/src/app/cards/cover-image-chooser/cover-image-chooser.component.html",
        "UI/Web/src/app/cards/cover-image-chooser/cover-image-chooser.component.scss",
        "UI/Web/src/app/cards/cover-image-chooser/cover-image-chooser.component.ts",
        "UI/Web/src/app/cards/file-info/file-info.component.html",
        "UI/Web/src/app/cards/library-card/library-card.component.scss",
        "UI/Web/src/app/cards/series-card/series-card.component.html",
        "UI/Web/src/app/cards/series-card/series-card.component.ts",
        "UI/Web/src/app/carousel/carousel-reel/carousel-reel.component.html",
        "UI/Web/src/app/carousel/carousel-reel/carousel-reel.component.scss",
        "UI/Web/src/app/carousel/carousel-reel/carousel-reel.component.ts",
        "UI/Web/src/app/collections/all-collections/all-collections.component.html",
        "UI/Web/src/app/collections/all-collections/all-collections.component.ts",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.html",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.scss",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.ts",
        "UI/Web/src/app/collections/collections.module.ts",
        "UI/Web/src/app/dashboard/dashboard.component.html",
        "UI/Web/src/app/events-widget/events-widget.component.html",
        "UI/Web/src/app/events-widget/events-widget.component.scss",
        "UI/Web/src/app/events-widget/events-widget.component.ts",
        "UI/Web/src/app/grouped-typeahead/grouped-typeahead.component.html",
        "UI/Web/src/app/grouped-typeahead/grouped-typeahead.component.scss",
        "UI/Web/src/app/library-detail/library-detail.component.html",
        "UI/Web/src/app/library-detail/library-detail.component.ts",
        "UI/Web/src/app/library/library.component.html",
        "UI/Web/src/app/library/library.component.ts",
        "UI/Web/src/app/manga-reader/_models/chapter-info.ts",
        "UI/Web/src/app/manga-reader/_models/layout-mode.ts",
        "UI/Web/src/app/manga-reader/_models/reader-enums.ts",
        "UI/Web/src/app/manga-reader/infinite-scroller/infinite-scroller.component.html",
        "UI/Web/src/app/manga-reader/infinite-scroller/infinite-scroller.component.scss",
        "UI/Web/src/app/manga-reader/infinite-scroller/infinite-scroller.component.ts",
        "UI/Web/src/app/manga-reader/manga-reader.component.html",
        "UI/Web/src/app/manga-reader/manga-reader.component.scss",
        "UI/Web/src/app/manga-reader/manga-reader.component.ts",
        "UI/Web/src/app/manga-reader/manga-reader.module.ts",
        "UI/Web/src/app/metadata-filter/filter-settings.ts",
        "UI/Web/src/app/metadata-filter/metadata-filter.component.html",
        "UI/Web/src/app/metadata-filter/metadata-filter.component.scss",
        "UI/Web/src/app/metadata-filter/metadata-filter.component.ts",
        "UI/Web/src/app/metadata-filter/metadata-filter.module.ts",
        "UI/Web/src/app/nav-events-toggle/nav-events-toggle.component.html",
        "UI/Web/src/app/nav-events-toggle/nav-events-toggle.component.scss",
        "UI/Web/src/app/nav-events-toggle/nav-events-toggle.component.ts",
        "UI/Web/src/app/nav-header/nav-header.component.html",
        "UI/Web/src/app/nav-header/nav-header.component.scss",
        "UI/Web/src/app/nav-header/nav-header.component.ts",
        "UI/Web/src/app/not-connected/not-connected.component.html",
        "UI/Web/src/app/not-connected/not-connected.component.scss",
        "UI/Web/src/app/not-connected/not-connected.component.ts",
        "UI/Web/src/app/on-deck/on-deck.component.html",
        "UI/Web/src/app/on-deck/on-deck.component.scss",
        "UI/Web/src/app/on-deck/on-deck.component.ts",
        "UI/Web/src/app/person-role.pipe.ts",
        "UI/Web/src/app/pipe/person-role.pipe.ts",
        "UI/Web/src/app/pipe/pipe.module.ts",
        "UI/Web/src/app/pipe/publication-status.pipe.ts",
        "UI/Web/src/app/pipe/safe-html.pipe.ts",
        "UI/Web/src/app/pipe/sentence-case.pipe.ts",
        "UI/Web/src/app/publication-status.pipe.ts",
        "UI/Web/src/app/reader-shared/_modals/shorcuts-modal/shorcuts-modal.component.html",
        "UI/Web/src/app/reader-shared/_modals/shorcuts-modal/shorcuts-modal.component.scss",
        "UI/Web/src/app/reader-shared/_modals/shorcuts-modal/shorcuts-modal.component.ts",
        "UI/Web/src/app/reader-shared/reader-shared.module.ts",
        "UI/Web/src/app/reading-list/_modals/add-to-list-modal/add-to-list-modal.component.html",
        "UI/Web/src/app/reading-list/_modals/add-to-list-modal/add-to-list-modal.component.scss",
        "UI/Web/src/app/reading-list/_modals/edit-reading-list-modal/edit-reading-list-modal.component.html",
        "UI/Web/src/app/reading-list/dragable-ordered-list/dragable-ordered-list.component.html",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.html",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.ts",
        "UI/Web/src/app/reading-list/reading-list.module.ts",
        "UI/Web/src/app/reading-list/reading-list.router.module.ts",
        "UI/Web/src/app/reading-list/reading-lists/reading-lists.component.html",
        "UI/Web/src/app/recently-added/recently-added.component.html",
        "UI/Web/src/app/recently-added/recently-added.component.ts",
        "UI/Web/src/app/registration/add-email-to-account-migration-modal/add-email-to-account-migration-modal.component.html",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.html",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.scss",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.ts",
        "UI/Web/src/app/registration/confirm-migration-email/confirm-migration-email.component.ts",
        "UI/Web/src/app/registration/confirm-reset-password/confirm-reset-password.component.html",
        "UI/Web/src/app/registration/register/register.component.html",
        "UI/Web/src/app/registration/register/register.component.scss",
        "UI/Web/src/app/registration/register/register.component.ts",
        "UI/Web/src/app/registration/reset-password/reset-password.component.html",
        "UI/Web/src/app/registration/reset-password/reset-password.component.scss",
        "UI/Web/src/app/registration/reset-password/reset-password.component.ts",
        "UI/Web/src/app/registration/splash-container/splash-container.component.html",
        "UI/Web/src/app/registration/splash-container/splash-container.component.scss",
        "UI/Web/src/app/series-detail/series-detail.component.html",
        "UI/Web/src/app/series-detail/series-detail.component.scss",
        "UI/Web/src/app/series-detail/series-detail.component.ts",
        "UI/Web/src/app/series-metadata-detail/series-metadata-detail.component.html",
        "UI/Web/src/app/series-metadata-detail/series-metadata-detail.component.scss",
        "UI/Web/src/app/series-metadata-detail/series-metadata-detail.component.ts",
        "UI/Web/src/app/shared/_services/utility.service.ts",
        "UI/Web/src/app/shared/badge-expander/badge-expander.component.html",
        "UI/Web/src/app/shared/badge-expander/badge-expander.component.scss",
        "UI/Web/src/app/shared/badge-expander/badge-expander.component.ts",
        "UI/Web/src/app/shared/circular-loader/circular-loader.component.html",
        "UI/Web/src/app/shared/circular-loader/circular-loader.component.scss",
        "UI/Web/src/app/shared/confirm-dialog/_models/confirm-button.ts",
        "UI/Web/src/app/shared/confirm-dialog/confirm-dialog.component.html",
        "UI/Web/src/app/shared/confirm.service.ts",
        "UI/Web/src/app/shared/drawer/drawer.component.html",
        "UI/Web/src/app/shared/drawer/drawer.component.scss",
        "UI/Web/src/app/shared/image/image.component.html",
        "UI/Web/src/app/shared/image/image.component.ts",
        "UI/Web/src/app/shared/person-badge/person-badge.component.html",
        "UI/Web/src/app/shared/person-badge/person-badge.component.scss",
        "UI/Web/src/app/shared/read-more/read-more.component.scss",
        "UI/Web/src/app/shared/safe-html.pipe.ts",
        "UI/Web/src/app/shared/sentence-case.pipe.ts",
        "UI/Web/src/app/shared/shared.module.ts",
        "UI/Web/src/app/shared/tag-badge/tag-badge.component.scss",
        "UI/Web/src/app/shared/update-notification/update-notification-modal.component.html",
        "UI/Web/src/app/sidenav/side-nav-companion-bar/side-nav-companion-bar.component.html",
        "UI/Web/src/app/sidenav/side-nav-companion-bar/side-nav-companion-bar.component.scss",
        "UI/Web/src/app/sidenav/side-nav-companion-bar/side-nav-companion-bar.component.ts",
        "UI/Web/src/app/sidenav/side-nav-item/side-nav-item.component.html",
        "UI/Web/src/app/sidenav/side-nav-item/side-nav-item.component.scss",
        "UI/Web/src/app/sidenav/side-nav-item/side-nav-item.component.ts",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.html",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.scss",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.ts",
        "UI/Web/src/app/sidenav/sidenav.module.ts",
        "UI/Web/src/app/theme-test/theme-test.component.html",
        "UI/Web/src/app/theme-test/theme-test.component.scss",
        "UI/Web/src/app/theme-test/theme-test.component.ts",
        "UI/Web/src/app/theme.service.ts",
        "UI/Web/src/app/typeahead/typeahead-settings.ts",
        "UI/Web/src/app/typeahead/typeahead.component.html",
        "UI/Web/src/app/typeahead/typeahead.component.scss",
        "UI/Web/src/app/typeahead/typeahead.component.ts",
        "UI/Web/src/app/typeahead/typeahead.module.ts",
        "UI/Web/src/app/user-login/user-login.component.html",
        "UI/Web/src/app/user-login/user-login.component.scss",
        "UI/Web/src/app/user-login/user-login.component.ts",
        "UI/Web/src/app/user-settings/_pipes/site-theme-provider.pipe.spec.ts",
        "UI/Web/src/app/user-settings/_pipes/site-theme-provider.pipe.ts",
        "UI/Web/src/app/user-settings/api-key/api-key.component.html",
        "UI/Web/src/app/user-settings/series-bookmarks/series-bookmarks.component.html",
        "UI/Web/src/app/user-settings/theme-manager/theme-manager.component.html",
        "UI/Web/src/app/user-settings/theme-manager/theme-manager.component.scss",
        "UI/Web/src/app/user-settings/theme-manager/theme-manager.component.ts",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.html",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.scss",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.ts",
        "UI/Web/src/app/user-settings/user-settings.module.ts",
        "UI/Web/src/assets/themes/dark.scss",
        "UI/Web/src/environments/environment.ts",
        "UI/Web/src/main.ts",
        "UI/Web/src/polyfills.ts",
        "UI/Web/src/styles.scss",
        "UI/Web/src/theme/_colors.scss",
        "UI/Web/src/theme/_toastr.scss",
        "UI/Web/src/theme/_variables.scss",
        "UI/Web/src/theme/components/_accordion.scss",
        "UI/Web/src/theme/components/_anchors.scss",
        "UI/Web/src/theme/components/_breadcrumb.scss",
        "UI/Web/src/theme/components/_buttons.scss",
        "UI/Web/src/theme/components/_card.scss",
        "UI/Web/src/theme/components/_carousel.scss",
        "UI/Web/src/theme/components/_checkbox.scss",
        "UI/Web/src/theme/components/_dropdown.scss",
        "UI/Web/src/theme/components/_input.scss",
        "UI/Web/src/theme/components/_list.scss",
        "UI/Web/src/theme/components/_modal.scss",
        "UI/Web/src/theme/components/_nav.scss",
        "UI/Web/src/theme/components/_navbar.scss",
        "UI/Web/src/theme/components/_pagination.scss",
        "UI/Web/src/theme/components/_popover.scss",
        "UI/Web/src/theme/components/_radios.scss",
        "UI/Web/src/theme/components/_ratingstar.scss",
        "UI/Web/src/theme/components/_selects.scss",
        "UI/Web/src/theme/components/_sidenav.scss",
        "UI/Web/src/theme/components/_slider.scss",
        "UI/Web/src/theme/components/_tagbadge.scss",
        "UI/Web/src/theme/components/_toast.scss",
        "UI/Web/src/theme/components/progress.scss",
        "UI/Web/src/theme/themes/dark.scss",
        "UI/Web/src/theme/themes/e-ink.scss",
        "UI/Web/src/theme/themes/light.scss",
        "UI/Web/src/theme/utilities/_animations.scss",
        "UI/Web/src/theme/utilities/_global.scss",
        "UI/Web/src/theme/utilities/_utilities.scss"
      ],
      "insertions": 23427,
      "deletions": 14075,
      "original_hash": "8aced68e5b0f4ca039e560a1e709c7e4911ada20",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "2193451dfb9e3337220e29303b653f49e0f2bf99",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2022-02-12T14:55:01-08:00",
      "message": "Email Hotfix (#1068)\n\n* Auto approve migration emails if the password is correct. Change Email Link dump to Critical to ensure it makes it into the logs.\r\n\r\n* Bump the version",
      "files_changed": [
        ".gitignore",
        "API/Controllers/AccountController.cs",
        "API/config/kavita.db.dik",
        "API/config/kavita.db.new",
        "Kavita.Common/Kavita.Common.csproj",
        "UI/Web/src/app/registration/add-email-to-account-migration-modal/add-email-to-account-migration-modal.component.ts"
      ],
      "insertions": 33,
      "deletions": 32,
      "original_hash": "2193451dfb9e3337220e29303b653f49e0f2bf99",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "efb527035de8fd2fb91c700b1de0d6600154633e",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2022-01-30T14:45:57-08:00",
      "message": "Account Email Support (#1000)\n\n* Moved the Server Settings out into a button on nav header\r\n\r\n* Refactored Mange Users page to the new design (skeleton). Implemented skeleton code for Invite User.\r\n\r\n* Hashed out more of the code, but need to move all the email code to a Kavita controlled API server due to password credentials.\r\n\r\n* Cleaned up some warnings\r\n\r\n* When no user exists for an api key in Plugin controller, throw 401.\r\n\r\n* Hooked in the ability to check if the Kavita instance can be accessed externally so we can determine if the user can invite or not.\r\n\r\n* Hooked up some logic if the user's server isn't accessible, then default to old flow\r\n\r\n* Basic flow is working for confirm email. Needs validation, error handling, etc.\r\n\r\n* Refactored Password validation to account service\r\n\r\n* Cleaned up the code in confirm-email to work much better.\r\n\r\n* Refactored the login page to have a container functionality, so we can reuse the styles on multiple pages (registration pages). Hooked up the code for confirm email.\r\n\r\n* Messy code, but making progress. Refactored Register to be used only for first time user registration. Added a new register component to handle first time flow only.\r\n\r\n* Invite works much better, still needs a bit of work for non-accessible server setup. Started work on underlying manage users page to meet new design.\r\n\r\n* Changed (you) to a star to indicate who you're logged in as.\r\n\r\n* Inviting a user is now working and tested fully.\r\n\r\n* Removed the register member component as we now have invite and confirm components.\r\n\r\n* Editing a user is now working. Username change and Role/Library access from within one screen. Email changing is on hold.\r\n\r\n* Cleaned up code for edit user and disabled email field for now.\r\n\r\n* Cleaned up the code to indicate changing a user's email is not possible.\r\n\r\n* Implemented a migration for existing accounts so they can validate their emails and still login.\r\n\r\n* Change url for email server\r\n\r\n* Implemented the ability to resend an email confirmation code (or regenerate for non accessible servers). Fixed an overflow on the confirm dialog.\r\n\r\n* Took care of some code cleanup\r\n\r\n* Removed 3 db calls from cover refresh and some misc cleanup\r\n\r\n* Fixed a broken test",
      "files_changed": [
        ".gitignore",
        "API.Benchmark/TestBenchmark.cs",
        "API.Tests/Extensions/SeriesExtensionsTests.cs",
        "API.Tests/Helpers/CacheHelperTests.cs",
        "API.Tests/Helpers/EntityFactory.cs",
        "API.Tests/Parser/ComicParserTests.cs",
        "API.Tests/Parser/MangaParserTests.cs",
        "API.Tests/Parser/ParserTest.cs",
        "API.Tests/Services/DirectoryServiceTests.cs",
        "API.Tests/Services/ParseScannedFilesTests.cs",
        "API.Tests/Services/ReaderServiceTests.cs",
        "API.Tests/Services/ScannerServiceTests.cs",
        "API/Constants/PolicyConstants.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BookController.cs",
        "API/Controllers/DownloadController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Controllers/ServerController.cs",
        "API/Controllers/UsersController.cs",
        "API/DTOs/Account/ConfirmEmailDto.cs",
        "API/DTOs/Account/ConfirmMigrationEmailDto.cs",
        "API/DTOs/Account/InviteUserDto.cs",
        "API/DTOs/Account/MigrateUserEmailDto.cs",
        "API/DTOs/Account/UpdateUserDto.cs",
        "API/DTOs/ChapterDto.cs",
        "API/DTOs/Email/ConfirmationEmailDto.cs",
        "API/DTOs/Email/EmailMigrationDto.cs",
        "API/DTOs/Filtering/ReadStatus.cs",
        "API/DTOs/MemberDto.cs",
        "API/DTOs/Reader/ChapterInfoDto.cs",
        "API/DTOs/RegisterDto.cs",
        "API/DTOs/UserDto.cs",
        "API/Data/MigrateConfigFiles.cs",
        "API/Data/Repositories/LibraryRepository.cs",
        "API/Data/Repositories/TagRepository.cs",
        "API/Data/Repositories/UserRepository.cs",
        "API/Data/Repositories/VolumeRepository.cs",
        "API/Entities/Enums/AgeRating.cs",
        "API/Entities/Metadata/SeriesMetadata.cs",
        "API/Extensions/ApplicationServiceExtensions.cs",
        "API/Extensions/HttpExtensions.cs",
        "API/Extensions/IdentityServiceExtensions.cs",
        "API/Extensions/ParserInfoListExtensions.cs",
        "API/Helpers/ParserInfoHelpers.cs",
        "API/Helpers/SQLHelper.cs",
        "API/Parser/Parser.cs",
        "API/Program.cs",
        "API/Services/AccountService.cs",
        "API/Services/ArchiveService.cs",
        "API/Services/BookService.cs",
        "API/Services/CacheService.cs",
        "API/Services/DirectoryService.cs",
        "API/Services/EmailService.cs",
        "API/Services/MetadataService.cs",
        "API/Services/ReaderService.cs",
        "API/Services/TaskScheduler.cs",
        "API/Services/Tasks/ScannerService.cs",
        "API/Startup.cs",
        "Kavita.Common/AppSettingsConfig.cs",
        "Kavita.Common/Configuration.cs",
        "UI/Web/src/app/_models/member.ts",
        "UI/Web/src/app/_services/account.service.ts",
        "UI/Web/src/app/_services/member.service.ts",
        "UI/Web/src/app/_services/server.service.ts",
        "UI/Web/src/app/admin/_modals/edit-rbs-modal/edit-rbs-modal.component.ts",
        "UI/Web/src/app/admin/_modals/library-access-modal/library-access-modal.component.ts",
        "UI/Web/src/app/admin/admin.module.ts",
        "UI/Web/src/app/admin/edit-user/edit-user.component.html",
        "UI/Web/src/app/admin/edit-user/edit-user.component.scss",
        "UI/Web/src/app/admin/edit-user/edit-user.component.ts",
        "UI/Web/src/app/admin/invite-user/invite-user.component.html",
        "UI/Web/src/app/admin/invite-user/invite-user.component.scss",
        "UI/Web/src/app/admin/invite-user/invite-user.component.ts",
        "UI/Web/src/app/admin/library-selector/library-selector.component.html",
        "UI/Web/src/app/admin/library-selector/library-selector.component.scss",
        "UI/Web/src/app/admin/library-selector/library-selector.component.ts",
        "UI/Web/src/app/admin/manage-users/manage-users.component.html",
        "UI/Web/src/app/admin/manage-users/manage-users.component.ts",
        "UI/Web/src/app/admin/role-selector/role-selector.component.html",
        "UI/Web/src/app/admin/role-selector/role-selector.component.scss",
        "UI/Web/src/app/admin/role-selector/role-selector.component.ts",
        "UI/Web/src/app/app-routing.module.ts",
        "UI/Web/src/app/nav-header/nav-header.component.html",
        "UI/Web/src/app/register-member/register-member.component.html",
        "UI/Web/src/app/register-member/register-member.component.scss",
        "UI/Web/src/app/register-member/register-member.component.ts",
        "UI/Web/src/app/registration/add-email-to-account-migration-modal/add-email-to-account-migration-modal.component.html",
        "UI/Web/src/app/registration/add-email-to-account-migration-modal/add-email-to-account-migration-modal.component.scss",
        "UI/Web/src/app/registration/add-email-to-account-migration-modal/add-email-to-account-migration-modal.component.ts",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.html",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.scss",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.ts",
        "UI/Web/src/app/registration/confirm-migration-email/confirm-migration-email.component.html",
        "UI/Web/src/app/registration/confirm-migration-email/confirm-migration-email.component.scss",
        "UI/Web/src/app/registration/confirm-migration-email/confirm-migration-email.component.ts",
        "UI/Web/src/app/registration/register/register.component.html",
        "UI/Web/src/app/registration/register/register.component.scss",
        "UI/Web/src/app/registration/register/register.component.ts",
        "UI/Web/src/app/registration/registration.module.ts",
        "UI/Web/src/app/registration/registration.router.module.ts",
        "UI/Web/src/app/registration/splash-container/splash-container.component.html",
        "UI/Web/src/app/registration/splash-container/splash-container.component.scss",
        "UI/Web/src/app/registration/splash-container/splash-container.component.ts",
        "UI/Web/src/app/shared/confirm-dialog/confirm-dialog.component.html",
        "UI/Web/src/app/shared/shared.module.ts",
        "UI/Web/src/app/user-login/user-login.component.html",
        "UI/Web/src/app/user-login/user-login.component.ts",
        "UI/Web/src/assets/themes/dark.scss",
        "UI/Web/src/styles.scss"
      ],
      "insertions": 2040,
      "deletions": 406,
      "original_hash": "efb527035de8fd2fb91c700b1de0d6600154633e",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "9c31f7e7c81b919923cb2e3857439ec0d16243e4",
      "author": "Joseph Milazzo",
      "author_email": "josephmajora@gmail.com",
      "committed_date": "2022-08-08T13:22:38-07:00",
      "message": "v0.5.4.1 - Security Hotfix (#1414)\n\n* Updated our security file with our Huntr.\r\n\r\n* Fixed a security vulnerability where through the API, an unauthorized user could delete/modify reading lists that did not belong to them.\r\n\r\nFixed a bug where when creating a reading list with the name of another users, the API would throw an exception (but reading list would still get created)\r\n\r\n* Fixed a security vulnerability where through the API, an unauthorized user could delete/modify reading lists that did not belong to them.\r\n\r\nFixed a bug where when creating a reading list with the name of another users, the API would throw an exception (but reading list would still get created)\r\n\r\n* Ensure all reading list apis are authorized\r\n\r\n* Ensured all APIs require authentication, except those that explicitly don't. All APIs are default requiring Authentication.\r\n\r\nFixed a security vulnerability which would allow a user to take over an admin account.\r\n\r\n* Fixed a bug where cover-upload would accept filenames that were not expected.\r\n\r\n* Explicitly check that a user has access to the pdf file before we serve it back.\r\n\r\n* Enabled lock out when invalid user auth occurs. After 5 invalid auths, the user account will be locked out for 10 mins.\r\n\r\n* Version bump for hotfix release",
      "files_changed": [
        "API/Controllers/AccountController.cs",
        "API/Controllers/AdminController.cs",
        "API/Controllers/BaseApiController.cs",
        "API/Controllers/FallbackController.cs",
        "API/Controllers/ImageController.cs",
        "API/Controllers/OPDSController.cs",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/ThemeController.cs",
        "API/Controllers/UploadController.cs",
        "API/Data/Repositories/ReadingListRepository.cs",
        "API/Extensions/IdentityServiceExtensions.cs",
        "API/Services/ImageService.cs",
        "Kavita.Common/Kavita.Common.csproj",
        "README.md",
        "SECURITY.md"
      ],
      "insertions": 171,
      "deletions": 50,
      "original_hash": "9c31f7e7c81b919923cb2e3857439ec0d16243e4",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "6e1b227e65811b49c2968f8c8ef261987c97373a",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-06-18T07:37:48-05:00",
      "message": "Transaction Support (#309)\n\n* Added transactions to UnitOfWork and refactored code to use it.\r\n\r\n* This included blank UI fix from Kavita-webui",
      "files_changed": [
        "API/Controllers/AccountController.cs",
        "API/Controllers/CollectionController.cs",
        "API/Controllers/LibraryController.cs",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Controllers/SettingsController.cs",
        "API/Controllers/UsersController.cs",
        "API/Data/UnitOfWork.cs",
        "API/Interfaces/IUnitOfWork.cs",
        "API/Services/MetadataService.cs",
        "API/Services/Tasks/ScannerService.cs"
      ],
      "insertions": 162,
      "deletions": 118,
      "original_hash": "6e1b227e65811b49c2968f8c8ef261987c97373a",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "8220709b4c0f6ffe876751e8f3edcd6632c03d36",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-01-21T11:15:42-06:00",
      "message": "Implemented ability to reset a user's password.",
      "files_changed": [
        "API/Controllers/AccountController.cs",
        "API/DTOs/ResetPasswordDto.cs",
        "API/Middleware/ExceptionMiddleware.cs",
        "API/Startup.cs"
      ],
      "insertions": 31,
      "deletions": 4,
      "original_hash": "8220709b4c0f6ffe876751e8f3edcd6632c03d36",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "a057e3ce1d7f44404e3a9dea22faf73edce9d5f4",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-01-23T17:44:48-06:00",
      "message": "Lots of bug fixes around publishing and handling weird cases on a real manga library. Implemented ability to have Volumes number 0 aka just latest chapters. Refactored DirectoryService code for scanning into it's own service. Lots of debug code, will be cleaned up later.",
      "files_changed": [
        "API.Tests/ParserTest.cs",
        "API/API.csproj",
        "API/Controllers/AccountController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Controllers/SettingsController.cs",
        "API/DTOs/RegisterDto.cs",
        "API/DTOs/ResetPasswordDto.cs",
        "API/Data/LibraryRepository.cs",
        "API/Data/Seed.cs",
        "API/Data/SeriesRepository.cs",
        "API/Extensions/ApplicationServiceExtensions.cs",
        "API/IO/ImageProvider.cs",
        "API/Interfaces/IDirectoryService.cs",
        "API/Interfaces/ILibraryRepository.cs",
        "API/Interfaces/IScannerService.cs",
        "API/Interfaces/ISeriesRepository.cs",
        "API/Interfaces/ITaskScheduler.cs",
        "API/Parser/Parser.cs",
        "API/Services/CacheService.cs",
        "API/Services/DirectoryService.cs",
        "API/Services/ScannerService.cs",
        "API/Services/TaskScheduler.cs",
        "API/Startup.cs",
        "API/appsettings.Development.json"
      ],
      "insertions": 589,
      "deletions": 472,
      "original_hash": "a057e3ce1d7f44404e3a9dea22faf73edce9d5f4",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "6c73f8b61acb45dd0f2df22996f92dfb605a7a6d",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2022-01-22T06:36:32-08:00",
      "message": "Less Logging In (#978)\n\n* Implemented the framework for Refresh Token. Needs testing.\r\n\r\n* Implemented Refresh Tokens. Users are issued tokens that last 7 days, just before the 7 days, the UI will request a new token to avoid having to re-authenticate.",
      "files_changed": [
        "API/Controllers/AccountController.cs",
        "API/DTOs/Account/TokenRequestDto.cs",
        "API/DTOs/UserDto.cs",
        "API/Extensions/IdentityServiceExtensions.cs",
        "API/Services/TokenService.cs",
        "UI/Web/src/app/_models/user.ts",
        "UI/Web/src/app/_services/account.service.ts",
        "UI/Web/src/app/app.component.ts"
      ],
      "insertions": 125,
      "deletions": 5,
      "original_hash": "6c73f8b61acb45dd0f2df22996f92dfb605a7a6d",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "8f7df85d496be3f6166c8286f9b8ebae64152c07",
      "author": "Andrew Song",
      "author_email": "asong641@gmail.com",
      "committed_date": "2020-12-21T09:24:21-06:00",
      "message": "Refractor token auth stuff to use identiycore framework",
      "files_changed": [
        "API/API.csproj",
        "API/Controllers/AccountController.cs",
        "API/Controllers/LibraryController.cs",
        "API/Data/DataContext.cs",
        "API/Data/Migrations/DataContextModelSnapshot.cs",
        "API/Data/Seed.cs",
        "API/Entities/AppRole.cs",
        "API/Entities/AppUser.cs",
        "API/Entities/AppUserRole.cs",
        "API/Extensions/IdentityServiceExtensions.cs",
        "API/Helpers/AutoMapperProfiles.cs",
        "API/Interfaces/ITokenService.cs",
        "API/Program.cs",
        "API/Services/TokenService.cs"
      ],
      "insertions": 376,
      "deletions": 49,
      "original_hash": "8f7df85d496be3f6166c8286f9b8ebae64152c07",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "8ff123e06caae699a5bf3049492775afd6c39a09",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2022-02-01T06:04:23-08:00",
      "message": "Forgot Password (#1017)\n\n* Implemented forgot password flow. Fixed a bug in manage user where admins were showing the Sharing With section.\r\n\r\n* Cleaned up the reset password flow.\r\n\r\n* Reverted some debug code\r\n\r\n* Fixed an issue with invites due to ImmutableArray not being set.",
      "files_changed": [
        "API/API.csproj",
        "API/Constants/PolicyConstants.cs",
        "API/Controllers/AccountController.cs",
        "API/DTOs/Account/ConfirmPasswordResetDto.cs",
        "API/DTOs/Email/PasswordResetEmailDto.cs",
        "API/DTOs/RegisterDto.cs",
        "API/Data/Repositories/UserRepository.cs",
        "API/Services/EmailService.cs",
        "API/Services/ReaderService.cs",
        "API/Services/Tasks/CleanupService.cs",
        "UI/Web/src/app/_models/member.ts",
        "UI/Web/src/app/_services/account.service.ts",
        "UI/Web/src/app/_services/member.service.ts",
        "UI/Web/src/app/admin/manage-users/manage-users.component.html",
        "UI/Web/src/app/admin/manage-users/manage-users.component.ts",
        "UI/Web/src/app/registration/confirm-reset-password/confirm-reset-password.component.html",
        "UI/Web/src/app/registration/confirm-reset-password/confirm-reset-password.component.scss",
        "UI/Web/src/app/registration/confirm-reset-password/confirm-reset-password.component.ts",
        "UI/Web/src/app/registration/register/register.component.html",
        "UI/Web/src/app/registration/register/register.component.ts",
        "UI/Web/src/app/registration/registration.module.ts",
        "UI/Web/src/app/registration/registration.router.module.ts",
        "UI/Web/src/app/registration/reset-password/reset-password.component.html",
        "UI/Web/src/app/registration/reset-password/reset-password.component.scss",
        "UI/Web/src/app/registration/reset-password/reset-password.component.ts",
        "UI/Web/src/app/registration/splash-container/splash-container.component.scss",
        "UI/Web/src/app/user-login/user-login.component.html"
      ],
      "insertions": 271,
      "deletions": 38,
      "original_hash": "8ff123e06caae699a5bf3049492775afd6c39a09",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "1a0fd3445db997f6fd9091f03c1730940a31a38c",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2022-01-20T08:54:08-08:00",
      "message": "Reading List Change (#972)\n\n* Allow an admin to delete another user's reading list\r\n\r\n* Allow an admin to delete another user's reading list",
      "files_changed": [
        "API/Controllers/ReadingListController.cs"
      ],
      "insertions": 5,
      "deletions": 2,
      "original_hash": "1a0fd3445db997f6fd9091f03c1730940a31a38c",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "f9b3f1aeb5bff2d69b061c86dce04c3faff12c61",
      "author": "Joseph Milazzo",
      "author_email": "josephmajora@gmail.com",
      "committed_date": "2022-05-21T16:42:55-07:00",
      "message": "v0.5.3 - Book Reader Enhancements, Related Series, and More! (#1272)\n\n* Angular Upgrade (#1059)\r\n\r\n* Upgraded to Angular 12\r\n\r\n* Bump ng-bootstrap for upgrade\r\n\r\n* Angular 13 upgrade, ng-bootstrap bump\r\n\r\n* Angular 13 upgrade (broken)\r\n\r\n* Angular 13 upgrade. CSS is broken completely\r\n\r\n* Angular 13 upgrade is complete.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Added beta disclaimer (#1065)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Auto approve migration emails if the password is correct. Change Email Link dump to Critical to ensure it makes it into the logs. (#1069)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Adding discord roles (#1070)\r\n\r\n* Adding discord roles\r\n\r\n# Added\r\n- Added: Added Discord roles to automated build discord notification.\r\n\r\n* update\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Custom Theme Support (#1077)\r\n\r\n* Started the migration to bootstrap 5. Introduced a breakpoint system that bootstrap reflects for our screens.\r\n\r\n* sr only migrated\r\n\r\n* mr/ml -> me/ms\r\n\r\n* pl/pr -> ps/pe\r\n\r\n* btn-block\r\n\r\n* removed input-group-append\r\n\r\n* Added form-label to all labels\r\n\r\n* Added some style overrides for inputs\r\n\r\n* Replaced form-group with mb-3\r\n\r\n* Ignore journal files\r\n\r\n* Update media to d-flex/flex-grow-1\r\n\r\n* Fixed reading list detail page\r\n\r\n* For develop builds, don't inline critical styles\r\n\r\n* Fixed some downstream security issues\r\n\r\n* Fixed a layout issue in series detail\r\n\r\n* Fixed issue with btn-light not having background color. Updated layout for series detail metadata\r\n\r\n* Cleaned up nav search\r\n\r\n* Laid out the organization for custom theme components. Update _inputs.scss with variable overrides and depending on theme, it will just work.\r\n\r\n* Lots of theming work\r\n\r\n* Added inputs to the theme page\r\n\r\n* Login and input placeholder changes\r\n\r\n- Fixed login screen centering issue on all devices\r\n- Changed the format of the login screen\r\n- Change the input placeholder color\r\n\r\n* Added checkbox styles\r\n\r\n* Refactored tagbadges and removed some ngdeep selectors\r\n\r\n* Added nav bar component and refactored some styles into event widget\r\n\r\n* Cleaned nav events again and made dedicated popover body\r\n\r\n* Finished pagination component\r\n\r\n* Fixed up some styles with buttons\r\n\r\n* refactored dropdown component\r\n\r\n* Update accordion component\r\n\r\n* Refactored breadcrumbs and rating star. Fixed a missing style for cards\r\n\r\n* Fixed some styling issues on person badge, added modal component, and some global styles\r\n\r\n* Finished moving everything within dark to component files\r\n\r\n* Fixed up filter buttons, move card styles into a component theme, fixed slider style\r\n\r\n* Refactored library card and grouped typeahead\r\n\r\n* Updated normal typeahead component and reduced amount of ngdeep selector\r\n\r\n* Refactored grid breakpoints to be available by css variable, but it's hardcoded into the app\r\n\r\n* Ensure breakpoints are defined per theme\r\n\r\n* Fixed up some styling overrides and customization for nav links and alt button\r\n\r\n* Removed some deep styles, moved css out of splash container and brough back labels for login page\r\n\r\n* Finished css variable refactor\r\n\r\n* Refactored all the theme variable definitions into files for each theme.\r\n\r\n* Added back bootstrap overrides\r\n\r\n* Added a note about bootstrap theme colors being not-possible to swap out at runtime\r\n\r\n* Cleaned up some dead code\r\n\r\n* Implemented the ability to set a custom theme on the site. Cleaned up misc code throughout.\r\n\r\n* Additional changes\r\n\r\n- Fixed nav where \"kavita\" was not hiding correctly on small viewports\r\n- Fixed search bar to make the behavior more consistent\r\n- Fixed accordion buttons\r\n- Changed accordion buttons to be more responsive\r\n- Added radio button colors\r\n- Fixed radios on theme test page\r\n- Changed login and reset password card layouts to be more consistent.\r\n- Added primary color shade for when darker shading is needed.\r\n\r\n* Built a basic site, allow the user to apply different themes, refactored nav service code out.\r\n\r\n* Implemented the ability update a user's theme\r\n\r\n* Added unit tests for Scan and Get Content in SiteThemeService.\r\n\r\n* Fixed a bug in the login code and Pref code which wasn't joining on SiteTheme table. Wrote Unit tests and the UI component to manage current theme.\r\n\r\n* Implemented scan so that it manages custom themes with unit tests\r\n\r\n* Component updates\r\n\r\n- Repositioning style ordering\r\n- Adding indicator override\r\n- Adding select styles\r\n\r\n* SignlaR integration, some fixes when creating custom entities, one single migration. Just login functionality left.\r\n\r\n* More ui updated\r\n\r\n- Added .no-hover to prevent hover on elements where not needed\r\n- Changed all selects I could find to appropriate class\r\n- Changed up nav tabs to work more like bootstrap tabs than pills\r\n- Added padding to top of some containers to make styles consistent\r\n- Added ability to change navbar fontawesome icon colors\r\n- removed some unecessary inline styling\r\n- Changed radio button to appropriate class\r\n- Toned down primate color, a bit too bright for dark theme.\r\n- Added ability to change button fontawesome icon color\r\n\r\n* nav-tab fix for series-detail\r\n\r\n* Added themes folder to gitignore\r\n\r\n* Adding card overlay\r\n\r\n* Fixing up light theme\r\n\r\n* Everything is done. Only bug is that color-scheme isn't being set properly from css variable.\r\n\r\n* Checkboxes have pointer by default. Confirm/Confirm email use default (dark) theme by default\r\n\r\n* Fixed an error where color-scheme wasn't reflecting correctly on themes on first load\r\n\r\n* Fixed user preferences not available on login\r\n\r\n* Changing dual radios to switches and color tweaks\r\n\r\n* disabled primary APCA fix\r\n\r\n* button APCA fixes\r\n\r\n* Fixed some timing issues with first load and image service\r\n\r\n* Fixed swiper issues from upgrade\r\n\r\n* Changed themes to be scss files again and adjusted Seed code\r\n\r\n* Migrated carousel to css variables. Fixed a broken animation for search.\r\n\r\n* Cleaned up some backend smells\r\n\r\n* Fixed white border outline on nav tabs, added some variables for header\r\n\r\n* Nav bar has been css variable-ified\r\n\r\n* Added some basic eink stuff to make the app useable\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fix an issue for first time running theme code, theme will not be available (#1081)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Event Widget Update (#1098)\r\n\r\n* Took care of some notes in the code\r\n\r\n* Fixed an issue where Extra might get flagged as special too early, if in a word like Extraordinary\r\n\r\n* Moved Tag cleanup code into Scanner service. Added a SplitQuery to another heavy API. Refactored Scan loop to remove parallelism and use async instead.\r\n\r\n* Lots of rework on the codebase to support detailed messages and easier management of message sending. Need to take a break on this work.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Fixed merge issue\r\n\r\n* Fixed unit tests\r\n\r\n* CoverUpdate is now hooked into new ProgressEvent structure\r\n\r\n* Refactored code to remove custom observables and have everything use standard messages$\r\n\r\n* Refactored a ton of instances to NotificationProgressEvent style and tons of the UI to respect that too. UI is still a bit buggy, but wholistically the work is done.\r\n\r\n* Working much better. Sometimes events come in too fast. Currently cover update progress doesn't display on UI\r\n\r\n* Fixed unit tests\r\n\r\n* Removed SignalREvent to minimize internal event types. Updated the UI to use progress bars. Finished SiteThemeService.\r\n\r\n* Merged metadata refresh progress events and changed library scan events to merge cleaner in the UI\r\n\r\n* Changed RefreshMetadataProgress to CoverUpdateProgress to reflect the event better.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked some of the emitting code\r\n\r\n* Some css, but pretty bad. Robbie please save me\r\n\r\n* Removed a todo\r\n\r\n* styling update\r\n\r\n* Only send filename on FileScanProgress\r\n\r\n* Some console.log spam cleanup\r\n\r\n* Various updates\r\n\r\n* Show events widget activity based on activeEvents\r\n\r\n* progress bar color updates\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Scanner event hub fix (#1099)\r\n\r\n* Scanner event hub fix\r\n\r\n- Fixed an issue where the scanner would error when adding a new series because the series didn't have a library name yet. (develop)\r\n\r\n* Removing library.type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Workflow update to add nightly versions (#1100)\r\n\r\n# Changed\r\n- Changed: Changed automated workflow to release individual nightly versions on dockerhub\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Updating GA to parse version (#1101)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* GA Fixes (#1103)\r\n\r\n**Strictly Repo Changes**\r\n# Fixed\r\n- Fixed: Fixed an issue where patch version was not being added to docker tag.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed specials being misaligned (#1106)\r\n\r\n# Fixed\r\n- Fixed: Fixed issue with specials not being properly aligned (develop)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix/ux pass 2 (#1107)\r\n\r\n* Adding margin bottom to series detail tabs\r\n\r\n* Styling tag badges with green on dark\r\n\r\n- Added 3 new css vars\r\n\r\n* Removing underline from readmore\r\n\r\n* Fixing see more to be on one line\r\n\r\n* adding gutter to see more\r\n\r\n* Changing queue toasts to info\r\n\r\n* adding api key tooltip\r\n\r\n* Updating active accordion on user preference.\r\n\r\n* Fixing search bar and close btn position\r\n\r\n* Fixed a bug where entering book reader in dark mode then closing out, would leave you in a broken white state.\r\n\r\n* Fixed broken wiki links\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series Detail Refactor (#1118)\r\n\r\n* Fixed a bug where reading list and collection's summary wouldn't render newlines\r\n\r\n* Moved all the logic in the UI for Series Detail into the backend (messy code). We are averaging 400ms max with much optimizations available. Next step is to refactor out of controller and provide unit tests.\r\n\r\n* Unit tests for CleanSpecialTitle\r\n\r\n* Laid out foundation for testing major code in SeriesController.\r\n\r\n* Refactored code so that read doesn't need to be disabled on page load. SeriesId doesn't need the series to actually load.\r\n\r\n* Removed old property from Volume\r\n\r\n* Changed tagbadge font size to rem.\r\n\r\n* Refactored some methods from SeriesController.cs into SeriesService.cs\r\n\r\n* UpdateRating unit tested\r\n\r\n* Wrote unit tests for SeriesDetail\r\n\r\n* Worked up some code where books are rendered only as volumes. However, looks like I will need to use Chapters to better support series_index as floats.\r\n\r\n* Refactored Series Detail to change Volume Name on Book libraries to have book name and series_index.\r\n\r\n* Some cleanup on the code\r\n\r\n* DeleteMultipleSeries test is hard. Going to skip.\r\n\r\n* Removed some debug code and make all tabs Books for Book library Type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tachiyomi Bugfix (#1119)\r\n\r\n* Updated the dependencies for .NET 6.0.2\r\n\r\n* Fixed a bad prev chapter logic where we would bleed into chapters from last volume instead of specials.\r\n\r\n* Fixed the get prev chapter code to properly walk the order according to documentation and updated some bad test cases\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series index fix (#1120)\r\n\r\n* Series index fix\r\n\r\n# Fixed\r\n- Fixed: Fixed an issue where epub series with index = 0 would be hidden on series detail page.\r\n\r\n* Removing unnecessary conditional\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Misc Bugfixes (#1123)\r\n\r\n* Fixed a bug where ComicInfo Count can be a float and we threw a parse error.\r\n\r\n* Fixed a bug in download bookmarks which didn't properly create the filepaths for copying. Refactored into a service with a unit test.\r\n\r\nIn Scanner, repull genres, people and tags between chunk saves to ensure no unique constraint issues.\r\n\r\n* Fixed a bug where card detail layout wouldn't refresh the library name on the card between pages\r\n\r\n* Fixed an issue where a check to scrolling page back to top was missing in manga reader\r\n\r\n* Fixed a bug where cleaning up collection tags without Series was missing after editing a Series.\r\n\r\n* Cleaned up the styles for cover chooser\r\n\r\n* Added Regex support for \"Series 001 (Digital) (somethingwith1234)\" and removed support for \"A Compendium of Ghosts - 031 - The Third Story_ Part 12\" due to complexity in parsing.\r\n\r\n* Fixed a miscommunication on how Tachiyomi needs the API MarkChaptersUntilAsRead implemented. Now 0 chapter volumes will be marked.\r\n\r\n* Removed unneeded DI\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* CopyFilesToDirectory will now allow for one duplicate copy over and put (2) (#1126)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Stablize the Styles (#1128)\r\n\r\n* Fixed a bug where adding multiple series to reading list would throw an error on UI, but it was successful.\r\n\r\n* When a series has a reading list, we now show the connection on Series detail.\r\n\r\n* Removed all baseurl code from UI and not-connected component since we no longer use it.\r\n\r\n* Fixed tag badges not showing a border. Added last read time to the series detail page\r\n\r\n* Fixed up error interceptor to remove no-connection code\r\n\r\n* Changed implementation for series detail. Book libraries will never send chapters back. Volume 0 volumes will not be sent in volumes ever. Fixed up more renaming logic on books to send more accurate representations to the UI.\r\n\r\n* Cleaned up the selected tab and tab display logic\r\n\r\n* Fixed a bad where statement in reading lists for series\r\n\r\n* Fixed up tab logic again\r\n\r\n* Fixed a small margin on search backdrop\r\n\r\n* Made badge expander button smaller to align with badges\r\n\r\n* Fixed a few UIs due to .form-group and .form-row being removed\r\n\r\n* Updated Theme component page to help with style testing\r\n\r\n* Added more components to theme tester\r\n\r\n* Cleaned up some styling\r\n\r\n* Fixed opacity on search item hover\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Hacked in code so that we render an image instead of canvas for fit to screen to try out. (#1131)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Metadata Editing from the UI! (#1135)\r\n\r\n* Added the skeleton code for layout, hooked up Age Rating, Publication Status, and Tags\r\n\r\n* Tweaked message of Scan service to Finished scan of to better indicate the total scan time\r\n\r\n* Hooked in foundation for person typeaheads\r\n\r\n* Fixed people not populating typeaheads on load\r\n\r\n* For manga/comics, when parsing, set the SeriesSort from ComicInfo if it exists.\r\n\r\n* Implemented the ability to override and create new genre tags. Code is ready to flush out the rest.\r\n\r\n* Ability to update metadata from the UI is hooked up. Next is locking.\r\n\r\n* Updated typeahead to allow for non-multiple usage. Implemented ability to update Language tag in Series Metadata.\r\n\r\n* Fixed a bug in GetContinuePoint for a case where we have Volumes, Loose Leaf chapters and no read progress.\r\n\r\n* Added ETag headers on Images to allow for better caching (bookmarks and images in manga reader)\r\n\r\n* Built out UI code to show locked indication to user\r\n\r\n* Implemented Series locking and refactored a lot of styles in typeahead to make the lock setting work, plus misc cleanup.\r\n\r\n* Added locked properties to dtos. Updated typeahead loading indicator to not interfere with close button if present\r\n\r\n* Hooked up locking flags in UI\r\n\r\n* Integrated regular field locking/unlocking\r\n\r\n* Removed some old code\r\n\r\n* Prevent input group from wrapping\r\n\r\n* Implemented some basic layout for metadata on volume/chapter card modal. Refactored out all metadata from Chapter object in terms of UI and put into a separate call to ensure speedy delivery and simplicity of code.\r\n\r\n* Refactored code to hide covers section if not an admin\r\n\r\n* Implemented ability to modify a chapter/volume cover from the detail modal\r\n\r\n* Removed a few variables and change cover image modal\r\n\r\n* Added bookmark to single chapter view\r\n\r\n* Put a temp fix in for a ngb v12 z-index bug (reported). Bumped ngb to 12.0 stable and fixed some small rendering bugs\r\n\r\n* loading buttons ftw\r\n\r\n* Lots of cleanup, looks like the story is finished\r\n\r\n* Changed action name from Info to Details\r\n\r\n* Style tweaks\r\n\r\n* Fixed an issue where Summary would assume it's locked due to a subscription firing on setting the model\r\n\r\n* Fixed some misc bugs\r\n\r\n* Code smells\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Manga Reader Refresh (#1137)\r\n\r\n* Refactored manga reader to use a regular image element for all cases except for split page rendering\r\n\r\n* Fixed a weird issue where ordering of routes broke redireciton in one case.\r\n\r\n* Added comments to a lot of the enums and refactored READER_MODE to be ReaderMode and much more clearer on function.\r\n\r\n* Added bookmark effect on image renderer\r\n\r\n* Implemented keyboard shortcut modal\r\n\r\n* Introduced the new layout mode into the manga reader, updated preferences, and updated bookmark to work for said functionality. Need to implement renderer now\r\n\r\n* Hooked in ability to show double pages but all the css is broken. Committing for help from Robbie.\r\n\r\n* Fixed an issue where Language tag in metadata edit wasn't being updated\r\n\r\n* Fixed up some styling on mobile for edit series detail\r\n\r\n* Some css fixes\r\n\r\n* Hooked in ability to set background color on reader (not implemented in reader). Optimized some code in ArchiveService to avoid extra memory allocations.\r\n\r\n* Hooked in background color, generated the migration\r\n\r\n* Fixed a bug when paging to cover images, full height would be used instead of full-width for cover images\r\n\r\n* New option in reader to show screen hints (on by default). You can disable in user preferences which will stop showing pagination overlay hints\r\n\r\n* Lots of fixes for double rendering mode\r\n\r\n* Bumped the amount of cached pages to 8\r\n\r\n* Fixed an issue where dropdowns weren't being locked on form manipulation\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* On Deck tweaks + Bugfixes (#1141)\r\n\r\n* Tweaked the On deck to only look for series that have progress in past 30 days. This number is just to test it out, it will be configurable later. Tweaked the layout of the dashboard to remove a redundant section.\r\n\r\n* Fixed a bug where archives with __MACOSX/ inside would break the reader during flattening.\r\n\r\n* Fixed a bug where confirm service rejection should have resolved as false.\r\n\r\n* Fixed an issue with checking if server is accessible with loopback and local ips\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Manga Reader Shakeout (#1142)\r\n\r\n* Fixed a unit test in ArchiveService\r\n\r\n* Image scaling fixes\r\n\r\n* removing test\r\n\r\n* Added new layout mode (enum only) and cleaned up manga reader and wrote extra documentation\r\n\r\n* Aligned code with cleanup\r\n\r\n* Adding reverse classes for manga reading\r\n\r\n* Disable options for layout modes that doesn't make sense.\r\n\r\n* Cleaned up manga reader menu items to link to preferences options directly\r\n\r\n* Work in progress, but rendering the correct page numbers for double. Need to rework caching logic so we can use existing image objects\r\n\r\n* Pagination logic is now properly increasing page number an extra when double layout mode\r\n\r\n* I can't figure out cachedImages to work properly with double pages, but doing it in a way where it handles downloading the image (and etag cache) + rendering the url, seems to work really well\r\n\r\n* Double original fix, also flex squish fix\r\n\r\n* Implemented last page on double which will load next chapter.\r\n\r\nFixed a bug where if GetImage from ReaderController threw an error, the chapter directory would be emptied, but the folder itself wasn't deleted.\r\n\r\n* Fixed a bad if for double manga\r\n\r\n* double class fix\r\n\r\n* Cleanup up some console.logs\r\n\r\n* Adjusted the caching for images in a reading session so they cache for 2 mins\r\n\r\n* fixing webtoon image issue\r\n\r\n* Tweaked the caching of images to 10 mins for reading. Fixed a bug where after webtoon, single image layout would be selected. Tweaked logic for handling prev/next pages on chapter boundaries.\r\n\r\n* Fixed an issue where 2nd page would be skipped\r\n\r\n* Fixed an issue where 2nd page would be skipped\r\n\r\n* Fixed a skip page issue\r\n\r\n* Misc css fixes\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Misc Bugfixes and Cleanup (#1144)\r\n\r\n* Moved libraryType into chapter info\r\n\r\n* Fixed a bug where you could not reset cover on a series\r\n\r\n* Patched in relevant changes from another polish branch\r\n\r\n* Refactored invite user setup to shift the checking for accessibility to the backend and always show the link. This will help with users who have some unique setups in docker.\r\n\r\n* Refactored invite user to always print the url to setup a new account.\r\n\r\n* Single page renderer uses canvasImage rather than re-requesting and relying on cache\r\n\r\n* Fixed a rendering issue where fit to split on single on a cover wouldn't force width scaling just for that image\r\n\r\n* Fixed a rendering bug with split image functionality\r\n\r\n* Added title to copy button\r\n\r\n* Fixed a bug in GetContinuePoint when a chapter is added to an already read volume and a new chapter is added loose leaf. The loose leaf would be prioritized over the volume chapter.\r\n\r\nRefactored 2 methods from controller into service and unit tested.\r\n\r\n* Fixed a bug on opening a volume in series detail that had a chapter added to it after the volume (0 chapter) was read would cause a loose leaf chapter to be opened.\r\n\r\n* Added mark as read/actionables on Files in volume detail modal. Fixed a bug where we were showing the wrong page count in a volume detail modal.\r\n\r\n* Removed OnDeck page and replaced it with a pre-filtered All-Series. Hooked up the ability to pass read state to the filter via query params. Fixed some spacing on filter post bootstrap update.\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfixes and Cover Chooser Upgrades (#1146)\r\n\r\n* Fixed a bug where GetNextChapter would return a loose leaf chapter from a special when it should return nothing.\r\n\r\n* Fixed a bug in events widget when an update comes in after a user refreshes, the active event counter could get out of sync, thus showing \"Nothing going on here\"\r\n\r\nRefactored the events widget to be named appropriately.\r\n\r\n* Refactored code to have errors during threaded tasks propagate to the UI via events widget (css still needed).\r\n\r\nRemoved ScanLibraryError in favor of generic Error event.\r\n\r\n* Fixed up some code and added ability to remove the event from events widget\r\n\r\n* Fixed a bug where modifiying certain fields, like summary, wouldn't lock the field\r\n\r\n* Fixed a few bugs where lock state was not being set in the DB correctly nor were certain combinations of locking fields and editing fields.\r\n\r\n* Removed debug code\r\n\r\n* Updated the discord alert to tag new group\r\n\r\n* Refactored cover upload to actually handle uploading a temp file via url on the backend so that users can user change cover by url. Fixed up some bugs that occured when chaning the image container in a previous PR.\r\n\r\n* Code cleanup\r\n\r\n* Cleaned up the css on the error items\r\n\r\n* Code cleanup\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Side nav (#1155)\r\n\r\n* adding back side-nav\r\n\r\n* Event Widget Update (#1098)\r\n\r\n* Took care of some notes in the code\r\n\r\n* Fixed an issue where Extra might get flagged as special too early, if in a word like Extraordinary\r\n\r\n* Moved Tag cleanup code into Scanner service. Added a SplitQuery to another heavy API. Refactored Scan loop to remove parallelism and use async instead.\r\n\r\n* Lots of rework on the codebase to support detailed messages and easier management of message sending. Need to take a break on this work.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Fixed merge issue\r\n\r\n* Fixed unit tests\r\n\r\n* CoverUpdate is now hooked into new ProgressEvent structure\r\n\r\n* Refactored code to remove custom observables and have everything use standard messages$\r\n\r\n* Refactored a ton of instances to NotificationProgressEvent style and tons of the UI to respect that too. UI is still a bit buggy, but wholistically the work is done.\r\n\r\n* Working much better. Sometimes events come in too fast. Currently cover update progress doesn't display on UI\r\n\r\n* Fixed unit tests\r\n\r\n* Removed SignalREvent to minimize internal event types. Updated the UI to use progress bars. Finished SiteThemeService.\r\n\r\n* Merged metadata refresh progress events and changed library scan events to merge cleaner in the UI\r\n\r\n* Changed RefreshMetadataProgress to CoverUpdateProgress to reflect the event better.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked some of the emitting code\r\n\r\n* Some css, but pretty bad. Robbie please save me\r\n\r\n* Removed a todo\r\n\r\n* styling update\r\n\r\n* Only send filename on FileScanProgress\r\n\r\n* Some console.log spam cleanup\r\n\r\n* Various updates\r\n\r\n* Show events widget activity based on activeEvents\r\n\r\n* progress bar color updates\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Scanner event hub fix (#1099)\r\n\r\n* Scanner event hub fix\r\n\r\n- Fixed an issue where the scanner would error when adding a new series because the series didn't have a library name yet. (develop)\r\n\r\n* Removing library.type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Workflow update to add nightly versions (#1100)\r\n\r\n# Changed\r\n- Changed: Changed automated workflow to release individual nightly versions on dockerhub\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Updating GA to parse version (#1101)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* GA Fixes (#1103)\r\n\r\n**Strictly Repo Changes**\r\n# Fixed\r\n- Fixed: Fixed an issue where patch version was not being added to docker tag.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed specials being misaligned (#1106)\r\n\r\n# Fixed\r\n- Fixed: Fixed issue with specials not being properly aligned (develop)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix/ux pass 2 (#1107)\r\n\r\n* Adding margin bottom to series detail tabs\r\n\r\n* Styling tag badges with green on dark\r\n\r\n- Added 3 new css vars\r\n\r\n* Removing underline from readmore\r\n\r\n* Fixing see more to be on one line\r\n\r\n* adding gutter to see more\r\n\r\n* Changing queue toasts to info\r\n\r\n* adding api key tooltip\r\n\r\n* Updating active accordion on user preference.\r\n\r\n* Fixing search bar and close btn position\r\n\r\n* Fixed a bug where entering book reader in dark mode then closing out, would leave you in a broken white state.\r\n\r\n* Fixed broken wiki links\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series Detail Refactor (#1118)\r\n\r\n* Fixed a bug where reading list and collection's summary wouldn't render newlines\r\n\r\n* Moved all the logic in the UI for Series Detail into the backend (messy code). We are averaging 400ms max with much optimizations available. Next step is to refactor out of controller and provide unit tests.\r\n\r\n* Unit tests for CleanSpecialTitle\r\n\r\n* Laid out foundation for testing major code in SeriesController.\r\n\r\n* Refactored code so that read doesn't need to be disabled on page load. SeriesId doesn't need the series to actually load.\r\n\r\n* Removed old property from Volume\r\n\r\n* Changed tagbadge font size to rem.\r\n\r\n* Refactored some methods from SeriesController.cs into SeriesService.cs\r\n\r\n* UpdateRating unit tested\r\n\r\n* Wrote unit tests for SeriesDetail\r\n\r\n* Worked up some code where books are rendered only as volumes. However, looks like I will need to use Chapters to better support series_index as floats.\r\n\r\n* Refactored Series Detail to change Volume Name on Book libraries to have book name and series_index.\r\n\r\n* Some cleanup on the code\r\n\r\n* DeleteMultipleSeries test is hard. Going to skip.\r\n\r\n* Removed some debug code and make all tabs Books for Book library Type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tachiyomi Bugfix (#1119)\r\n\r\n* Updated the dependencies for .NET 6.0.2\r\n\r\n* Fixed a bad prev chapter logic where we would bleed into chapters from last volume instead of specials.\r\n\r\n* Fixed the get prev chapter code to properly walk the order according to documentation and updated some bad test cases\r\n\r\n* Updated side nav to float a bit and added user settings to it.\r\n\r\n* Refactored the code to hide/show sidenav to be more angular and decoupled\r\n\r\n* Moved Changelog out of admin dashboard and into a dedicated page in user menu. Added a wiki link from user menu\r\n\r\n* Introduced a side nav item for rendering each item and refactored code to use it.\r\n\r\n* Added a filter of side nav when there are more than 10 libraries. Added some themeing overrides for side nav.\r\n\r\n* Cleaned up the template code for side nav item so if there is no link, we don't generate that html directive\r\n\r\n* Refactored side nav into a module and migrated a few pipes into a pipe module for easy re-use\r\n\r\n* Added companion bar on reading list and collection. Updated modules to load pages and make side nav items clickable as anchors, so new tab works.\r\n\r\n* Moved metadata filter into separate component/module and the button in the companion bar. Needs cleanup.\r\n\r\n* Finished cleanup and refactoring of metadata filter into separate component.\r\n\r\nRemoved filtering from Collections as it doesn't work and wasn't hooked up.\r\n\r\n* Tweaked the css on carousel component\r\n\r\n* Added to library detail and series-detail\r\n\r\n* Fixes and css vars\r\n\r\n* Stop destroying sidenav, animaton timing\r\n\r\n* Integrated side nav on the rest of the pages\r\n\r\n* Navbar now collapses to icons\r\n\r\n* mobile sidenav start\r\n\r\n* more mobile fixes\r\n\r\n* mobile tweaks\r\n\r\n* light and e-ink theme updates\r\n\r\n* white and eink dropdown color fixes\r\n\r\n* plex inspired side-nav\r\n\r\n* theme fixes\r\n\r\n* Making spacing more uniform across app\r\n\r\n* More fixes\r\n\r\n* fixing spacing on cards\r\n\r\n* actionable fix for sidenav\r\n\r\n* no scroll on mobile when sidenav is open\r\n\r\n* hide sidenav on pages\r\n\r\n* Adding card spacing\r\n\r\n* Adding ability to remove sidenav when in a reader\r\n\r\n* tidying up sidenav toggles\r\n\r\n* side-nav mobile updates\r\n\r\n* fixing up other themes\r\n\r\n* overlay fixes\r\n\r\n* Cleaned up the code to make the observables have better names.\r\n\r\nRemoved a bunch of pointless subscriptions. Cleaned up methods that werent needed.\r\n\r\nAdded jsdocs to help ensure the understandability of the 2 states for the side nav.\r\n\r\n* Integrated a highlight effect on side nav. Fixed a ton of places where the nav was being hidden when it shouldn't.\r\n\r\n* Fixed where active state wasn't working on all urls\r\n\r\n* misc fixes\r\n\r\n- smaller hamburger\r\n- z-index fixes\r\n- active fixes\r\n\r\n* Revert \"Merge branch 'develop' into feature/side-nav-upgrade\"\r\n\r\nThis reverts commit 76b0d15a984692874e0cb57e821686ea703144cf, reversing\r\nchanges made to b3ed55395473aa35577500596a211ad22a42631b.\r\n\r\n* Fixing edit-series modal spacing\r\n\r\n* Give the ability to jump to a library from admin manage libraries page\r\n\r\n* Fixed a bug with highlighting active item on side nav\r\n\r\n* Moved localized series title to companion bar via subtitle\r\n\r\n* Removed old title\r\n\r\n* Fixed a bug where clicking a link would reload the whole app, styling fixes on filter, fixed issue with initial load not setting active state, adjusted styles on active style.\r\n\r\n* code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed a bug where companion bar would be pushing content to the right even when not visible. Updated nav service localstorage key. (#1159)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Side Nav Fixes (#1161)\r\n\r\n* Fixed an issue where there was extra padding on top/bottom of readers when side nav was hidden.\r\n\r\n* Fixed a bug where fit to screen wasn't forcing width scaling\r\n\r\n* Added back total pages to many pages\r\n\r\n* Fixed the padding on series detail cards\r\n\r\n* Tweaked carousels to match series detail padding\r\n\r\n* Fixed an issue where large amount of libraries could have 2 highlighted at once due to how highlight logic works on routes.\r\n\r\n* Cleaned up some extra space in card detail layout due to moving title into compainion bar\r\n\r\n* Moved some gloabls to global and moved color-scheme to body tag\r\n\r\n* Moved scrollbar onto the body itself which helps with page jank on loading and fixes scrollbar not working with theme\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed loose chapters marked as read for Tachiyomi (#1158)\r\n\r\n* Tachiyomi-related fixes\r\n\r\n* Created unit test for MarkAsReadAnythingUntil\r\n\r\n* Applied the requested changes.\r\n\r\n* More Bugfixes from Side Nav (#1162)\r\n\r\n* Fixed a bug where the bottom of the page could be cut off\r\n\r\n* Adjusted all the headings to h2, which looks better\r\n\r\n* Refactored GetSeriesDetail to actually map the names inside the code so the UI just displays.\r\n\r\n* Put in some basic improvements to OPDS by using Series Detail type layout, but this only reduces one click.\r\n\r\n* Fixed a bug where offset from scrollbar fix causes readers to be cutoff.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* OPDS Rework (#1164)\r\n\r\n* Fixed a bug where the bottom of the page could be cut off\r\n\r\n* Adjusted all the headings to h2, which looks better\r\n\r\n* Refactored GetSeriesDetail to actually map the names inside the code so the UI just displays.\r\n\r\n* Put in some basic improvements to OPDS by using Series Detail type layout, but this only reduces one click.\r\n\r\n* Fixed a bug where offset from scrollbar fix causes readers to be cutoff.\r\n\r\n* Ensure the hamburger menu icon is aligned with side nav\r\n\r\n* Disable the image splitting dropdown in webtoon mode\r\n\r\n* Fixed broken progress/scroll code as we scroll on the body instead of window now\r\n\r\n* Fixed phone-hidden class not working due to a bad media query\r\n\r\n* Lots of changes to OPDS to provide a richer text experience. Uses Issues or Books based on library type. Cleans up the experience by providing Storyline from the get-go.\r\n\r\n* Updated OPDS-SE search description to include collections and reading lists.\r\n\r\n* Fixed up some title stuff\r\n\r\n* If a volume only has one file underneath it, flatten it and send a chapter as if it were the volume.\r\n\r\n* Code cleanup\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Feature/enhancements and more (#1166)\r\n\r\n* Moved libraryType into chapter info\r\n\r\n* Fixed a bug where you could not reset cover on a series\r\n\r\n* Patched in relevant changes from another polish branch\r\n\r\n* Refactored invite user setup to shift the checking for accessibility to the backend and always show the link. This will help with users who have some unique setups in docker.\r\n\r\n* Refactored invite user to always print the url to setup a new account.\r\n\r\n* Single page renderer uses canvasImage rather than re-requesting and relying on cache\r\n\r\n* Fixed a rendering issue where fit to split on single on a cover wouldn't force width scaling just for that image\r\n\r\n* Fixed a rendering bug with split image functionality\r\n\r\n* Added title to copy button\r\n\r\n* Fixed a bug in GetContinuePoint when a chapter is added to an already read volume and a new chapter is added loose leaf. The loose leaf would be prioritized over the volume chapter.\r\n\r\nRefactored 2 methods from controller into service and unit tested.\r\n\r\n* Fixed a bug on opening a volume in series detail that had a chapter added to it after the volume (0 chapter) was read would cause a loose leaf chapter to be opened.\r\n\r\n* Added mark as read/actionables on Files in volume detail modal. Fixed a bug where we were showing the wrong page count in a volume detail modal.\r\n\r\n* Removed OnDeck page and replaced it with a pre-filtered All-Series. Hooked up the ability to pass read state to the filter via query params. Fixed some spacing on filter post bootstrap update.\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Some string equals enhancements to reduce extra allocations\r\n\r\n* Fixed an issue when trying to download via a url, to remove query parameters to get the format\r\n\r\n* Made an optimization to Normalize method to reduce memory pressure by 100MB over the course of a scan (16k files)\r\n\r\n* Adjusted the styles on dashboard for first time setup and used a routerlink rather than href to avoid a fresh load.\r\n\r\n* Use framgment on router link\r\n\r\n* Hooked in the ability to search by release year (along with series optionally) and series will be returned back.\r\n\r\n* Fixed a bug in the filter format code where it was sending the wrong type\r\n\r\n* Only show clear all on typeahead when there are at least one selected item\r\n\r\n* Cleaned up the styles of the styles of the typeahead\r\n\r\n* Removed some dead code\r\n\r\n* Implemented the ability to filter against a series name.\r\n\r\n* Fixed filter top offset\r\n\r\n* Ensure that when we add or remove libraries, the side nav of users gets updated.\r\n\r\n* Tweaked the width on the mobile side nav\r\n\r\n* Close side nav on clicking overlay on mobile viewport\r\n\r\n* Don't show a pointer if the carousel section title is not actually selectable\r\n\r\n* Removed the User profile on the side nav so home is always first. Tweaked styles to match\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Fixed a bug where Latest read date wasn't being set due to an early short circuit.\r\n\r\n* When sending the chapter file, format the title of the FeedEntry more like Series Detail.\r\n\r\n* Removed dead code\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfixes  (#1177)\r\n\r\n* Fixed an underline on hover of pagination link\r\n\r\n* Ensure title of companion bar eats full width if there is no filter\r\n\r\n* If a user doesn't have the Download role, they will not be able to download over OPDS.\r\n\r\n* Fixed a bug where after going into webtoon reader mode then leaving, the bookmark effect would continue using the webtoon mode styling\r\n\r\n* Fixed a bug where continuous reader wasn't being triggered due to moving scrollbar to body and a floating point percision error on scroll top\r\n\r\n* Fixed how continuous trigger is shown so that we properly adjust scroll on the top (for prev chapter)\r\n\r\n* Fixed a bad merge that broke saving any edits to series metadata\r\n\r\n* When a epub key is not correct, even after we correct it, ignore the inlining of the style so the book is at least still readable.\r\n\r\n* Disabled double rendering (this feature is being postponed to a later release)\r\n\r\n* Disabled user setting and forced it to Single on any save\r\n\r\n* Removed cache directory from UpdateSettings validation as we don't allow changing it.\r\n\r\n* Fix security issue with url parse\r\n\r\n* After all migrations run, update the installed version in the Database. Send that installed version on the stat service.\r\n\r\n* Dependency bot to update some security stuff\r\n\r\n* Some misc code cleanup and fixes on the typeahead (still broken)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* New Feature Stats (#1179)\r\n\r\n* When searching, search against normalized names.\r\n\r\n* Added new stat fields\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Getting Ready for Release (#1180)\r\n\r\n* One more unit test for Tachiyomi\r\n\r\n* Removed some debug code in the manga reader menu\r\n\r\n* Fixed a typeahead bug where using Enter on add new item or selected options could cause items to disappear from selected state or other visual glitches\r\n\r\n* Actually fix the selection issue. We needed to filter out selected before we access element\r\n\r\n* Cleaned up collection detail page to align to new side nav design\r\n\r\n* Cleaned up some styling on the reading list page\r\n\r\n* Fixed a bug where side nav would not be visible on the main app due to some weird redirect logic\r\n\r\n* Fixed a bug where when paging to the last page, a page will be skipped and user will have to refresh manually to view\r\n\r\n* Fixed some styling bugs on drawer for light themes. Added missing pagination colors on light themes\r\n\r\n* On mobile screens, add some padding on series-detail page\r\n\r\n* Fixed a bad test case helper\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout Part 1 (#1184)\r\n\r\n* Have actionables on series detail action bar and in title to make it easier to use.\r\n\r\n* Fixed a bug where super long titles could render over the book content\r\n\r\n* Fixed a bug in get continue point where it wasn't working in an edge case\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout (#1186)\r\n\r\n* Cleaned up some styles on the progress bar in book reader\r\n\r\n* Fixed up some phone-hidden classes and added titles around the codebase. Stat reporting on first run now takes into account that admin user wont exist.\r\n\r\n* Fixed manage library page not updating last scan time when a notification event comes in.\r\n\r\n* Integrated SeriesSort ComicInfo tag (somehow it got missed)\r\n\r\n* Some minor style changes and no results found for bookmarks on chapter detail modal\r\n\r\n* Fixed the labels in action bar on book reader so Prev/Next are in same place\r\n\r\n* Cleaned up some responsive styles around images and reduced custom classes in light of new display classes on collection detail and series detail pages\r\n\r\n* Fixed an issue with webkit browsers and book reader where the scroll to would fail as the document wasn't fully rendered. A 10ms delay seems to fix the issue.\r\n\r\n* Cleaned up some code and filtering for collections. Collection detail is missing filtering functionality somehow, disabled the button and will add in future release\r\n\r\n* Correctly validate and show a message when a user is not an admin or has change password role when going through forget password flow.\r\n\r\n* Fixed a bug on manage libraries where library last scan didn't work on first scan of a library, due to there being no updated series.\r\n\r\n* Fixed a rendering issue with text being focused on confirm email page textboxes. Fixed a bug where when deleting a theme that was default, Kavita didn't reset Dark as the default theme.\r\n\r\n* Cleaned up the naming and styles for side nav active item hover\r\n\r\n* Fixed event widget to have correct styling on eink and light\r\n\r\n* Tried to fix a rendering issue on side nav for light themes, but can't figure it out\r\n\r\n* On light more, ensure switches are green\r\n\r\n* Fixed a bug where opening a page with a preselected filter, the filter toggle button would require 2 clicks to collapse\r\n\r\n* Reverted the revert of On Deck.\r\n\r\n* Improved the upload by url experience by sending a custom fail error to UI when a url returns 401.\r\n\r\n* When deleting a library, emit a series removed event for each series removed so user's dashboards/screens update.\r\n\r\n* Fixed an api throwing an error due to text being sent back instead of json.\r\n\r\n* Fixed a refresh bug with refreshing pending invites after deleting an invite. Ensure we always refresh pending invites even if user cancel's from invite, as they might invite, then hit cancel, where invite is still active.\r\n\r\n* Fixed a bug where invited users with + in the email would fail due to validation, but UI wouldn't properly inform user.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Version bump for release (#1187)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tech Debt + Series Sort bugfix (#1192)\r\n\r\n* Code cleanup.\r\n\r\nWhen copying files, if the target file already exists, append (1), (2), etc onto the file (this is enhancing existing implementation to allow multiple numbers)\r\n\r\n* Added a ton of null checks to UpdateSeriesMetadata and made the code work on the rare case (not really possible) that SeriesMetadata doesn't exist.\r\n\r\n* Updated Genre code to use strings to ensure a better, more fault tolerant update experience.\r\n\r\n* More cleanup on the codebase\r\n\r\n* Fixed a bug where Series SortName was getting emptied on file scan\r\n\r\n* Fixed a bad copy\r\n\r\n* Fixed unit tests\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Post Release Shakeout (Hotfix Testing) (#1200)\r\n\r\n* Fixed an issue where when falling back to folder parsing, sometimes the folder name wouldn't parse well, like \"Foo 50\" which parses as \"Foo\". Now the fallback will check if we have a solid series parsed from filename before we attempt to parse a folder.\r\n\r\n* Ensure SortName is set during a scan loop even if locked and it's empty string.\r\n\r\n* Added some null checks for metadata update\r\n\r\n* Fixed a bug where Updating a series name with a name of an existing series wouldn't properly check for existing series.\r\n\r\n* Tweaked the logic of OnDeck to consider LastChapterCreated from all chapters in a series, not just those with progress.\r\n\r\n* Fixed a bug where the hamburger menu was still visible on login/registration page despite not functioning\r\n\r\n* Tweaked the logic of OnDeck to consider LastChapterCreated from all chapters in a series, not just those with progress.\r\n\r\n* Removed 2 unused packages from ui\r\n\r\n* Fixed some bugs around determining what the current installed version is in Announcements\r\n\r\n* Use AnyAsync for a query to improve performance\r\n\r\n* Fixed up some fallback code\r\n\r\n* Tests are finally fixed\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* PDF Rendering on Pi (64bit) & Backup Fix (#1204)\r\n\r\n* Updated dependencies. SharpCompress has been updated to v2.1.0 which should fix pdf rendering on pi/arm64 devices.\r\n\r\n* Removed some dependencies not needed and updated the Backup code to account for themes and ensure everything gets copied every time.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Hotfix Prep (#1211)\r\n\r\n* Patched cover image change that somehow got missed\r\n\r\n* Fixed a bug where clicking bottom action bar buttons on book reader wouldn't work correctly (would close drawer when trying to open)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed some missing merge stuff\r\n\r\n* On Deck + Misc Fixes and Changes (#1215)\r\n\r\n* Added playwright and started writing e2e tests.\r\n\r\n* To make things easy, disabled other browsers while I get confortable. Added a login flow (assumes my dev env)\r\n\r\n* More tests on login page\r\n\r\n* Lots more testing code, trying to figure out auth code.\r\n\r\n* Ensure we don't track DBs inside config\r\n\r\n* Added a new date property for when chapters are added to a series which helps with OnDeck calculations. Changed a lot of heavy api calls to use IEnumerable to stream repsonse to UI.\r\n\r\n* Fixed OnDeck with a new field for when last chapter was added on Series. This is a streamlined way to query.\r\n\r\nUpdated Reading List with NormalizedTitle, CoverImage, CoverImageLocked.\r\n\r\n* Implemented the ability to read a random item in the reading list and for the reading list to be intact for order.\r\n\r\n* Tweaked the style for webtoon to not span the whole width, but use max width\r\n\r\n* When we update a cover image just send an event so we don't need to have logic for when updates occur\r\n\r\n* Fixed a bad name for entity type on cover updates\r\n\r\n* Aligned the edit collection tag modal to align with new tab design\r\n\r\n* Rewrote code for picking the first file for metadata to ensure it always picks the correct file, esp if the first chapter of a series starts with a float (1.1)\r\n\r\n* Refactored setting LastChapterAdded to ensure we do it on the Series.\r\n\r\n* Updated Chapter updating in scan loop to avoid nested for loop and an additional loop.\r\n\r\n* Fixed a bug where locked person fields wouldn't persist between scans.\r\n\r\n* Updated Contributing to reflect how to view the swagger api\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixes, Tweaks, and Series Filtering (#1217)\r\n\r\n* From previous fix, added the other locking conditions on the update series metadata.\r\n\r\n* Fixed a bug where custom series, collection tag, and reading list covers weren't being removed on cleanup.\r\n\r\n* Ensure reading list detail has a margin to align to the standard\r\n\r\n* Refactored some event stuff to use dedicated consts. Introduced a new event when users read something, which can update progress bars on cards.\r\n\r\n* Added recomended and library tags to the library detail page. This will eventually offer more custom analytics\r\n\r\n* Cleanup some code onc arousel\r\n\r\n* Adjusted scale to height/width css to better fit\r\n\r\n* Small css tweaks to better center images in the manga reader in both axis. This takes care of double page rendering as well.\r\n\r\n* When a special has a Title set in the metadata, on series detail page, show that on the card rather than filename.\r\n\r\n* Fixed a bug where when paging in manga reader, the scroll to top wasn't working due to changing where scrolling is done\r\n\r\n* More css goodness for rendering images in manga reader\r\n\r\n* Fixed a bug where clearing a typeahead externally wouldn't clear the x button\r\n\r\n* Fixed a bug where filering then using keyboard would select wrong option\r\n\r\n* Added a new sorting field for Last Chapter Added (new field) to get a similar on deck feel.\r\n\r\n* Tweaked recently updated to hit the NFR of 500ms (300ms fresh start) and still give a much better experience.\r\n\r\n* Refactored On deck to now go to all series and also sort by last updated. Recently Added Series now loads all series with sort by created.\r\n\r\n* Some tweaks on css for cover image chooser\r\n\r\n* Fixed a bug in pagination control where multiple pagination events could trigger on load and thus multiple requests for data on parent controller.\r\n\r\n* Updated edit series modal to show when the last chapter was added and when user last read it.\r\n\r\n* Implemented a highlight on the fitler button when a filter is active.\r\n\r\n* Refactored metadata filter screens to perserve the filters in the url and thus when navigating back and forth, it will retain. users should click side nav to reset the state.\r\n\r\n* Hide middle section on companion bar on phones\r\n\r\n* Cleaned up some prefilters and console.logs\r\n\r\n* Don't open drawer by default when a filter is active\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Filtering Bugfixes (#1220)\r\n\r\n* Cleaned up random strings and unified them in one place.\r\n\r\n* Implemented the ability to disable typeaheads\r\n\r\n* Refactored disable state to disable controls on filter\r\n\r\n* Fixed an overflow regression on title\r\n\r\n* Updated ComicInfo DTO which had some bad properties on it\r\n\r\n* Cleaned up some code around disabled typeaheads/filters\r\n\r\n* Fixed typeaheads causing resets to state and mucking up filter presets\r\n\r\n* Fixed state not refreshing between page loads\r\n\r\n* Fixed a bad parsing for My Charms Are Wasted on Kuroiwa Medaka - Ch. 37.5 - Volume Extras\r\n\r\n* Cleanup within the metadata filter to reuse logic and minimize extra loops.\r\n\r\n* Fixed a timing issue with typeahead and first load for people\r\n\r\n* Fixed a bug in Publication Status for a given library, which would fail due to not performing some of the query in memory. Removed a custom index on Series table that wasn't used and potentially caused constraint issues.\r\n\r\n* Added a wiki link for stats collections\r\n\r\n* Security bump\r\n\r\n* Fixed the regex\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixing duplicate chapter issue and adding unit test (#1221)\r\n\r\n* Fixing duplicate chapter issue and adding unit test\r\n\r\n* Update test name\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixes #1222 (#1223)\r\n\r\nCo-authored-by: mihaibargau <mihai.bargau@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Adding gif support (#1225)\r\n\r\n* Adding gif to accepted image extension and unit test\r\n\r\n* Revert \"Adding gif to accepted image extension and unit test\"\r\n\r\nThis reverts commit d0df8239068ddc12f44aed752804b5db60243e44.\r\n\r\n* Adding gif support and unit test\r\n\r\n* unit test and event widget\r\n\r\n- updating unit test archives to temive unneeded gifs, causing failures\r\n- adding overflow to event widget\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Readable Bookmarks (#1228)\r\n\r\n* Moved bookmarks to it's own page on side nav and integrated actions.\r\n\r\n* Implemented the ability to read bookmarks in the manga reader.\r\n\r\n* Removed old bookmark components that aren't needed any longer.\r\n\r\n* Removed recently added component as we use all-series instead now\r\n\r\n* Removed bookmark tab from card detail\r\n\r\n* Fixed scroll to top not working and being missing\r\n\r\n* When opening the side nav on mobile with metadata filter already open, collapse the filter.\r\n\r\n* When on mobile viewports, when clicking an item from side nav, collapse it afterwards\r\n\r\n* Converted most of series detail to use the card detail layout, except storyline which has custom logic\r\n\r\n* Fixed unit test\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed a bad index causing card details modal to fail to render (#1229)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Linked Series (#1230)\r\n\r\n* Implemented the ability to link different series together through Edit Series. CSS pending.\r\n\r\n* Fixed up the css for related cards to show the relation\r\n\r\n* Working on making all tabs in edit seris modal save in one go. Taking a break.\r\n\r\n* Some fixes for Robbie to help with styling on\r\n\r\n* Linked series pill, center library\r\n\r\n* Centering library detail and related pill spacing\r\n\r\n- Library detail cards are now centered if total number of items is > 6 or if mobile.\r\n- Added ability to determine if mobile (viewport width <= 480px\r\n- Fixed related card spacing\r\n- Fixed related card pill spacing\r\n\r\n* Updating relation form spacing\r\n\r\n* Fixed a bug in card detail layout when there is no pagination, we create one in a way that all items render at once.\r\n\r\n* Only auto-close side nav on phones, not tablets\r\n\r\n* Fixed a bug where we had flipped state on sideNavCollapsed$\r\n\r\n* Cleaned up some misleading comments\r\n\r\n* Implemented RBS back in and now  if you have a relationship besides prequel/sequel, the target series will show a link back to it's parent.\r\n\r\n* Added Parentto pipe\r\n\r\n* Missed a relationship type\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Publication Status Enhancements (#1231)\r\n\r\n* Trim when reading some fields from ComicInfo. Adjusted css on the site to reduce nbsp\r\n\r\n* Added Cancelled as a publication status\r\n\r\n* Ensure we track volume number from ComicInfo for the count to determine publication status\r\n\r\n* Publication Status will now check against volume number or chapter number (parsed or comicinfo). The UI will now display the progress, ie) 10/15 and will show the series as completed with a green tag badge if the progress is 100%.\r\n\r\n* Tweaked the ordering of the tabs to make it more streamlined in the reading ordering of Kavita\r\n\r\n* Tweaked the logic for filling in tag badge\r\n\r\n* Added a new publication status of Ended for series that have finished releasing, but not all items are in Kavita\r\n\r\n* Added some fields to edit series modal\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Feature/misc (#1234)\r\n\r\n* Fixed a bug where publication status could show as filled in when total number is 0 but there is a max count.\r\n\r\nAdd ComicInfo support for LocalizedSeries which will populate a Series LocalizedName.\r\n\r\nFixed an issue in tag constraint issues.\r\n\r\n* Hooked in LocalizedSeries tag into merge step in scanner.\r\n\r\n* Hooked in LocalizedSeries from ComicInfo into Kavita and also use it to help during merge phase to avoid 2 different series, if one file is using the name of the localized series.\r\n\r\n* Reduced some extra string creation and updated epub library to ignore bad ToCs.\r\n\r\n* Bumped dependencies to latest. When an epub doesn't have a dc:date with publication event type, default back to just a normal dc:date tag.\r\n\r\n* Fixed a bug where webtoon reader would error out on first load due to how we passed the function to the reader\r\n\r\n* Reverted the centering code\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Library Recomendations (#1236)\r\n\r\n* Updated cover regex for finding cover images in archives to ignore back_cover or back-cover\r\n\r\n* Fixed an issue where Tags wouldn't save due to not pulling them from the DB.\r\n\r\n* Refactored All series to it's own lazy loaded module\r\n\r\n* Modularized Dashboard and library detail. Had to change main dashboard page to be libraries. Subject to change.\r\n\r\n* Refactored login component into registration module\r\n\r\n* Series Detail module created\r\n\r\n* Refactored nav stuff into it's own module, not lazy loaded, but self contained.\r\n\r\n* Refactored theme component into a dev only module so we don't incur load for temp testing modules\r\n\r\n* Finished off modularization code. Only missing thing is to re-introduce some dashboard functionality for library view.\r\n\r\n* Implemented a basic recommendation page for library detail\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Major Search Enhancements (#1238)\r\n\r\n* Pull progress information for some of the recommended stuff.\r\n\r\n* Fixed some redirection code from last PR\r\n\r\n* Implemented the ability to search for files in the search and open the series directly.\r\n\r\n* Fixed nav search bar expanding too much\r\n\r\n* Fixed a bug in nav module not having router so some links broke\r\n\r\n* Fixed an issue where with new localized series tag, merging could fail if the user had 2 series with the series and localized series.\r\n\r\nAdded extra error handling for tracking series parsed from disk.\r\n\r\n* Fixed the slowness when typing in a typeahead by using auditTime vs debounceTime\r\n\r\n* Removed some cleaning of Edition tags from the Parser. Only Omnibus and Uncensored will be ignored when cleaning titles, Full Color, Full Contact, etc will now stay in the title for Series name.\r\n\r\n* Implemented ability to search against chapter's title (from epub or title in comicinfo). This should help users search for books in a series a lot easier.\r\n\r\n* Restrict each search type to 15 records only to keep query performant and UI useful.\r\n\r\n* Wrote some extra messaging on invite user flow around email.\r\n\r\n* Messaging update\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Misc Cleanup (#1242)\r\n\r\n* Updated the wording for Read in incognito, as 'in' was redundant\r\n\r\n* Added icons to the middle tabs for a mobile compaitible view\r\n\r\n* Fixed up the code for side nav to make the display much cleaner\r\n\r\n* Added icons to tabs\r\n\r\n* Styling polishing\r\n\r\n- Making pagination spacing uniform\r\n- Fixing onresize event\r\n- Making cards center justification on mobile only\r\n- fixing vertical alignment for companion bar icons\r\n- Fixing Issue where drawer buttons would sometimes not be visible.\r\n- Fixed vertical alignment issue with filter button\r\n\r\n* Fixing orientation change event\r\n\r\n* added fixed position to drawer\r\n\r\n- fixes styling issues\r\n\r\n* added total pages to series modal\r\n\r\n* Downgraded ExCSS package to a version that doesn't die on @page query selectors.\r\n\r\n* Cleaned up some code and wrote some bug markers in typeahead\r\n\r\n* Removed some padding top on companion bar\r\n\r\n* Aligned the top margin for card detail layout and series detail\r\n\r\n* Use a temp close button on book reader until new code is ready.\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix polishing  (#1245)\r\n\r\n* Fixed a bug where volumes that are a range fail to generate series detail\r\n\r\n* Moved tags closer to genre instead of between different people\r\n\r\n* Optimized the query for On Deck\r\n\r\n* Adjusted mime types to map to cbX types instead of their generic compression methods.\r\n\r\n* Added wiki documentation into invite user flow and register admin user to help users understand email isn't required and they can host their own service.\r\n\r\n* Refactored the document height to be set and removed on nav service, so the book reader and manga reader aren't broken.\r\n\r\n* Refactored On Deck to first be completely streamed to UI, without having to do any processing in memory. Rewrote the query so that we sort by progress then chapter added. Progress is 30 days inclusive, chapter added is 7 days.\r\n\r\n* Fixed an issue where epub date parsing would sometimes fail when it's only a year or not a year at all\r\n\r\n* Fixed a bug where incognito mode would report progress\r\n\r\n* Fixed a bug where bulk selection in storyline tab wouldn't properly run the action on the correct chapters (if selecting from volume -> chapter).\r\n\r\n* Removed a - 1 from total page from card progress bar as the original bug was fixed some time ago\r\n\r\n* Fixed a bug where the logic for filtering out a progress event for current logged in user didn't check properly when user is logged out.\r\n\r\n* When a file doesn't exist and we are trying to read, throw a kavita exception to the UI layer and log.\r\n\r\n* Removed unneeded variable and added some jsdoc\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Book Reader Redesign with e-ink focus (#1246)\r\n\r\n* Refactored the drawer into offcanvas component. Had to write some hacks to emulate how bootstrap's javascript implementation works as ngBootstrap doesn't have a component yet.\r\n\r\n* Cleaned up some of the code\r\n\r\n* Rewrote drawer to align it with the new design\r\n\r\n* First pass, refactored table of content into it's own component\r\n\r\n* Refactored all of the settings logic into a separate component. Everything is broken.\r\n\r\n* More settings on on reactive form\r\n\r\n* More code cleanup on settings\r\n\r\n* Misc fixes around the drawer code. Fixed a bug where range sliders were inheriting background color of normal text inputs\r\n\r\n* Fixed dark mode with book reader.\r\n\r\nWe now clear the theme from the main app so book reader is self-contained. Styles for dark mode are injected into the reading-section. Styles that were previously in scss are now only for the actual menu system.\r\n\r\n* Cleaned up drawer styling on header\r\n\r\n* Removed an ngIf statement for click to paginate\r\n\r\n* Tweaked the accent style to have smaller font size and adjusted style on light mode. Cleaned up some clearTimeout code in a further effort to streamline codebase.\r\n\r\n* Refactored Dark mode into a basic theme. Currently styles are hardcoded.\r\n\r\n* Patched book theme in from themes branch\r\n\r\n* Patched in the backend for Book Theme (not tested yet)\r\n\r\n* Fixed a bug in seeding code for book themes. Started integration of themes into the reader settings\r\n\r\n* Everything except managing themes is working. Themes are a bit shakey, having second thoughts if we should have them or not.\r\n\r\n* Reverted the ability to do custom user book themes. Code is stable with system themes.\r\n\r\n* Stablize the Styles (#1128)\r\n\r\n* Fixed a bug where adding multiple series to reading list would throw an error on UI, but it was successful.\r\n\r\n* When a series has a reading list, we now show the connection on Series detail.\r\n\r\n* Removed all baseurl code from UI and not-connected component since we no longer use it.\r\n\r\n* Fixed tag badges not showing a border. Added last read time to the series detail page\r\n\r\n* Fixed up error interceptor to remove no-connection code\r\n\r\n* Changed implementation for series detail. Book libraries will never send chapters back. Volume 0 volumes will not be sent in volumes ever. Fixed up more renaming logic on books to send more accurate representations to the UI.\r\n\r\n* Cleaned up the selected tab and tab display logic\r\n\r\n* Fixed a bad where statement in reading lists for series\r\n\r\n* Fixed up tab logic again\r\n\r\n* Fixed a small margin on search backdrop\r\n\r\n* Made badge expander button smaller to align with badges\r\n\r\n* Fixed a few UIs due to .form-group and .form-row being removed\r\n\r\n* Updated Theme component page to help with style testing\r\n\r\n* Added more components to theme tester\r\n\r\n* Cleaned up some styling\r\n\r\n* Fixed opacity on search item hover\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked the accordion styles for light mode\r\n\r\n* Set dark book theme as default. Refactored resetSettings to be much cleaner\r\n\r\n* Started the refactor to allow book themes to affect global css variables\r\n\r\n* Fixed some issues with my css variable declarations\r\n\r\n* Fixed a close model state update\r\n\r\n* Lots of work, but dark mode on the book reader is basically done. We have to code the themes much like the site themes\r\n\r\n* Some black theme enhancements\r\n\r\n* Started working on column layout in book reader.\r\n\r\n* Cleaned up the CSS on Reader Settings\r\n\r\n* Hooked up reading direction\r\n\r\n* Got column and double column layout working\r\n\r\n* Implemented some basic virtual paging and hooked in book color theme and layout mode into user preferences.\r\n\r\n* Migration wrote, can edit page layout and color theme on book reader. Removed book dark mode since no longer needed.\r\n\r\nFixed a bug on login/register forms where when input is focused, text is white and not black.\r\n\r\n* When loading book reader, apply column layout.\r\n\r\n* Lots of work around 2 column layout, working on images not splitting. Still not working, committing so i can merge develop in and validate code with new manga reader.\r\n\r\n* Fixed images being split into 2 BUT regression on each page boundary, total reading height is smaller and smaller\r\n\r\n* Fixed some rendering bugs where toggling column layouts would shrink images on screen constantly.\r\n\r\nFixed a bug where bottom bar wouldn't render on column layout in some conditions (this might need to be reworked)\r\n\r\n* Started progress on progress work\r\n\r\n* Updated .NET to 6.0.4\r\n\r\n* Fixed a bug where DataContextModelSnapshot was being removed on build thus new migrations were broken.\r\n\r\n* Tweaked the code around progress saving so that we don't loose track of last scroll element on page load\r\n\r\n* Trying to restore progress, but stuck\r\n\r\n* Extra merge stuff\r\n\r\n* Fixed a bug where volumes that are a range fail to generate series detail\r\n\r\n* No gutters on whole app. Book reader backend now applies the image class automatically at the backend.\r\n\r\n* Added wiki documentation into invite user flow and register admin user to help users understand email isn't required and they can host their own service.\r\n\r\n* Removed bottom padding\r\n\r\n* Refactored the document height to be set and removed on nav service, so the book reader and manga reader aren't broken.\r\n\r\n* Fixed the height of the action bar to simplify logic and keep the code cleaner. Refactored book service image scoping to be much more streamlined and efficient\r\n\r\n* Fixed the height of action bar to 62px and adjusted code to use the hardcoded px. (code commented)\r\n\r\n* Removed commented out code from fixed action bar height\r\n\r\n* Progress restoration seems to be working\r\n\r\n* Code cleanup\r\n\r\n* Ensure the bottom action bar is at the bottom of the viewport on small pages\r\n\r\n* Fixed book fonts not setting properly and added OpenDyslexic font.\r\n\r\n* Fixed up some font issues\r\n\r\n* Updated drawer so all sections are open by default\r\n\r\n* Switched some LINQ to use MinBy\r\n\r\n* When navigating between pages and column layout, adjust the shift for the user.\r\n\r\n* Removed some debug code\r\n\r\n* Blacklist .qpkg folders and don't scan Recently-Snapshot or recycle folders.\r\n\r\n* Renamed the scale width to be scoped to kavita to avoid conflicts.\r\n\r\n* Refactored ngx-sliders out to use normal range instead. Changed up the preferences to separate image and book settinngs into own accordion.\r\n\r\n* updated user preferences for new migration options (not committed yet)\r\n\r\n* Removed some debug code\r\n\r\n* Remove console.logs\r\n\r\n* Migration committed, let's release this to users.\r\n\r\n* A lot of crazy code just to ensure that when you close drawer the toggle reflectst that state.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Book Reader Bugfixes (#1254)\r\n\r\n* Fixed image scoping breaking and books not being able to load images\r\n\r\n* Cleaned up a lot of variables and added more jsdoc. After shifting the margin, we try to recover the column layout width,height, and scroll posisiton.\r\n\r\n* Tap to paginate is working on first load now\r\n\r\n* On resize, rescroll to attempt to avoid breakage\r\n\r\n* Fixed transparent background for action bar on white theme\r\n\r\n* Moved some lists to immutable arrays\r\n\r\n* Actually fixed backgournd now\r\n\r\n* Fixed some settings not updating in book reader on load\r\n\r\n* Put some code in place to test out opening menu with clicking on the document\r\n\r\n* Fixed settings not propagating to the reader\r\n\r\n* Fixing 2 column when loading annd ios mobile\r\n\r\n* Fixed an issue where paging to prev page would sometimes skip the first page.\r\n\r\n* Fixing previous page skipping first page of chapter\r\n\r\n* removing console logs\r\n\r\n* Save progress when we page\r\n\r\n* Click on document to show the side nav\r\n\r\n* Removed columns auto because it could render more columns than applicable. Don't explicitly call saveProgress on prev page, as we already do in another call.\r\n\r\nAdjusted the logic to calculate windowHeight and width to be the same throughout the reader.\r\n\r\n* Setting select fix and settings polish\r\n\r\n* Fixed awkward tooltip wording\r\n\r\n* Added a message for when there is nothing to show on recommended tab\r\n\r\n* Removed bug marker, there was no bug after all\r\n\r\n* Fixing book title truncation in action bar\r\n\r\n* When counting volumes or chapters that have range, count the max part of the range for publication status.\r\n\r\n* Fixing TOC rendering issue\r\n\r\n* Styling fixes\r\n\r\n- Fixed an issue where the image height in the book reader was the column height plus padding so it was breaking pagination calc.\r\n- Centered book reader setting pills\r\n- Made inactive setting pill into a ghost button\r\n- Fixed spacing across the reader settings drawer\r\n\r\n* Added a bit of code to allow us to disable buttons before we click for next chapter load\r\n\r\n* Removed titles from action bars\r\n\r\n* The next page button will now show as the primary color to indicate to the user what the next forward page is.\r\n\r\n* Added a view series to bookmark page and removed actions from header since it didn't work\r\n\r\n* Fixed a bug where pagination wasn't mutating url state\r\n\r\n* Lots of changes, code is kinda working.\r\n\r\nAdded Immersive Mode, but didn't generate migration.\r\n\r\nAdded concept of virtual pages with ability to see them. Math is still slightly off.\r\n\r\nCleaned up prefetching code so we do it much earlier.\r\n\r\nAdded some code that doesn't work to disable buttons with virtual paging included.\r\n\r\n* When turning immersive mode on, force tap to paginate\r\n\r\n* Refactored out the book reader state as it wasn't very beneficial\r\n\r\n* Fixed total virtual page calculation\r\n\r\n* Next/prev page seems to be working pretty well\r\n\r\n* Applied Robbie's virtual page logic and fixed a bug in prev page code\r\n\r\n* Changed the next page to use same virtual page logic\r\n\r\n* Getting back and forward working...somehow.\r\n\r\n* removing redundant code\r\n\r\n* Fixing book title overflow from new action bar changes\r\n\r\n* Polishing pagination styles\r\n\r\n* Changing chapter to section\r\n\r\n* Fixing up other book reader themes\r\n\r\n* Fixed the login header being off-center\r\n\r\n* Fixing styling to follow approach\r\n\r\n* Refactored the pagination buttons to properly call next/prev page based on reading direction\r\n\r\n* Drawer pagination buttons now respect when there is no chapters (prev/next)\r\n\r\n* Everything except disabling buttons when on last possible page working\r\n\r\n* Added Book Reader immersive mode migration\r\n\r\n* Disable next/prev buttons for continuous reading before we request next/prev chapter if there is no chapter.\r\n\r\n* Show a tooltip for the title\r\n\r\n* Fixed unit test\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* More Reader Bugfixes (#1255)\r\n\r\n* Added css to center images\r\n\r\n* Better scaling css\r\n\r\n* Removing vertical height css for actionbar calc\r\n\r\n* Fixed a bug where book settings couldn't be saved due to typo in model\r\n\r\n* fixing height across layouts\r\n\r\n* Fixed an issue where column mode would reset to user preference default between continuous reader loads\r\n\r\n* Fixing some more logic\r\n\r\n* Reading direction arrow keys now flip\r\n\r\n* Small code cleanup on Robbie's code\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Reader scroll area fix (#1257)\r\n\r\n* Changes to make the pagination area scrollable (not working, debug code for Robbie)\r\n\r\n* Adjusted the html to be easier to understand and more streamlined\r\n\r\n* Fixed inability to scroll in manga reader over pagination areas for everything but the bottom bar\r\n\r\n* Book reader now allows you to scroll over pagination area\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Adding code to make sure bottom actionbar is applied on layout change (#1258)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Last batch of bugfixes (#1262)\r\n\r\n* Refactored code to show action bar instead of drawer in immersive mode\r\n\r\n* Card grid\r\n\r\n* adding margin for pagination gap\r\n\r\n* Fixed a rare routing case that wouldn't redirect\r\n\r\n* Fixed a bug where series detail would show blank filtering\r\n\r\n* Fixing image scaling and library card spacing\r\n\r\n* Refactored some methods to be static\r\n\r\n* Adding card grid to series detail\r\n\r\n* Fixed a bug with webtoon going to non-webtoon mode, resulting in black screen.\r\n\r\n* Ensure emails are trimmed when trying to invite.\r\n\r\n* Don't show More In if there is only 1 item in there on library recommended tab\r\n\r\n* Fixed some bugs around locking metadata fields where the correct param wasn't being sent to backend.\r\n\r\n* Added some UI error messaging when the email doesn't match the confirm-email (or rather any email in the system).\r\n\r\n* Fixed some pages where actions weren't working (library detail) and removed some actionable buttons where they didn't make sense\r\n\r\n* Refactored the series detail to use Robbie's new grid system.\r\n\r\n* some styling fixes\r\n\r\n* Styling fixes\r\n\r\n- Removing select border gap\r\n- fixing switches on lite theme\r\n- fixing search result text-light\r\n\r\n* better css var naming\r\n\r\n* changing search lite text color override\r\n\r\n* fixing as per feedback\r\n\r\n* Removing boolean from being visible in bookreader\r\n\r\n* Fixed some bugs in bulk operations not being visible on light/eink screens. Added --bulk-selection-highlight-text-color and --bulk-selection-text-color.\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Remove Light and E-Ink theme (#1263)\r\n\r\n* Refactored code to show action bar instead of drawer in immersive mode\r\n\r\n* Card grid\r\n\r\n* adding margin for pagination gap\r\n\r\n* Fixed a rare routing case that wouldn't redirect\r\n\r\n* Fixed a bug where series detail would show blank filtering\r\n\r\n* Fixing image scaling and library card spacing\r\n\r\n* Refactored some methods to be static\r\n\r\n* Adding card grid to series detail\r\n\r\n* Fixed a bug with webtoon going to non-webtoon mode, resulting in black screen.\r\n\r\n* Ensure emails are trimmed when trying to invite.\r\n\r\n* Don't show More In if there is only 1 item in there on library recommended tab\r\n\r\n* Fixed some bugs around locking metadata fields where the correct param wasn't being sent to backend.\r\n\r\n* Added some UI error messaging when the email doesn't match the confirm-email (or rather any email in the system).\r\n\r\n* Fixed some pages where actions weren't working (library detail) and removed some actionable buttons where they didn't make sense\r\n\r\n* Refactored the series detail to use Robbie's new grid system.\r\n\r\n* some styling fixes\r\n\r\n* Styling fixes\r\n\r\n- Removing select border gap\r\n- fixing switches on lite theme\r\n- fixing search result text-light\r\n\r\n* better css var naming\r\n\r\n* changing search lite text color override\r\n\r\n* fixing as per feedback\r\n\r\n* Removing boolean from being visible in bookreader\r\n\r\n* Fixed some bugs in bulk operations not being visible on light/eink screens. Added --bulk-selection-highlight-text-color and --bulk-selection-text-color.\r\n\r\n* Wrote basic code to remove other themes. Need a migration instead.\r\n\r\n* Added a migration to remove light/e-ink themes and migrate users over to Dark theme by default.\r\n\r\n* Fixed unit tests\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout (#1266)\r\n\r\n* Fixed an issue with fit to screen where spread images would fail to generate a paging area long enough.\r\n\r\n* Fixed pagination placement on original scaling\r\n\r\n* Fixed an issue with webtoon reader not reporting scroll events due to a fix from manga reader.\r\n\r\n* Fixing select on black book-reader theme\r\n\r\n* Fixing canvas split centering\r\n\r\n* Fixed a bug with white mode in book reader not rendering correctly. When bookmarking new pages after previously have viewing bookmarks for a series, ensure we clear out the temp cache else your new files wont be visible till next day.\r\n\r\n* Use grid on related tab\r\n\r\n* Clear bookmarks was not hooked up. Bulk add to collection didn't have label hidden\r\n\r\n* Fixed bug where filter might stay open between pages\r\n\r\n* Fixed typo on relationship for Adaptation\r\n\r\n* Contains was missing from series relation modal\r\n\r\n* Tweaked some methods and wording on reading list page\r\n\r\n* Cleaned up the phrasing when we abort a scan.\r\n\r\n* Fixed issue where typeahead wasn't reopening and it wasn't filtering selected options\r\n\r\n* Fixed some typeahead bugs and decreased interval for docker health check\r\n\r\n* Cleaned up and fixed some logic with receiving cover image update events\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout Part 2 (#1267)\r\n\r\n* Fixed manga reader and removed debug code\r\n\r\n* Removed some console.logs\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Updated the readme to reflect new UX and some tweaks to wordings. (#1270)\r\n\r\n* version bump\r\n\r\nCo-authored-by: ThePromidius <thepromidiusyt@gmail.com>\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\nCo-authored-by: mihaibargau <45738311+mihaibargau@users.noreply.github.com>\r\nCo-authored-by: mihaibargau <mihai.bargau@gmail.com>",
      "files_changed": [
        ".gitignore",
        "API.Benchmark/ParseScannedFilesBenchmarks.cs",
        "API.Tests/API.Tests.csproj",
        "API.Tests/Comparers/ChapterSortComparerZeroFirstTests.cs",
        "API.Tests/Comparers/NumericComparerTests.cs",
        "API.Tests/Entities/ComicInfoTests.cs",
        "API.Tests/Extensions/ChapterListExtensionsTests.cs",
        "API.Tests/Extensions/VolumeListExtensionsTests.cs",
        "API.Tests/Helpers/EntityFactory.cs",
        "API.Tests/Parser/DefaultParserTests.cs",
        "API.Tests/Parser/MangaParserTests.cs",
        "API.Tests/Parser/ParserTest.cs",
        "API.Tests/Services/BookmarkServiceTests.cs",
        "API.Tests/Services/CacheServiceTests.cs",
        "API.Tests/Services/CleanupServiceTests.cs",
        "API.Tests/Services/DirectoryServiceTests.cs",
        "API.Tests/Services/ReaderServiceTests.cs",
        "API.Tests/Services/ScannerServiceTests.cs",
        "API.Tests/Services/SeriesServiceTests.cs",
        "API.Tests/Services/SiteThemeServiceTests.cs",
        "API.Tests/Services/Test Data/ArchiveService/Archives/macos_native.zip",
        "API.Tests/Services/Test Data/ArchiveService/CoverImages/macos_native.zip",
        "API/.dockerignore",
        "API/API.csproj",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BookController.cs",
        "API/Controllers/CollectionController.cs",
        "API/Controllers/DownloadController.cs",
        "API/Controllers/ImageController.cs",
        "API/Controllers/MetadataController.cs",
        "API/Controllers/OPDSController.cs",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/RecommendedController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Controllers/ThemeController.cs",
        "API/Controllers/UploadController.cs",
        "API/Controllers/UsersController.cs",
        "API/DTOs/Account/InviteUserDto.cs",
        "API/DTOs/Filtering/FilterDto.cs",
        "API/DTOs/Filtering/SortField.cs",
        "API/DTOs/MangaFileDto.cs",
        "API/DTOs/Reader/BookmarkInfoDto.cs",
        "API/DTOs/ReadingLists/ReadingListDto.cs",
        "API/DTOs/ReadingLists/UpdateReadingListDto.cs",
        "API/DTOs/Search/SearchResultGroupDto.cs",
        "API/DTOs/SeriesDetail/RelatedSeriesDto.cs",
        "API/DTOs/SeriesDetail/SeriesDetailDto.cs",
        "API/DTOs/SeriesDetail/UpdateRelatedSeriesDto.cs",
        "API/DTOs/SeriesDetailDto.cs",
        "API/DTOs/SeriesDto.cs",
        "API/DTOs/SeriesFilterDto.cs",
        "API/DTOs/SeriesMetadataDto.cs",
        "API/DTOs/Theme/SiteThemeDto.cs",
        "API/DTOs/Theme/UpdateDefaultSiteThemeDto.cs",
        "API/DTOs/Theme/UpdateDefaultThemeDto.cs",
        "API/DTOs/UserPreferencesDto.cs",
        "API/Data/DataContext.cs",
        "API/Data/DbFactory.cs",
        "API/Data/Metadata/ComicInfo.cs",
        "API/Data/MigrateRemoveExtraThemes.cs",
        "API/Data/Migrations/20220410230540_SeriesLastChapterAddedAndReadingListNormalization.Designer.cs",
        "API/Data/Migrations/20220410230540_SeriesLastChapterAddedAndReadingListNormalization.cs",
        "API/Data/Migrations/20220416211340_RemoveCustomIndex.Designer.cs",
        "API/Data/Migrations/20220416211340_RemoveCustomIndex.cs",
        "API/Data/Migrations/20220421214448_SeriesRelations.Designer.cs",
        "API/Data/Migrations/20220421214448_SeriesRelations.cs",
        "API/Data/Migrations/20220425125505_ChangeCountToTotalCount.Designer.cs",
        "API/Data/Migrations/20220425125505_ChangeCountToTotalCount.cs",
        "API/Data/Migrations/20220425131122_AddMaxCountToSeriesMetadata.Designer.cs",
        "API/Data/Migrations/20220425131122_AddMaxCountToSeriesMetadata.cs",
        "API/Data/Migrations/20220508162841_BookReaderUpdate.Designer.cs",
        "API/Data/Migrations/20220508162841_BookReaderUpdate.cs",
        "API/Data/Migrations/20220513234708_BookReaderImmersiveMode.Designer.cs",
        "API/Data/Migrations/20220513234708_BookReaderImmersiveMode.cs",
        "API/Data/Migrations/DataContextModelSnapshot.cs",
        "API/Data/Repositories/CollectionTagRepository.cs",
        "API/Data/Repositories/ReadingListRepository.cs",
        "API/Data/Repositories/SeriesRepository.cs",
        "API/Data/Repositories/SiteThemeRepository.cs",
        "API/Data/Seed.cs",
        "API/Dockerfile",
        "API/Entities/AppUserPreferences.cs",
        "API/Entities/Enums/AgeRating.cs",
        "API/Entities/Enums/BookPageLayoutMode.cs",
        "API/Entities/Enums/PublicationStatus.cs",
        "API/Entities/Enums/RelationKind.cs",
        "API/Entities/Interfaces/ITheme.cs",
        "API/Entities/Metadata/SeriesMetadata.cs",
        "API/Entities/Metadata/SeriesRelation.cs",
        "API/Entities/ReadingList.cs",
        "API/Entities/Series.cs",
        "API/Entities/SiteTheme.cs",
        "API/Extensions/ApplicationServiceExtensions.cs",
        "API/Extensions/ChapterListExtensions.cs",
        "API/Extensions/VolumeListExtensions.cs",
        "API/Helpers/AutoMapperProfiles.cs",
        "API/Helpers/PersonHelper.cs",
        "API/Parser/DefaultParser.cs",
        "API/Parser/Parser.cs",
        "API/Parser/ParserInfo.cs",
        "API/Services/ArchiveService.cs",
        "API/Services/BookService.cs",
        "API/Services/BookmarkService.cs",
        "API/Services/CacheService.cs",
        "API/Services/DirectoryService.cs",
        "API/Services/DownloadService.cs",
        "API/Services/ImageService.cs",
        "API/Services/MetadataService.cs",
        "API/Services/ReaderService.cs",
        "API/Services/ReadingItemService.cs",
        "API/Services/SeriesService.cs",
        "API/Services/TaskScheduler.cs",
        "API/Services/Tasks/CleanupService.cs",
        "API/Services/Tasks/Scanner/ParseScannedFiles.cs",
        "API/Services/Tasks/ScannerService.cs",
        "API/Services/Tasks/SiteThemeService.cs",
        "API/SignalR/MessageFactory.cs",
        "API/Startup.cs",
        "API/config/kavita.db.dik",
        "API/config/kavita.db.new",
        "CONTRIBUTING.md",
        "Dockerfile",
        "Kavita.Common/Kavita.Common.csproj",
        "README.md",
        "UI/Web/.github/workflows/playwright.yml",
        "UI/Web/.gitignore",
        "UI/Web/README.md",
        "UI/Web/adminStorageState.json",
        "UI/Web/e2e/example.spec.ts.txt",
        "UI/Web/e2e/src/app.e2e-spec.ts",
        "UI/Web/e2e/src/app.spec.ts",
        "UI/Web/e2e/src/login/login.spec.ts",
        "UI/Web/e2e/src/registration/forgot-password/forgot-password.spec.ts",
        "UI/Web/e2e/src/side-nav/side-nav.spec.ts",
        "UI/Web/global-setup.ts",
        "UI/Web/nonAdminStorageState.json",
        "UI/Web/package-lock.json",
        "UI/Web/package.json",
        "UI/Web/playwright.config.ts",
        "UI/Web/src/app/_interceptors/error.interceptor.ts",
        "UI/Web/src/app/_modals/review-series-modal/review-series-modal.component.html",
        "UI/Web/src/app/_modals/review-series-modal/review-series-modal.component.scss",
        "UI/Web/src/app/_modals/review-series-modal/review-series-modal.component.ts",
        "UI/Web/src/app/_models/book-page-layout-mode.ts",
        "UI/Web/src/app/_models/events/site-theme-progress-event.ts",
        "UI/Web/src/app/_models/events/theme-progress-event.ts",
        "UI/Web/src/app/_models/events/user-progress-update-event.ts",
        "UI/Web/src/app/_models/manga-file.ts",
        "UI/Web/src/app/_models/manga-reader/bookmark-info.ts",
        "UI/Web/src/app/_models/metadata/publication-status.ts",
        "UI/Web/src/app/_models/preferences/book-theme.ts",
        "UI/Web/src/app/_models/preferences/preferences.ts",
        "UI/Web/src/app/_models/reading-list.ts",
        "UI/Web/src/app/_models/search/search-result-group.ts",
        "UI/Web/src/app/_models/series-detail/related-series.ts",
        "UI/Web/src/app/_models/series-detail/relation-kind.ts",
        "UI/Web/src/app/_models/series-filter.ts",
        "UI/Web/src/app/_models/series-metadata.ts",
        "UI/Web/src/app/_models/series.ts",
        "UI/Web/src/app/_services/account.service.ts",
        "UI/Web/src/app/_services/action-factory.service.ts",
        "UI/Web/src/app/_services/action.service.ts",
        "UI/Web/src/app/_services/image.service.ts",
        "UI/Web/src/app/_services/library.service.ts",
        "UI/Web/src/app/_services/message-hub.service.ts",
        "UI/Web/src/app/_services/metadata.service.ts",
        "UI/Web/src/app/_services/nav.service.ts",
        "UI/Web/src/app/_services/reader.service.ts",
        "UI/Web/src/app/_services/reading-list.service.ts",
        "UI/Web/src/app/_services/recommendation.service.ts",
        "UI/Web/src/app/_services/scroll.service.ts",
        "UI/Web/src/app/_services/series.service.ts",
        "UI/Web/src/app/_services/theme.service.ts",
        "UI/Web/src/app/_services/toggle.service.ts",
        "UI/Web/src/app/_services/upload.service.ts",
        "UI/Web/src/app/admin/edit-user/edit-user.component.ts",
        "UI/Web/src/app/admin/invite-user/invite-user.component.html",
        "UI/Web/src/app/admin/invite-user/invite-user.component.ts",
        "UI/Web/src/app/admin/manage-library/manage-library.component.ts",
        "UI/Web/src/app/admin/manage-settings/manage-settings.component.html",
        "UI/Web/src/app/all-series/all-series-routing.module.ts",
        "UI/Web/src/app/all-series/all-series.component.html",
        "UI/Web/src/app/all-series/all-series.component.ts",
        "UI/Web/src/app/all-series/all-series.module.ts",
        "UI/Web/src/app/app-routing.module.ts",
        "UI/Web/src/app/app.component.html",
        "UI/Web/src/app/app.component.ts",
        "UI/Web/src/app/app.module.ts",
        "UI/Web/src/app/book-reader/_models/book-black-theme.ts",
        "UI/Web/src/app/book-reader/_models/book-dark-theme.ts",
        "UI/Web/src/app/book-reader/_models/book-white-theme.ts",
        "UI/Web/src/app/book-reader/_models/theme-font.ts",
        "UI/Web/src/app/book-reader/book-reader.module.ts",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.html",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.scss",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.ts",
        "UI/Web/src/app/book-reader/book.service.ts",
        "UI/Web/src/app/book-reader/reader-settings/reader-settings.component.html",
        "UI/Web/src/app/book-reader/reader-settings/reader-settings.component.scss",
        "UI/Web/src/app/book-reader/reader-settings/reader-settings.component.ts",
        "UI/Web/src/app/book-reader/table-of-contents/table-of-contents.component.html",
        "UI/Web/src/app/book-reader/table-of-contents/table-of-contents.component.scss",
        "UI/Web/src/app/book-reader/table-of-contents/table-of-contents.component.ts",
        "UI/Web/src/app/bookmark/bookmark-routing.module.ts",
        "UI/Web/src/app/bookmark/bookmark.module.ts",
        "UI/Web/src/app/bookmark/bookmarks/bookmarks.component.html",
        "UI/Web/src/app/bookmark/bookmarks/bookmarks.component.scss",
        "UI/Web/src/app/bookmark/bookmarks/bookmarks.component.ts",
        "UI/Web/src/app/cards/_modals/bookmarks-modal/bookmarks-modal.component.html",
        "UI/Web/src/app/cards/_modals/bookmarks-modal/bookmarks-modal.component.scss",
        "UI/Web/src/app/cards/_modals/bookmarks-modal/bookmarks-modal.component.ts",
        "UI/Web/src/app/cards/_modals/bulk-add-to-collection/bulk-add-to-collection.component.html",
        "UI/Web/src/app/cards/_modals/card-details-modal/card-details-modal.component.html",
        "UI/Web/src/app/cards/_modals/card-details-modal/card-details-modal.component.ts",
        "UI/Web/src/app/cards/_modals/edit-collection-tags/edit-collection-tags.component.html",
        "UI/Web/src/app/cards/_modals/edit-collection-tags/edit-collection-tags.component.ts",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.html",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.ts",
        "UI/Web/src/app/cards/bulk-operations/bulk-operations.component.scss",
        "UI/Web/src/app/cards/bulk-selection.service.ts",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.html",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.scss",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.ts",
        "UI/Web/src/app/cards/card-item/card-item.component.html",
        "UI/Web/src/app/cards/card-item/card-item.component.scss",
        "UI/Web/src/app/cards/card-item/card-item.component.ts",
        "UI/Web/src/app/cards/cards.module.ts",
        "UI/Web/src/app/cards/cover-image-chooser/cover-image-chooser.component.html",
        "UI/Web/src/app/cards/edit-series-relation/edit-series-relation.component.html",
        "UI/Web/src/app/cards/edit-series-relation/edit-series-relation.component.scss",
        "UI/Web/src/app/cards/edit-series-relation/edit-series-relation.component.ts",
        "UI/Web/src/app/cards/series-card/series-card.component.html",
        "UI/Web/src/app/cards/series-card/series-card.component.ts",
        "UI/Web/src/app/carousel/carousel-reel/carousel-reel.component.html",
        "UI/Web/src/app/carousel/carousel-reel/carousel-reel.component.ts",
        "UI/Web/src/app/collections/all-collections/all-collections.component.html",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.html",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.scss",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.ts",
        "UI/Web/src/app/collections/collections.module.ts",
        "UI/Web/src/app/dashboard/dashboard-routing.module.ts",
        "UI/Web/src/app/dashboard/dashboard.component.html",
        "UI/Web/src/app/dashboard/dashboard.component.ts",
        "UI/Web/src/app/dashboard/dashboard.module.ts",
        "UI/Web/src/app/dev-only/dev-only-routing.module.ts",
        "UI/Web/src/app/dev-only/dev-only.module.ts",
        "UI/Web/src/app/dev-only/theme-test/theme-test.component.html",
        "UI/Web/src/app/dev-only/theme-test/theme-test.component.scss",
        "UI/Web/src/app/dev-only/theme-test/theme-test.component.ts",
        "UI/Web/src/app/events-widget/events-widget.component.html",
        "UI/Web/src/app/events-widget/events-widget.component.scss",
        "UI/Web/src/app/events-widget/events-widget.component.ts",
        "UI/Web/src/app/grouped-typeahead/grouped-typeahead.component.html",
        "UI/Web/src/app/grouped-typeahead/grouped-typeahead.component.scss",
        "UI/Web/src/app/grouped-typeahead/grouped-typeahead.component.ts",
        "UI/Web/src/app/library-detail/library-detail-routing.module.ts",
        "UI/Web/src/app/library-detail/library-detail.component.html",
        "UI/Web/src/app/library-detail/library-detail.component.scss",
        "UI/Web/src/app/library-detail/library-detail.component.ts",
        "UI/Web/src/app/library-detail/library-detail.module.ts",
        "UI/Web/src/app/library-detail/library-recommended/library-recommended.component.html",
        "UI/Web/src/app/library-detail/library-recommended/library-recommended.component.scss",
        "UI/Web/src/app/library-detail/library-recommended/library-recommended.component.ts",
        "UI/Web/src/app/library/library.component.html",
        "UI/Web/src/app/library/library.component.scss",
        "UI/Web/src/app/library/library.component.ts",
        "UI/Web/src/app/manga-reader/infinite-scroller/infinite-scroller.component.scss",
        "UI/Web/src/app/manga-reader/infinite-scroller/infinite-scroller.component.ts",
        "UI/Web/src/app/manga-reader/manga-reader.component.html",
        "UI/Web/src/app/manga-reader/manga-reader.component.scss",
        "UI/Web/src/app/manga-reader/manga-reader.component.ts",
        "UI/Web/src/app/metadata-filter/filter-settings.ts",
        "UI/Web/src/app/metadata-filter/metadata-filter.component.html",
        "UI/Web/src/app/metadata-filter/metadata-filter.component.ts",
        "UI/Web/src/app/nav-header/nav-header.component.html",
        "UI/Web/src/app/nav-header/nav-header.component.scss",
        "UI/Web/src/app/nav-header/nav-header.component.ts",
        "UI/Web/src/app/nav/events-widget/events-widget.component.html",
        "UI/Web/src/app/nav/events-widget/events-widget.component.scss",
        "UI/Web/src/app/nav/events-widget/events-widget.component.ts",
        "UI/Web/src/app/nav/grouped-typeahead/grouped-typeahead.component.html",
        "UI/Web/src/app/nav/grouped-typeahead/grouped-typeahead.component.scss",
        "UI/Web/src/app/nav/grouped-typeahead/grouped-typeahead.component.ts",
        "UI/Web/src/app/nav/nav-header/nav-header.component.html",
        "UI/Web/src/app/nav/nav-header/nav-header.component.scss",
        "UI/Web/src/app/nav/nav-header/nav-header.component.ts",
        "UI/Web/src/app/nav/nav.module.ts",
        "UI/Web/src/app/pipe/pipe.module.ts",
        "UI/Web/src/app/pipe/publication-status.pipe.ts",
        "UI/Web/src/app/pipe/relationship.pipe.spec.ts",
        "UI/Web/src/app/pipe/relationship.pipe.ts",
        "UI/Web/src/app/reading-list/_modals/edit-reading-list-modal/edit-reading-list-modal.component.html",
        "UI/Web/src/app/reading-list/_modals/edit-reading-list-modal/edit-reading-list-modal.component.ts",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.html",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.ts",
        "UI/Web/src/app/reading-list/reading-list-routing.module.ts",
        "UI/Web/src/app/reading-list/reading-list.module.ts",
        "UI/Web/src/app/reading-list/reading-list.router.module.ts",
        "UI/Web/src/app/reading-list/reading-lists/reading-lists.component.html",
        "UI/Web/src/app/reading-list/reading-lists/reading-lists.component.ts",
        "UI/Web/src/app/recently-added/recently-added.component.html",
        "UI/Web/src/app/recently-added/recently-added.component.scss",
        "UI/Web/src/app/recently-added/recently-added.component.ts",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.ts",
        "UI/Web/src/app/registration/confirm-migration-email/confirm-migration-email.component.ts",
        "UI/Web/src/app/registration/confirm-reset-password/confirm-reset-password.component.ts",
        "UI/Web/src/app/registration/register/register.component.html",
        "UI/Web/src/app/registration/registration.module.ts",
        "UI/Web/src/app/registration/registration.router.module.ts",
        "UI/Web/src/app/registration/reset-password/reset-password.component.scss",
        "UI/Web/src/app/registration/splash-container/splash-container.component.scss",
        "UI/Web/src/app/registration/user-login/user-login.component.html",
        "UI/Web/src/app/registration/user-login/user-login.component.scss",
        "UI/Web/src/app/registration/user-login/user-login.component.spec.ts",
        "UI/Web/src/app/registration/user-login/user-login.component.ts",
        "UI/Web/src/app/scroll.service.ts",
        "UI/Web/src/app/series-detail/review-series-modal/review-series-modal.component.html",
        "UI/Web/src/app/series-detail/review-series-modal/review-series-modal.component.scss",
        "UI/Web/src/app/series-detail/review-series-modal/review-series-modal.component.ts",
        "UI/Web/src/app/series-detail/series-detail-routing.module.ts",
        "UI/Web/src/app/series-detail/series-detail.component.html",
        "UI/Web/src/app/series-detail/series-detail.component.scss",
        "UI/Web/src/app/series-detail/series-detail.component.ts",
        "UI/Web/src/app/series-detail/series-detail.module.ts",
        "UI/Web/src/app/series-detail/series-metadata-detail/series-metadata-detail.component.html",
        "UI/Web/src/app/series-detail/series-metadata-detail/series-metadata-detail.component.scss",
        "UI/Web/src/app/series-detail/series-metadata-detail/series-metadata-detail.component.ts",
        "UI/Web/src/app/series-metadata-detail/series-metadata-detail.component.html",
        "UI/Web/src/app/series-metadata-detail/series-metadata-detail.component.scss",
        "UI/Web/src/app/series-metadata-detail/series-metadata-detail.component.ts",
        "UI/Web/src/app/shared-side-nav-cards/shared-side-nav-cards.module.ts",
        "UI/Web/src/app/shared/_services/filter-utilities.service.ts",
        "UI/Web/src/app/shared/_services/utility.service.ts",
        "UI/Web/src/app/shared/drawer/drawer.component.html",
        "UI/Web/src/app/shared/drawer/drawer.component.scss",
        "UI/Web/src/app/shared/drawer/drawer.component.ts",
        "UI/Web/src/app/shared/image/image.component.html",
        "UI/Web/src/app/shared/image/image.component.ts",
        "UI/Web/src/app/shared/shared.module.ts",
        "UI/Web/src/app/shared/tag-badge/tag-badge.component.html",
        "UI/Web/src/app/shared/tag-badge/tag-badge.component.scss",
        "UI/Web/src/app/shared/tag-badge/tag-badge.component.ts",
        "UI/Web/src/app/sidenav/side-nav-companion-bar/side-nav-companion-bar.component.html",
        "UI/Web/src/app/sidenav/side-nav-companion-bar/side-nav-companion-bar.component.scss",
        "UI/Web/src/app/sidenav/side-nav-companion-bar/side-nav-companion-bar.component.ts",
        "UI/Web/src/app/sidenav/side-nav-item/side-nav-item.component.html",
        "UI/Web/src/app/sidenav/side-nav-item/side-nav-item.component.scss",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.html",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.scss",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.ts",
        "UI/Web/src/app/theme-test/theme-test.component.html",
        "UI/Web/src/app/theme-test/theme-test.component.scss",
        "UI/Web/src/app/theme-test/theme-test.component.ts",
        "UI/Web/src/app/theme.service.ts",
        "UI/Web/src/app/typeahead/typeahead.component.html",
        "UI/Web/src/app/typeahead/typeahead.component.scss",
        "UI/Web/src/app/typeahead/typeahead.component.ts",
        "UI/Web/src/app/user-login/user-login.component.html",
        "UI/Web/src/app/user-login/user-login.component.scss",
        "UI/Web/src/app/user-login/user-login.component.spec.ts",
        "UI/Web/src/app/user-login/user-login.component.ts",
        "UI/Web/src/app/user-settings/series-bookmarks/series-bookmarks.component.html",
        "UI/Web/src/app/user-settings/series-bookmarks/series-bookmarks.component.scss",
        "UI/Web/src/app/user-settings/series-bookmarks/series-bookmarks.component.ts",
        "UI/Web/src/app/user-settings/theme-manager/theme-manager.component.html",
        "UI/Web/src/app/user-settings/theme-manager/theme-manager.component.ts",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.html",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.scss",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.ts",
        "UI/Web/src/app/user-settings/user-settings.module.ts",
        "UI/Web/src/assets/fonts/OpenDyslexic2/OpenDyslexic-Bold.otf",
        "UI/Web/src/assets/fonts/OpenDyslexic2/OpenDyslexic-BoldItalic.otf",
        "UI/Web/src/assets/fonts/OpenDyslexic2/OpenDyslexic-Italic.otf",
        "UI/Web/src/assets/fonts/OpenDyslexic2/OpenDyslexic-Regular.otf",
        "UI/Web/src/styles.scss",
        "UI/Web/src/theme/components/_accordion.scss",
        "UI/Web/src/theme/components/_card.scss",
        "UI/Web/src/theme/components/_input.scss",
        "UI/Web/src/theme/components/_progress.scss",
        "UI/Web/src/theme/components/_tagbadge.scss",
        "UI/Web/src/theme/components/progress.scss",
        "UI/Web/src/theme/themes/dark.scss",
        "UI/Web/src/theme/themes/e-ink.scss",
        "UI/Web/src/theme/themes/light.scss",
        "UI/Web/src/theme/utilities/_global.scss",
        "UI/Web/storage/admin.json",
        "UI/Web/storage/user.json"
      ],
      "insertions": 22313,
      "deletions": 6309,
      "original_hash": "f9b3f1aeb5bff2d69b061c86dce04c3faff12c61",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "16a77fa8d696a3455bcec8af64931e25afd3c392",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-06-10T07:47:35-05:00",
      "message": "Download Support (#298)\n\n* Implemented the ability to download files (series, volume, chapter)\r\n\r\n* Added RBS checks to ensure user is either an admin or has download role\r\n\r\n* Added the ability to change a users feature RBS. Changed the Role seed to use reflection",
      "files_changed": [
        "API.Tests/Comparers/NaturalSortComparerTest.cs",
        "API.Tests/Services/ArchiveServiceTests.cs",
        "API/Constants/PolicyConstants.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/DownloadController.cs",
        "API/Controllers/ServerController.cs",
        "API/Controllers/SettingsController.cs",
        "API/DTOs/UpdateRBSDto.cs",
        "API/Data/Seed.cs",
        "API/Data/SeriesRepository.cs",
        "API/Data/VolumeRepository.cs",
        "API/Extensions/IdentityServiceExtensions.cs",
        "API/Interfaces/ISeriesRepository.cs",
        "API/Interfaces/IVolumeRepository.cs",
        "API/Interfaces/Services/IArchiveService.cs",
        "API/Services/ArchiveService.cs",
        "API/Services/DirectoryService.cs"
      ],
      "insertions": 262,
      "deletions": 45,
      "original_hash": "16a77fa8d696a3455bcec8af64931e25afd3c392",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "983078de027cd9843b77ad6b60c656edecd311c1",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-03-13T12:28:00-06:00",
      "message": "Ensure I validate before attempting to update password for reset password flow. Send some validation issues back to FE.",
      "files_changed": [
        "API/Controllers/AccountController.cs",
        "API/Services/CacheService.cs",
        "API/Services/Tasks/ScannerService.cs"
      ],
      "insertions": 30,
      "deletions": 9,
      "original_hash": "983078de027cd9843b77ad6b60c656edecd311c1",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "3ed99afd32eb3a97de244bb374df5c28b5997b4d",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-08-17T14:15:32-07:00",
      "message": "Misc Bugfixes and Enhancements (#507)\n\n* Removed some extra spam for the console\r\n\r\n* Implemented the code to update RowVersion, which is our concurrency check\r\n\r\n* Fixed a critical issue where more than one bookmark could occur for a given chapter due to a race condition. Now we use concurrency checks and we also gracefully allow more than one row, by only grabbing first.\r\n\r\n* Cleaned up the logic for IHasConcurencyToken and updated the setters to be private.\r\n\r\n* Lots of comments and when deleting a library, remove any user progress items for which chapters don't exist.\r\n\r\n* When deleting a Series, cleanup user progress rows.\r\n\r\n* Now after a scan of library, if a series is removed, collection tags are pruned as well if there are no longer any series bound to it.\r\n\r\n* Updated the image on the Readme to show a better picture\r\n\r\n* Small code cleanup to remove null check modifier as I check for null just before then\r\n\r\n* Fixed images loading multiple times due to using function in binding with random. You can now click chapter images to read that chapter specifically.\r\n\r\n* Fixed cards being different sizes when read vs unread\r\n\r\n* Moved over Robbie's workflow changes from notifier. Commented out activity indicators as that is not shipping with this release.\r\n\r\n* Remove code that isn't needed\r\n\r\n* Reverted GA\r\n\r\n* Changed GA to trigger only when HEAD is updated",
      "files_changed": [
        ".github/workflows/sonar-scan.yml",
        "API.Tests/Parser/MangaParserTests.cs",
        "API/Archive/ArchiveLibrary.cs",
        "API/Archive/CoverAndPages.cs",
        "API/Constants/PolicyConstants.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/LibraryController.cs",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Data/CollectionTagRepository.cs",
        "API/Data/DataContext.cs",
        "API/Data/Migrations/20210817152226_ProgressConcurencyCheck.Designer.cs",
        "API/Data/Migrations/20210817152226_ProgressConcurencyCheck.cs",
        "API/Data/Migrations/DataContextModelSnapshot.cs",
        "API/Data/UnitOfWork.cs",
        "API/Entities/AppUser.cs",
        "API/Entities/AppUserProgress.cs",
        "API/Entities/CollectionTag.cs",
        "API/Entities/Genre.cs",
        "API/Entities/Person.cs",
        "API/Entities/SeriesMetadata.cs",
        "API/Entities/ServerSetting.cs",
        "API/Interfaces/ICollectionTagRepository.cs",
        "API/Services/MetadataService.cs",
        "API/Services/TaskScheduler.cs",
        "API/Services/Tasks/CleanupService.cs",
        "API/Services/Tasks/ScannerService.cs",
        "Kavita.Common/Configuration.cs",
        "README.md",
        "UI/Web/src/app/_models/chapter.ts",
        "UI/Web/src/app/_services/action-factory.service.ts",
        "UI/Web/src/app/admin/manage-users/manage-users.component.html",
        "UI/Web/src/app/cards/_modals/card-details-modal/card-details-modal.component.html",
        "UI/Web/src/app/cards/_modals/card-details-modal/card-details-modal.component.ts",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.ts",
        "UI/Web/src/app/cards/card-item/card-item.component.html",
        "UI/Web/src/app/cards/card-item/card-item.component.scss",
        "UI/Web/src/app/series-detail/series-detail.component.ts"
      ],
      "insertions": 1378,
      "deletions": 81,
      "original_hash": "3ed99afd32eb3a97de244bb374df5c28b5997b4d",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "2b521924d0f37d3ec4af89ea27a1faaa34b12c01",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2020-12-12T20:14:56-06:00",
      "message": "Setup basic code for login.",
      "files_changed": [
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs",
        "API/DTOs/LoginDto.cs",
        "API/DTOs/RegisterDto.cs",
        "API/DTOs/UserDto.cs",
        "API/Data/DataContext.cs",
        "API/Entities/AppUser.cs",
        "API/Entities/Interfaces/IHasConcurrencyToken.cs",
        "API/Errors/ApiException.cs",
        "API/Extensions/ApplicationServiceExtensions.cs",
        "API/Extensions/IdentityServiceExtensions.cs",
        "API/Interfaces/ITokenService.cs",
        "API/Middleware/ExceptionMiddleware.cs",
        "API/Services/TokenService.cs",
        "API/Startup.cs"
      ],
      "insertions": 380,
      "deletions": 5,
      "original_hash": "2b521924d0f37d3ec4af89ea27a1faaa34b12c01",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "4fcab5800e6728515295292ca468d5713621a0a4",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2022-02-10T16:25:34-08:00",
      "message": "Shakeout Testing Part 2 (#1053)\n\n* Fixed an issue where cover update events wouldn't refresh an image after the second event came through due to randomization\r\n\r\n* Fixed an issue where download event wasn't send consistently when downloading files.\r\n\r\n* Fixed a bug where you couldn't add a new role to a user\r\n\r\n* Fixed a bug where if you went to edit user library, the roles would get reset to nothing\r\n\r\n* Adjust the rendering on reading list page to be better on smaller screens (and worse on larger ones)\r\n\r\n* Tweaked the refresh covers message to use queued and not started\r\n\r\n* Cleaned up the code for image on when to update based on CoverUpdate event. On dashboard, don't spam reload recently added on every series update or scan complete. Debouce for 1 second between calls.\r\n\r\n* Fixed an issue where we sent an error on forgot password confirmation, but really, it was successful.\r\n\r\n* Added Reading Lists and Library to search results\r\n\r\n* Fixed a bug in the search component where hitting esc to close overlay then typing again wouldn't reopen the overlay\r\n\r\n* When resending invites, send the correct link for an invite\r\n\r\n* Tell the admin an email was sent on invite\r\n\r\n* Fixed the error interceptor to flatten validation error messages more robustly and now confirm email will show validation exceptions\r\n\r\n* Fixed a bug in webtoon reader where we were reading the wrong dimension for fitting images to screen on render\r\n\r\n* When generating email links, inform who they are for in the logs.\r\n\r\nFixed an issue with an error message on login when password was incorrect, but user hadn't confirmed email yet.\r\n\r\nFixed multiple cases where migration wasn't sending error messages back correctly and hence the user never saw them.\r\n\r\n* Show errors on migration UI form\r\n\r\n* Changed log rolling to be easier to understand\r\n\r\n* Added some extra logic to throw unauthorized\r\n\r\n* Tweaked some wording to inform user how to best find email link\r\n\r\n* Fixed a code smell",
      "files_changed": [
        "API/Controllers/AccountController.cs",
        "API/Controllers/DownloadController.cs",
        "API/DTOs/Search/SearchResultGroupDto.cs",
        "API/Data/Repositories/SeriesRepository.cs",
        "API/Services/Tasks/ScannerService.cs",
        "API/config/appsettings.Development.json",
        "UI/Web/src/app/_interceptors/error.interceptor.ts",
        "UI/Web/src/app/_models/search/search-result-group.ts",
        "UI/Web/src/app/_services/action.service.ts",
        "UI/Web/src/app/_services/image.service.ts",
        "UI/Web/src/app/admin/invite-user/invite-user.component.ts",
        "UI/Web/src/app/admin/role-selector/role-selector.component.ts",
        "UI/Web/src/app/grouped-typeahead/grouped-typeahead.component.html",
        "UI/Web/src/app/grouped-typeahead/grouped-typeahead.component.ts",
        "UI/Web/src/app/library/library.component.html",
        "UI/Web/src/app/library/library.component.ts",
        "UI/Web/src/app/manga-reader/infinite-scroller/infinite-scroller.component.ts",
        "UI/Web/src/app/nav-events-toggle/nav-events-toggle.component.ts",
        "UI/Web/src/app/nav-header/nav-header.component.html",
        "UI/Web/src/app/nav-header/nav-header.component.ts",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.html",
        "UI/Web/src/app/registration/add-email-to-account-migration-modal/add-email-to-account-migration-modal.component.html",
        "UI/Web/src/app/registration/add-email-to-account-migration-modal/add-email-to-account-migration-modal.component.ts",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.html",
        "UI/Web/src/app/registration/confirm-email/confirm-email.component.ts",
        "UI/Web/src/app/shared/image/image.component.ts"
      ],
      "insertions": 211,
      "deletions": 65,
      "original_hash": "4fcab5800e6728515295292ca468d5713621a0a4",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "6006faa574ec23d5c438867ef7093d7c790c8535",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2022-01-05T15:07:54-08:00",
      "message": "Fixed a critical bug where registration was broken for first time flow. Refactored how backup before migrations occured such that it now puts the db in temp. The db will be deleted automatically that night. (#900)",
      "files_changed": [
        "API/Controllers/AccountController.cs",
        "API/Controllers/CollectionController.cs",
        "API/Controllers/OPDSController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Data/Repositories/UserRepository.cs",
        "API/Program.cs",
        "API/Startup.cs"
      ],
      "insertions": 68,
      "deletions": 61,
      "original_hash": "6006faa574ec23d5c438867ef7093d7c790c8535",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "cf7a9aa71e65afcfd25520b54ea1349fbbb4272f",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-09-08T12:03:27-05:00",
      "message": "Reading Lists & More (#564)\n\n* Added continous reading to the book reader. Clicking on the max pages to right of progress bar will now go to last page.\r\n\r\n* Forgot a file for continous book reading\r\n\r\n* Fixed up some code regarding transitioning between chapters. Arrows now show to represent a chapter transition.\r\n\r\n* Laid the foundation for reading lists\r\n\r\n* All foundation is laid out. Actions are wired in the UI. Backend repository is setup. Redid the migration to have ReadingList track modification so we can order them for the user.\r\n\r\n* Updated add modal to have basic skeleton\r\n\r\n* Hooked up ability to fetch reading lists from backend\r\n\r\n* Made a huge performance improvement to GetChapterIdsForSeriesAsync() by reducing a JOIN and an iteration loop. Improvement went from 2 seconds -> 200 ms.\r\n\r\n* Implemented the ability to add all chapters in a series to a reading list.\r\n\r\n* Fixed issue with adding new items to reading list not being in a logical order. Lots of work on getting all the information around the reading list view. Added some foreign keys back to chapter so delete should clean up after itself.\r\n\r\n* Added ability to open directly the series\r\n\r\n* Reading List Items now have progress attached\r\n\r\n* Hooked up list deletion and added a case where if doesn't exist on load, then redirect to library.\r\n\r\n* Lots of changes. Introduced a dashboard component for the main app. This will sit on libraries route for now and will have 3 tabs to show different sections.\r\n\r\nMoved libraries reel down to bottom as people are more likely to access recently added or in progress than explore their whole library.\r\n\r\nNote: Bundles are messed up, they need to be reoptimized and routes need to be updated.\r\n\r\n* Added pagination to the reading lists api and implemented a page to show all lists\r\n\r\n* Cleaned up old code from all-collections component so now it only handles all collections and doesn't have the old code for an individual collection\r\n\r\n* Hooked in actions and navigation on reading lists\r\n\r\n* When the user re-arranges items, they are now persisted\r\n\r\n* Implemented remove read, but performance is pretty poor. Needs to be optimized.\r\n\r\n* Lots of API fixes for adding items to a series, returning items, etc. Committing before fixing incorrect fetches of items for a readingListId.\r\n\r\n* Rewrote the joins for GetReadingListItemDtosByIdAsync() to not return extra records.\r\n\r\n* Remove bug marker now that it is fixed\r\n\r\n* Refactor update-by-series to move more of the code to a re-usable function for update-by-volume/chapter APIs\r\n\r\n* Implemented the ability to add via series, volume or chapter.\r\n\r\n* Added OPDS support for reading lists. This included adding VolumeId to the ReadingListDto.\r\n\r\n* Fixed a bug with deleting items\r\n\r\n* After we create a library inform user that a scan has started\r\n\r\n* Added some extra help information for users on directory picker, since linux users were getting confused.\r\n\r\n* Setup for the reading functionality\r\n\r\n* Fixed an issue where opening the edit series modal and pressing save without doing anything would empty collection tags. Would happen often when editing cover images.\r\n\r\n* Fixed get-next-chapter for reading list. Refactored all methods to use the new GetUserIdByUsernameAsync(), which is much faster and uses less memory.\r\n\r\n* Hooked in prev chapter for continuous reading with reading list\r\n\r\n* Hooked up the read code for manga reader and book reader to have list id passed\r\n\r\n* Manga reader now functions completely with reading lists\r\n\r\n* Implemented reading list and incognito mode into book reader\r\n\r\n* Refactored some common reading code into reader service\r\n\r\n* Added support for \"Series -  - Vol. 03 Ch. 023.5 - Volume 3 Extras.cbz\" format that can occur with FMD2.\r\n\r\n* Implemented continuous reading with a reading list between different readers. This incurs a 3x performance hit on the book info api.\r\n\r\n* style changes. Don't emit an event if position of draggable item hasn't changed\r\n\r\n* Styling and added the edit reading list flow.\r\n\r\n* Cleaned up some extra spaces when actionables isn't shown. Lots of cleanup for promoted lists.\r\n\r\n* Refactored some filter code to a common service\r\n\r\n* Added an RBS check in getting Items for a given user.\r\n\r\n* Code smells\r\n\r\n* More smells",
      "files_changed": [
        "API.Benchmark/ParseScannedFilesBenchmarks.cs",
        "API.Tests/Parser/MangaParserTests.cs",
        "API/Controllers/BookController.cs",
        "API/Controllers/LibraryController.cs",
        "API/Controllers/OPDSController.cs",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Controllers/SettingsController.cs",
        "API/Controllers/UsersController.cs",
        "API/DTOs/Reader/BookInfoDto.cs",
        "API/DTOs/Reader/ChapterInfoDto.cs",
        "API/DTOs/ReadingLists/CreateReadingListDto.cs",
        "API/DTOs/ReadingLists/ReadingListDto.cs",
        "API/DTOs/ReadingLists/ReadingListItemDto.cs",
        "API/DTOs/ReadingLists/UpdateReadingListByChapterDto.cs",
        "API/DTOs/ReadingLists/UpdateReadingListBySeriesDto.cs",
        "API/DTOs/ReadingLists/UpdateReadingListByVolumeDto.cs",
        "API/DTOs/ReadingLists/UpdateReadingListDto.cs",
        "API/DTOs/ReadingLists/UpdateReadingListPosition.cs",
        "API/DTOs/VolumeDto.cs",
        "API/Data/AppUserProgressRepository.cs",
        "API/Data/BookmarkRepository.cs",
        "API/Data/ChapterRepository.cs",
        "API/Data/CollectionTagRepository.cs",
        "API/Data/DataContext.cs",
        "API/Data/FileRepository.cs",
        "API/Data/LibraryRepository.cs",
        "API/Data/Migrations/20210901150310_ReadingLists.Designer.cs",
        "API/Data/Migrations/20210901150310_ReadingLists.cs",
        "API/Data/Migrations/20210901200442_ReadingListsAdditions.Designer.cs",
        "API/Data/Migrations/20210901200442_ReadingListsAdditions.cs",
        "API/Data/Migrations/20210902110705_ReadingListsExtraRealationships.Designer.cs",
        "API/Data/Migrations/20210902110705_ReadingListsExtraRealationships.cs",
        "API/Data/Migrations/20210906140845_ReadingListsChanges.Designer.cs",
        "API/Data/Migrations/20210906140845_ReadingListsChanges.cs",
        "API/Data/Migrations/DataContextModelSnapshot.cs",
        "API/Data/Repositories/AppUserProgressRepository.cs",
        "API/Data/Repositories/ChapterRepository.cs",
        "API/Data/Repositories/CollectionTagRepository.cs",
        "API/Data/Repositories/FileRepository.cs",
        "API/Data/Repositories/LibraryRepository.cs",
        "API/Data/Repositories/ReadingListRepository.cs",
        "API/Data/Repositories/SeriesRepository.cs",
        "API/Data/Repositories/SettingsRepository.cs",
        "API/Data/Repositories/UserRepository.cs",
        "API/Data/Repositories/VolumeRepository.cs",
        "API/Data/SeriesRepository.cs",
        "API/Data/SettingsRepository.cs",
        "API/Data/UnitOfWork.cs",
        "API/Data/UserRepository.cs",
        "API/Data/VolumeRepository.cs",
        "API/Entities/AppUser.cs",
        "API/Entities/ReadingList.cs",
        "API/Entities/ReadingListItem.cs",
        "API/Extensions/FileInfoExtensions.cs",
        "API/Helpers/AutoMapperProfiles.cs",
        "API/Interfaces/IAppUserProgressRepository.cs",
        "API/Interfaces/ICollectionTagRepository.cs",
        "API/Interfaces/IFileRepository.cs",
        "API/Interfaces/ILibraryRepository.cs",
        "API/Interfaces/ISeriesRepository.cs",
        "API/Interfaces/ISettingsRepository.cs",
        "API/Interfaces/IUnitOfWork.cs",
        "API/Interfaces/IUserRepository.cs",
        "API/Interfaces/IVolumeRepository.cs",
        "API/Interfaces/Repositories/IAppUserProgressRepository.cs",
        "API/Interfaces/Repositories/IChapterRepository.cs",
        "API/Interfaces/Repositories/ICollectionTagRepository.cs",
        "API/Interfaces/Repositories/IFileRepository.cs",
        "API/Interfaces/Repositories/ILibraryRepository.cs",
        "API/Interfaces/Repositories/IReadingListRepository.cs",
        "API/Interfaces/Repositories/ISeriesRepository.cs",
        "API/Interfaces/Repositories/ISettingsRepository.cs",
        "API/Interfaces/Repositories/IUserRepository.cs",
        "API/Interfaces/Repositories/IVolumeRepository.cs",
        "API/Parser/Parser.cs",
        "API/Services/TaskScheduler.cs",
        "UI/Web/package-lock.json",
        "UI/Web/package.json",
        "UI/Web/src/app/_models/reading-list.ts",
        "UI/Web/src/app/_services/action-factory.service.ts",
        "UI/Web/src/app/_services/action.service.ts",
        "UI/Web/src/app/_services/reader.service.ts",
        "UI/Web/src/app/_services/reading-list.service.ts",
        "UI/Web/src/app/admin/_modals/directory-picker/directory-picker.component.html",
        "UI/Web/src/app/admin/_modals/library-editor-modal/library-editor-modal.component.ts",
        "UI/Web/src/app/admin/dashboard/dashboard.component.html",
        "UI/Web/src/app/app-routing.module.ts",
        "UI/Web/src/app/app.module.ts",
        "UI/Web/src/app/book-reader/_models/book-info.ts",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.html",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.ts",
        "UI/Web/src/app/book-reader/book.service.ts",
        "UI/Web/src/app/cards/_modals/card-details-modal/card-details-modal.component.html",
        "UI/Web/src/app/cards/_modals/edit-collection-tags/edit-collection-tags.component.html",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.ts",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.html",
        "UI/Web/src/app/cards/card-item/card-item.component.ts",
        "UI/Web/src/app/cards/series-card/series-card.component.ts",
        "UI/Web/src/app/collections/all-collections/all-collections.component.html",
        "UI/Web/src/app/collections/all-collections/all-collections.component.ts",
        "UI/Web/src/app/collections/collections.module.ts",
        "UI/Web/src/app/dashboard/dashboard.component.html",
        "UI/Web/src/app/dashboard/dashboard.component.scss",
        "UI/Web/src/app/dashboard/dashboard.component.ts",
        "UI/Web/src/app/library/library.component.html",
        "UI/Web/src/app/library/library.component.ts",
        "UI/Web/src/app/manga-reader/_models/chapter-info.ts",
        "UI/Web/src/app/manga-reader/manga-reader.component.ts",
        "UI/Web/src/app/manga-reader/manga-reader.router.module.ts",
        "UI/Web/src/app/nav-header/nav-header.component.ts",
        "UI/Web/src/app/reading-list/_modals/add-to-list-modal/add-to-list-modal.component.html",
        "UI/Web/src/app/reading-list/_modals/add-to-list-modal/add-to-list-modal.component.scss",
        "UI/Web/src/app/reading-list/_modals/add-to-list-modal/add-to-list-modal.component.ts",
        "UI/Web/src/app/reading-list/_modals/edit-reading-list-modal/edit-reading-list-modal.component.html",
        "UI/Web/src/app/reading-list/_modals/edit-reading-list-modal/edit-reading-list-modal.component.scss",
        "UI/Web/src/app/reading-list/_modals/edit-reading-list-modal/edit-reading-list-modal.component.ts",
        "UI/Web/src/app/reading-list/dragable-ordered-list/dragable-ordered-list.component.html",
        "UI/Web/src/app/reading-list/dragable-ordered-list/dragable-ordered-list.component.scss",
        "UI/Web/src/app/reading-list/dragable-ordered-list/dragable-ordered-list.component.ts",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.html",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.scss",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.ts",
        "UI/Web/src/app/reading-list/reading-list.module.ts",
        "UI/Web/src/app/reading-list/reading-list.router.module.ts",
        "UI/Web/src/app/reading-list/reading-lists/reading-lists.component.html",
        "UI/Web/src/app/reading-list/reading-lists/reading-lists.component.scss",
        "UI/Web/src/app/reading-list/reading-lists/reading-lists.component.ts",
        "UI/Web/src/app/series-detail/series-detail.component.html",
        "UI/Web/src/app/series-detail/series-detail.component.ts",
        "UI/Web/src/app/shared/shared.module.ts",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.html",
        "UI/Web/src/assets/themes/dark.scss"
      ],
      "insertions": 8392,
      "deletions": 1647,
      "original_hash": "cf7a9aa71e65afcfd25520b54ea1349fbbb4272f",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "6069d93c38f413e74e86e1bb03d2c65002200290",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-08-27T10:19:25-07:00",
      "message": "OPDS Support (#526)\n\n* Added some basic OPDS implementation\r\n\r\n* Fixed an issue with feed href\r\n\r\n* More changes\r\n\r\n* Added library routes and moved user code to a method so we can hack in fixed code without authentication\r\n\r\n* Images now load on the OPDS reusing our existing Image infrastructure.\r\n\r\n* Added the ability to download and moved some download code to a dedicated service\r\n\r\n* Download is working, pagination is implemented.\r\n\r\n* Refactored libraries to use pagination\r\n\r\n* Laid foundation for OpenSearch implementation\r\n\r\n* Fixed up some serialization issues and some old code that wasn't referencing helper methods\r\n\r\n* Ensure chapters are sorted when we send them over OPDS\r\n\r\n* OpenSearch implemented\r\n\r\n* Removed any support for OPDS-PS due to lack of apps supporting it.\r\n\r\n* Don't distribute development.json nor stats directory on build.\r\n\r\n* Implemented In Progress feed as well.\r\n\r\n* Ability to enable OPDS for server. OPDS now accepts initial call as POST in case app uses username/password.\r\n\r\n* UI now properly renders state for OPDS enablement. Added Collections routes.\r\n\r\n* Fixed pagination startIndex on OPDS feeds when there is less than 1 page.\r\n\r\n* Chunky Reader now works. It only accepts UTF-8 encodings\r\n\r\n* More Chunky fixes\r\n\r\n* More chunky changes, such a fussy client.\r\n\r\n* Implemented the ability to have a custom api key assigned to a user and use that api key as your authentication token against OPDS routing.\r\n\r\n* Implemented the ability to reset your API Key\r\n\r\n* Fixed favicon not being sent back correctly\r\n\r\n* Fixed an issue where images wouldn't send on OPDS feed.\r\n\r\n* Implemented Page streaming and fixed a pagination bug\r\n\r\n* Hooked in the ability to save progress in Kavita when Page Streaming",
      "files_changed": [
        "API/API.csproj",
        "API/Controllers/AccountController.cs",
        "API/Controllers/DownloadController.cs",
        "API/Controllers/OPDSController.cs",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/SettingsController.cs",
        "API/DTOs/Filtering/FilterDto.cs",
        "API/DTOs/OPDS/Author.cs",
        "API/DTOs/OPDS/Feed.cs",
        "API/DTOs/OPDS/FeedEntry.cs",
        "API/DTOs/OPDS/FeedEntryContent.cs",
        "API/DTOs/OPDS/FeedLink.cs",
        "API/DTOs/OPDS/FeedLinkRelation.cs",
        "API/DTOs/OPDS/FeedLinkType.cs",
        "API/DTOs/OPDS/OpenSearchDescription.cs",
        "API/DTOs/OPDS/SearchLink.cs",
        "API/DTOs/ServerSettingDTO.cs",
        "API/DTOs/UserDto.cs",
        "API/Data/Migrations/20210826203258_userApiKey.Designer.cs",
        "API/Data/Migrations/20210826203258_userApiKey.cs",
        "API/Data/Migrations/DataContextModelSnapshot.cs",
        "API/Data/Seed.cs",
        "API/Data/UserRepository.cs",
        "API/Entities/AppUser.cs",
        "API/Entities/Enums/ServerSettingKey.cs",
        "API/Extensions/ApplicationServiceExtensions.cs",
        "API/Helpers/Converters/ServerSettingConverter.cs",
        "API/Interfaces/IUserRepository.cs",
        "API/Interfaces/Services/IReaderService.cs",
        "API/Interfaces/Services/ReaderService.cs",
        "API/Middleware/BookRedirectMiddleware.cs",
        "API/Program.cs",
        "API/Services/Clients/StatsApiClient.cs",
        "API/Services/DirectoryService.cs",
        "API/Services/DownloadService.cs",
        "Kavita.Common/HashUtil.cs",
        "Kavita.sln.DotSettings",
        "UI/Web/src/app/_models/user.ts",
        "UI/Web/src/app/_services/account.service.ts",
        "UI/Web/src/app/admin/_models/server-settings.ts",
        "UI/Web/src/app/admin/admin.module.ts",
        "UI/Web/src/app/admin/manage-settings/manage-settings.component.html",
        "UI/Web/src/app/admin/manage-settings/manage-settings.component.ts",
        "UI/Web/src/app/admin/settings.service.ts",
        "UI/Web/src/app/user-settings/api-key/api-key.component.html",
        "UI/Web/src/app/user-settings/api-key/api-key.component.scss",
        "UI/Web/src/app/user-settings/api-key/api-key.component.ts",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.html",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.ts",
        "UI/Web/src/app/user-settings/user-settings.module.ts"
      ],
      "insertions": 2409,
      "deletions": 116,
      "original_hash": "6069d93c38f413e74e86e1bb03d2c65002200290",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "b197f6f334a4fa9e537a14bdcf5a331b48f68893",
      "author": "Joseph Milazzo",
      "author_email": "joseph.v.milazzo@gmail.com",
      "committed_date": "2021-10-11T16:32:56-07:00",
      "message": "Release Shakeout (#655)\n\n* Cleaned up some code. Fixed an issue on books with good table of contents not allowing line tracking (progress) from being saved. Changed Save to Defaults on light mode to be primary.\r\n\r\n* Fixed a bug where deleting reading items would not actually delete them\r\n\r\n* Fixed a bug where after ordering reading lists then deleting the order would be undone (develop)\r\n\r\n* Code cleanup",
      "files_changed": [
        "API.Tests/Parser/ComicParserTests.cs",
        "API.Tests/Parser/ParserTest.cs",
        "API/Controllers/ReadingListController.cs",
        "API/Data/Repositories/ReadingListRepository.cs",
        "API/Interfaces/Repositories/ISeriesRepository.cs",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.html",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.scss",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.ts"
      ],
      "insertions": 31,
      "deletions": 53,
      "original_hash": "b197f6f334a4fa9e537a14bdcf5a331b48f68893",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    },
    {
      "hash": "6d0b18c98fa088d8d967469aa556c5dd5f26d516",
      "author": "Joseph Milazzo",
      "author_email": "josephmajora@gmail.com",
      "committed_date": "2022-06-30T13:33:18-07:00",
      "message": "v0.5.4 - Double Page Layout, Estimated Reading Time, a new PDF Reader and Infinite Scroll?!  (#1344)\n\n* Angular Upgrade (#1059)\r\n\r\n* Upgraded to Angular 12\r\n\r\n* Bump ng-bootstrap for upgrade\r\n\r\n* Angular 13 upgrade, ng-bootstrap bump\r\n\r\n* Angular 13 upgrade (broken)\r\n\r\n* Angular 13 upgrade. CSS is broken completely\r\n\r\n* Angular 13 upgrade is complete.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Added beta disclaimer (#1065)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Auto approve migration emails if the password is correct. Change Email Link dump to Critical to ensure it makes it into the logs. (#1069)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Adding discord roles (#1070)\r\n\r\n* Adding discord roles\r\n\r\n# Added\r\n- Added: Added Discord roles to automated build discord notification.\r\n\r\n* update\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Custom Theme Support (#1077)\r\n\r\n* Started the migration to bootstrap 5. Introduced a breakpoint system that bootstrap reflects for our screens.\r\n\r\n* sr only migrated\r\n\r\n* mr/ml -> me/ms\r\n\r\n* pl/pr -> ps/pe\r\n\r\n* btn-block\r\n\r\n* removed input-group-append\r\n\r\n* Added form-label to all labels\r\n\r\n* Added some style overrides for inputs\r\n\r\n* Replaced form-group with mb-3\r\n\r\n* Ignore journal files\r\n\r\n* Update media to d-flex/flex-grow-1\r\n\r\n* Fixed reading list detail page\r\n\r\n* For develop builds, don't inline critical styles\r\n\r\n* Fixed some downstream security issues\r\n\r\n* Fixed a layout issue in series detail\r\n\r\n* Fixed issue with btn-light not having background color. Updated layout for series detail metadata\r\n\r\n* Cleaned up nav search\r\n\r\n* Laid out the organization for custom theme components. Update _inputs.scss with variable overrides and depending on theme, it will just work.\r\n\r\n* Lots of theming work\r\n\r\n* Added inputs to the theme page\r\n\r\n* Login and input placeholder changes\r\n\r\n- Fixed login screen centering issue on all devices\r\n- Changed the format of the login screen\r\n- Change the input placeholder color\r\n\r\n* Added checkbox styles\r\n\r\n* Refactored tagbadges and removed some ngdeep selectors\r\n\r\n* Added nav bar component and refactored some styles into event widget\r\n\r\n* Cleaned nav events again and made dedicated popover body\r\n\r\n* Finished pagination component\r\n\r\n* Fixed up some styles with buttons\r\n\r\n* refactored dropdown component\r\n\r\n* Update accordion component\r\n\r\n* Refactored breadcrumbs and rating star. Fixed a missing style for cards\r\n\r\n* Fixed some styling issues on person badge, added modal component, and some global styles\r\n\r\n* Finished moving everything within dark to component files\r\n\r\n* Fixed up filter buttons, move card styles into a component theme, fixed slider style\r\n\r\n* Refactored library card and grouped typeahead\r\n\r\n* Updated normal typeahead component and reduced amount of ngdeep selector\r\n\r\n* Refactored grid breakpoints to be available by css variable, but it's hardcoded into the app\r\n\r\n* Ensure breakpoints are defined per theme\r\n\r\n* Fixed up some styling overrides and customization for nav links and alt button\r\n\r\n* Removed some deep styles, moved css out of splash container and brough back labels for login page\r\n\r\n* Finished css variable refactor\r\n\r\n* Refactored all the theme variable definitions into files for each theme.\r\n\r\n* Added back bootstrap overrides\r\n\r\n* Added a note about bootstrap theme colors being not-possible to swap out at runtime\r\n\r\n* Cleaned up some dead code\r\n\r\n* Implemented the ability to set a custom theme on the site. Cleaned up misc code throughout.\r\n\r\n* Additional changes\r\n\r\n- Fixed nav where \"kavita\" was not hiding correctly on small viewports\r\n- Fixed search bar to make the behavior more consistent\r\n- Fixed accordion buttons\r\n- Changed accordion buttons to be more responsive\r\n- Added radio button colors\r\n- Fixed radios on theme test page\r\n- Changed login and reset password card layouts to be more consistent.\r\n- Added primary color shade for when darker shading is needed.\r\n\r\n* Built a basic site, allow the user to apply different themes, refactored nav service code out.\r\n\r\n* Implemented the ability update a user's theme\r\n\r\n* Added unit tests for Scan and Get Content in SiteThemeService.\r\n\r\n* Fixed a bug in the login code and Pref code which wasn't joining on SiteTheme table. Wrote Unit tests and the UI component to manage current theme.\r\n\r\n* Implemented scan so that it manages custom themes with unit tests\r\n\r\n* Component updates\r\n\r\n- Repositioning style ordering\r\n- Adding indicator override\r\n- Adding select styles\r\n\r\n* SignlaR integration, some fixes when creating custom entities, one single migration. Just login functionality left.\r\n\r\n* More ui updated\r\n\r\n- Added .no-hover to prevent hover on elements where not needed\r\n- Changed all selects I could find to appropriate class\r\n- Changed up nav tabs to work more like bootstrap tabs than pills\r\n- Added padding to top of some containers to make styles consistent\r\n- Added ability to change navbar fontawesome icon colors\r\n- removed some unecessary inline styling\r\n- Changed radio button to appropriate class\r\n- Toned down primate color, a bit too bright for dark theme.\r\n- Added ability to change button fontawesome icon color\r\n\r\n* nav-tab fix for series-detail\r\n\r\n* Added themes folder to gitignore\r\n\r\n* Adding card overlay\r\n\r\n* Fixing up light theme\r\n\r\n* Everything is done. Only bug is that color-scheme isn't being set properly from css variable.\r\n\r\n* Checkboxes have pointer by default. Confirm/Confirm email use default (dark) theme by default\r\n\r\n* Fixed an error where color-scheme wasn't reflecting correctly on themes on first load\r\n\r\n* Fixed user preferences not available on login\r\n\r\n* Changing dual radios to switches and color tweaks\r\n\r\n* disabled primary APCA fix\r\n\r\n* button APCA fixes\r\n\r\n* Fixed some timing issues with first load and image service\r\n\r\n* Fixed swiper issues from upgrade\r\n\r\n* Changed themes to be scss files again and adjusted Seed code\r\n\r\n* Migrated carousel to css variables. Fixed a broken animation for search.\r\n\r\n* Cleaned up some backend smells\r\n\r\n* Fixed white border outline on nav tabs, added some variables for header\r\n\r\n* Nav bar has been css variable-ified\r\n\r\n* Added some basic eink stuff to make the app useable\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fix an issue for first time running theme code, theme will not be available (#1081)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Event Widget Update (#1098)\r\n\r\n* Took care of some notes in the code\r\n\r\n* Fixed an issue where Extra might get flagged as special too early, if in a word like Extraordinary\r\n\r\n* Moved Tag cleanup code into Scanner service. Added a SplitQuery to another heavy API. Refactored Scan loop to remove parallelism and use async instead.\r\n\r\n* Lots of rework on the codebase to support detailed messages and easier management of message sending. Need to take a break on this work.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Fixed merge issue\r\n\r\n* Fixed unit tests\r\n\r\n* CoverUpdate is now hooked into new ProgressEvent structure\r\n\r\n* Refactored code to remove custom observables and have everything use standard messages$\r\n\r\n* Refactored a ton of instances to NotificationProgressEvent style and tons of the UI to respect that too. UI is still a bit buggy, but wholistically the work is done.\r\n\r\n* Working much better. Sometimes events come in too fast. Currently cover update progress doesn't display on UI\r\n\r\n* Fixed unit tests\r\n\r\n* Removed SignalREvent to minimize internal event types. Updated the UI to use progress bars. Finished SiteThemeService.\r\n\r\n* Merged metadata refresh progress events and changed library scan events to merge cleaner in the UI\r\n\r\n* Changed RefreshMetadataProgress to CoverUpdateProgress to reflect the event better.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked some of the emitting code\r\n\r\n* Some css, but pretty bad. Robbie please save me\r\n\r\n* Removed a todo\r\n\r\n* styling update\r\n\r\n* Only send filename on FileScanProgress\r\n\r\n* Some console.log spam cleanup\r\n\r\n* Various updates\r\n\r\n* Show events widget activity based on activeEvents\r\n\r\n* progress bar color updates\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Scanner event hub fix (#1099)\r\n\r\n* Scanner event hub fix\r\n\r\n- Fixed an issue where the scanner would error when adding a new series because the series didn't have a library name yet. (develop)\r\n\r\n* Removing library.type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Workflow update to add nightly versions (#1100)\r\n\r\n# Changed\r\n- Changed: Changed automated workflow to release individual nightly versions on dockerhub\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Updating GA to parse version (#1101)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* GA Fixes (#1103)\r\n\r\n**Strictly Repo Changes**\r\n# Fixed\r\n- Fixed: Fixed an issue where patch version was not being added to docker tag.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed specials being misaligned (#1106)\r\n\r\n# Fixed\r\n- Fixed: Fixed issue with specials not being properly aligned (develop)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix/ux pass 2 (#1107)\r\n\r\n* Adding margin bottom to series detail tabs\r\n\r\n* Styling tag badges with green on dark\r\n\r\n- Added 3 new css vars\r\n\r\n* Removing underline from readmore\r\n\r\n* Fixing see more to be on one line\r\n\r\n* adding gutter to see more\r\n\r\n* Changing queue toasts to info\r\n\r\n* adding api key tooltip\r\n\r\n* Updating active accordion on user preference.\r\n\r\n* Fixing search bar and close btn position\r\n\r\n* Fixed a bug where entering book reader in dark mode then closing out, would leave you in a broken white state.\r\n\r\n* Fixed broken wiki links\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series Detail Refactor (#1118)\r\n\r\n* Fixed a bug where reading list and collection's summary wouldn't render newlines\r\n\r\n* Moved all the logic in the UI for Series Detail into the backend (messy code). We are averaging 400ms max with much optimizations available. Next step is to refactor out of controller and provide unit tests.\r\n\r\n* Unit tests for CleanSpecialTitle\r\n\r\n* Laid out foundation for testing major code in SeriesController.\r\n\r\n* Refactored code so that read doesn't need to be disabled on page load. SeriesId doesn't need the series to actually load.\r\n\r\n* Removed old property from Volume\r\n\r\n* Changed tagbadge font size to rem.\r\n\r\n* Refactored some methods from SeriesController.cs into SeriesService.cs\r\n\r\n* UpdateRating unit tested\r\n\r\n* Wrote unit tests for SeriesDetail\r\n\r\n* Worked up some code where books are rendered only as volumes. However, looks like I will need to use Chapters to better support series_index as floats.\r\n\r\n* Refactored Series Detail to change Volume Name on Book libraries to have book name and series_index.\r\n\r\n* Some cleanup on the code\r\n\r\n* DeleteMultipleSeries test is hard. Going to skip.\r\n\r\n* Removed some debug code and make all tabs Books for Book library Type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tachiyomi Bugfix (#1119)\r\n\r\n* Updated the dependencies for .NET 6.0.2\r\n\r\n* Fixed a bad prev chapter logic where we would bleed into chapters from last volume instead of specials.\r\n\r\n* Fixed the get prev chapter code to properly walk the order according to documentation and updated some bad test cases\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series index fix (#1120)\r\n\r\n* Series index fix\r\n\r\n# Fixed\r\n- Fixed: Fixed an issue where epub series with index = 0 would be hidden on series detail page.\r\n\r\n* Removing unnecessary conditional\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Misc Bugfixes (#1123)\r\n\r\n* Fixed a bug where ComicInfo Count can be a float and we threw a parse error.\r\n\r\n* Fixed a bug in download bookmarks which didn't properly create the filepaths for copying. Refactored into a service with a unit test.\r\n\r\nIn Scanner, repull genres, people and tags between chunk saves to ensure no unique constraint issues.\r\n\r\n* Fixed a bug where card detail layout wouldn't refresh the library name on the card between pages\r\n\r\n* Fixed an issue where a check to scrolling page back to top was missing in manga reader\r\n\r\n* Fixed a bug where cleaning up collection tags without Series was missing after editing a Series.\r\n\r\n* Cleaned up the styles for cover chooser\r\n\r\n* Added Regex support for \"Series 001 (Digital) (somethingwith1234)\" and removed support for \"A Compendium of Ghosts - 031 - The Third Story_ Part 12\" due to complexity in parsing.\r\n\r\n* Fixed a miscommunication on how Tachiyomi needs the API MarkChaptersUntilAsRead implemented. Now 0 chapter volumes will be marked.\r\n\r\n* Removed unneeded DI\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* CopyFilesToDirectory will now allow for one duplicate copy over and put (2) (#1126)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Stablize the Styles (#1128)\r\n\r\n* Fixed a bug where adding multiple series to reading list would throw an error on UI, but it was successful.\r\n\r\n* When a series has a reading list, we now show the connection on Series detail.\r\n\r\n* Removed all baseurl code from UI and not-connected component since we no longer use it.\r\n\r\n* Fixed tag badges not showing a border. Added last read time to the series detail page\r\n\r\n* Fixed up error interceptor to remove no-connection code\r\n\r\n* Changed implementation for series detail. Book libraries will never send chapters back. Volume 0 volumes will not be sent in volumes ever. Fixed up more renaming logic on books to send more accurate representations to the UI.\r\n\r\n* Cleaned up the selected tab and tab display logic\r\n\r\n* Fixed a bad where statement in reading lists for series\r\n\r\n* Fixed up tab logic again\r\n\r\n* Fixed a small margin on search backdrop\r\n\r\n* Made badge expander button smaller to align with badges\r\n\r\n* Fixed a few UIs due to .form-group and .form-row being removed\r\n\r\n* Updated Theme component page to help with style testing\r\n\r\n* Added more components to theme tester\r\n\r\n* Cleaned up some styling\r\n\r\n* Fixed opacity on search item hover\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Hacked in code so that we render an image instead of canvas for fit to screen to try out. (#1131)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Metadata Editing from the UI! (#1135)\r\n\r\n* Added the skeleton code for layout, hooked up Age Rating, Publication Status, and Tags\r\n\r\n* Tweaked message of Scan service to Finished scan of to better indicate the total scan time\r\n\r\n* Hooked in foundation for person typeaheads\r\n\r\n* Fixed people not populating typeaheads on load\r\n\r\n* For manga/comics, when parsing, set the SeriesSort from ComicInfo if it exists.\r\n\r\n* Implemented the ability to override and create new genre tags. Code is ready to flush out the rest.\r\n\r\n* Ability to update metadata from the UI is hooked up. Next is locking.\r\n\r\n* Updated typeahead to allow for non-multiple usage. Implemented ability to update Language tag in Series Metadata.\r\n\r\n* Fixed a bug in GetContinuePoint for a case where we have Volumes, Loose Leaf chapters and no read progress.\r\n\r\n* Added ETag headers on Images to allow for better caching (bookmarks and images in manga reader)\r\n\r\n* Built out UI code to show locked indication to user\r\n\r\n* Implemented Series locking and refactored a lot of styles in typeahead to make the lock setting work, plus misc cleanup.\r\n\r\n* Added locked properties to dtos. Updated typeahead loading indicator to not interfere with close button if present\r\n\r\n* Hooked up locking flags in UI\r\n\r\n* Integrated regular field locking/unlocking\r\n\r\n* Removed some old code\r\n\r\n* Prevent input group from wrapping\r\n\r\n* Implemented some basic layout for metadata on volume/chapter card modal. Refactored out all metadata from Chapter object in terms of UI and put into a separate call to ensure speedy delivery and simplicity of code.\r\n\r\n* Refactored code to hide covers section if not an admin\r\n\r\n* Implemented ability to modify a chapter/volume cover from the detail modal\r\n\r\n* Removed a few variables and change cover image modal\r\n\r\n* Added bookmark to single chapter view\r\n\r\n* Put a temp fix in for a ngb v12 z-index bug (reported). Bumped ngb to 12.0 stable and fixed some small rendering bugs\r\n\r\n* loading buttons ftw\r\n\r\n* Lots of cleanup, looks like the story is finished\r\n\r\n* Changed action name from Info to Details\r\n\r\n* Style tweaks\r\n\r\n* Fixed an issue where Summary would assume it's locked due to a subscription firing on setting the model\r\n\r\n* Fixed some misc bugs\r\n\r\n* Code smells\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Manga Reader Refresh (#1137)\r\n\r\n* Refactored manga reader to use a regular image element for all cases except for split page rendering\r\n\r\n* Fixed a weird issue where ordering of routes broke redireciton in one case.\r\n\r\n* Added comments to a lot of the enums and refactored READER_MODE to be ReaderMode and much more clearer on function.\r\n\r\n* Added bookmark effect on image renderer\r\n\r\n* Implemented keyboard shortcut modal\r\n\r\n* Introduced the new layout mode into the manga reader, updated preferences, and updated bookmark to work for said functionality. Need to implement renderer now\r\n\r\n* Hooked in ability to show double pages but all the css is broken. Committing for help from Robbie.\r\n\r\n* Fixed an issue where Language tag in metadata edit wasn't being updated\r\n\r\n* Fixed up some styling on mobile for edit series detail\r\n\r\n* Some css fixes\r\n\r\n* Hooked in ability to set background color on reader (not implemented in reader). Optimized some code in ArchiveService to avoid extra memory allocations.\r\n\r\n* Hooked in background color, generated the migration\r\n\r\n* Fixed a bug when paging to cover images, full height would be used instead of full-width for cover images\r\n\r\n* New option in reader to show screen hints (on by default). You can disable in user preferences which will stop showing pagination overlay hints\r\n\r\n* Lots of fixes for double rendering mode\r\n\r\n* Bumped the amount of cached pages to 8\r\n\r\n* Fixed an issue where dropdowns weren't being locked on form manipulation\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* On Deck tweaks + Bugfixes (#1141)\r\n\r\n* Tweaked the On deck to only look for series that have progress in past 30 days. This number is just to test it out, it will be configurable later. Tweaked the layout of the dashboard to remove a redundant section.\r\n\r\n* Fixed a bug where archives with __MACOSX/ inside would break the reader during flattening.\r\n\r\n* Fixed a bug where confirm service rejection should have resolved as false.\r\n\r\n* Fixed an issue with checking if server is accessible with loopback and local ips\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Manga Reader Shakeout (#1142)\r\n\r\n* Fixed a unit test in ArchiveService\r\n\r\n* Image scaling fixes\r\n\r\n* removing test\r\n\r\n* Added new layout mode (enum only) and cleaned up manga reader and wrote extra documentation\r\n\r\n* Aligned code with cleanup\r\n\r\n* Adding reverse classes for manga reading\r\n\r\n* Disable options for layout modes that doesn't make sense.\r\n\r\n* Cleaned up manga reader menu items to link to preferences options directly\r\n\r\n* Work in progress, but rendering the correct page numbers for double. Need to rework caching logic so we can use existing image objects\r\n\r\n* Pagination logic is now properly increasing page number an extra when double layout mode\r\n\r\n* I can't figure out cachedImages to work properly with double pages, but doing it in a way where it handles downloading the image (and etag cache) + rendering the url, seems to work really well\r\n\r\n* Double original fix, also flex squish fix\r\n\r\n* Implemented last page on double which will load next chapter.\r\n\r\nFixed a bug where if GetImage from ReaderController threw an error, the chapter directory would be emptied, but the folder itself wasn't deleted.\r\n\r\n* Fixed a bad if for double manga\r\n\r\n* double class fix\r\n\r\n* Cleanup up some console.logs\r\n\r\n* Adjusted the caching for images in a reading session so they cache for 2 mins\r\n\r\n* fixing webtoon image issue\r\n\r\n* Tweaked the caching of images to 10 mins for reading. Fixed a bug where after webtoon, single image layout would be selected. Tweaked logic for handling prev/next pages on chapter boundaries.\r\n\r\n* Fixed an issue where 2nd page would be skipped\r\n\r\n* Fixed an issue where 2nd page would be skipped\r\n\r\n* Fixed a skip page issue\r\n\r\n* Misc css fixes\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Misc Bugfixes and Cleanup (#1144)\r\n\r\n* Moved libraryType into chapter info\r\n\r\n* Fixed a bug where you could not reset cover on a series\r\n\r\n* Patched in relevant changes from another polish branch\r\n\r\n* Refactored invite user setup to shift the checking for accessibility to the backend and always show the link. This will help with users who have some unique setups in docker.\r\n\r\n* Refactored invite user to always print the url to setup a new account.\r\n\r\n* Single page renderer uses canvasImage rather than re-requesting and relying on cache\r\n\r\n* Fixed a rendering issue where fit to split on single on a cover wouldn't force width scaling just for that image\r\n\r\n* Fixed a rendering bug with split image functionality\r\n\r\n* Added title to copy button\r\n\r\n* Fixed a bug in GetContinuePoint when a chapter is added to an already read volume and a new chapter is added loose leaf. The loose leaf would be prioritized over the volume chapter.\r\n\r\nRefactored 2 methods from controller into service and unit tested.\r\n\r\n* Fixed a bug on opening a volume in series detail that had a chapter added to it after the volume (0 chapter) was read would cause a loose leaf chapter to be opened.\r\n\r\n* Added mark as read/actionables on Files in volume detail modal. Fixed a bug where we were showing the wrong page count in a volume detail modal.\r\n\r\n* Removed OnDeck page and replaced it with a pre-filtered All-Series. Hooked up the ability to pass read state to the filter via query params. Fixed some spacing on filter post bootstrap update.\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfixes and Cover Chooser Upgrades (#1146)\r\n\r\n* Fixed a bug where GetNextChapter would return a loose leaf chapter from a special when it should return nothing.\r\n\r\n* Fixed a bug in events widget when an update comes in after a user refreshes, the active event counter could get out of sync, thus showing \"Nothing going on here\"\r\n\r\nRefactored the events widget to be named appropriately.\r\n\r\n* Refactored code to have errors during threaded tasks propagate to the UI via events widget (css still needed).\r\n\r\nRemoved ScanLibraryError in favor of generic Error event.\r\n\r\n* Fixed up some code and added ability to remove the event from events widget\r\n\r\n* Fixed a bug where modifiying certain fields, like summary, wouldn't lock the field\r\n\r\n* Fixed a few bugs where lock state was not being set in the DB correctly nor were certain combinations of locking fields and editing fields.\r\n\r\n* Removed debug code\r\n\r\n* Updated the discord alert to tag new group\r\n\r\n* Refactored cover upload to actually handle uploading a temp file via url on the backend so that users can user change cover by url. Fixed up some bugs that occured when chaning the image container in a previous PR.\r\n\r\n* Code cleanup\r\n\r\n* Cleaned up the css on the error items\r\n\r\n* Code cleanup\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Side nav (#1155)\r\n\r\n* adding back side-nav\r\n\r\n* Event Widget Update (#1098)\r\n\r\n* Took care of some notes in the code\r\n\r\n* Fixed an issue where Extra might get flagged as special too early, if in a word like Extraordinary\r\n\r\n* Moved Tag cleanup code into Scanner service. Added a SplitQuery to another heavy API. Refactored Scan loop to remove parallelism and use async instead.\r\n\r\n* Lots of rework on the codebase to support detailed messages and easier management of message sending. Need to take a break on this work.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Progress is being made, but slowly. Code is broken in this commit.\r\n\r\n* Fixed merge issue\r\n\r\n* Fixed unit tests\r\n\r\n* CoverUpdate is now hooked into new ProgressEvent structure\r\n\r\n* Refactored code to remove custom observables and have everything use standard messages$\r\n\r\n* Refactored a ton of instances to NotificationProgressEvent style and tons of the UI to respect that too. UI is still a bit buggy, but wholistically the work is done.\r\n\r\n* Working much better. Sometimes events come in too fast. Currently cover update progress doesn't display on UI\r\n\r\n* Fixed unit tests\r\n\r\n* Removed SignalREvent to minimize internal event types. Updated the UI to use progress bars. Finished SiteThemeService.\r\n\r\n* Merged metadata refresh progress events and changed library scan events to merge cleaner in the UI\r\n\r\n* Changed RefreshMetadataProgress to CoverUpdateProgress to reflect the event better.\r\n\r\n* Theme Cleanup (#1089)\r\n\r\n* Fixed e-ink theme not properly applying correctly\r\n\r\n* Fixed some seed changes. Changed card checkboxes to use our themed ones\r\n\r\n* Fixed recently added carousel not going to recently-added page\r\n\r\n* Fixed an issue where no results found would show when searching for a library name\r\n\r\n* Cleaned up list a bit, typeahead dropdown still needs work\r\n\r\n* Added a TODO to streamline series-card component\r\n\r\n* Removed ng-lazyload-image module since we don't use it. We use lazysizes\r\n\r\n* Darken card on hover\r\n\r\n* Fixing accordion focus style\r\n\r\n* ux pass updates\r\n\r\n- Fixed typeahead width\r\n- Fixed changelog download buttons\r\n- Fixed a select\r\n- Fixed various input box-shadows\r\n- Fixed all anchors to only have underline on hover\r\n- Added navtab hover and active effects\r\n\r\n* more ux pass\r\n\r\n- Fixed spacing on theme cards\r\n- Fixed some light theme issues\r\n- Exposed text-muted-color for theme card subtitle color\r\n\r\n* UX pass fixes\r\n\r\n- Changed back to bright green for primary on dark theme\r\n- Changed fa icon to black on e-ink\r\n\r\n* Merged changelog component\r\n\r\n* Fixed anchor buttons text decoration\r\n\r\n* Changed nav tabs to have a background color instead of open active state\r\n\r\n* When user is not authenticated, make sure we set default theme (dark)\r\n\r\n* Cleanup on carousel\r\n\r\n* Updated Users tab to use small buttons with icons to align with Library tab\r\n\r\n* Cleaned up brand to not underline, removed default link underline on hover in dropdown and pill tabs\r\n\r\n* Fixed collection detail posters not rendering\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked some of the emitting code\r\n\r\n* Some css, but pretty bad. Robbie please save me\r\n\r\n* Removed a todo\r\n\r\n* styling update\r\n\r\n* Only send filename on FileScanProgress\r\n\r\n* Some console.log spam cleanup\r\n\r\n* Various updates\r\n\r\n* Show events widget activity based on activeEvents\r\n\r\n* progress bar color updates\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Scanner event hub fix (#1099)\r\n\r\n* Scanner event hub fix\r\n\r\n- Fixed an issue where the scanner would error when adding a new series because the series didn't have a library name yet. (develop)\r\n\r\n* Removing library.type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Workflow update to add nightly versions (#1100)\r\n\r\n# Changed\r\n- Changed: Changed automated workflow to release individual nightly versions on dockerhub\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Updating GA to parse version (#1101)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* GA Fixes (#1103)\r\n\r\n**Strictly Repo Changes**\r\n# Fixed\r\n- Fixed: Fixed an issue where patch version was not being added to docker tag.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed specials being misaligned (#1106)\r\n\r\n# Fixed\r\n- Fixed: Fixed issue with specials not being properly aligned (develop)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix/ux pass 2 (#1107)\r\n\r\n* Adding margin bottom to series detail tabs\r\n\r\n* Styling tag badges with green on dark\r\n\r\n- Added 3 new css vars\r\n\r\n* Removing underline from readmore\r\n\r\n* Fixing see more to be on one line\r\n\r\n* adding gutter to see more\r\n\r\n* Changing queue toasts to info\r\n\r\n* adding api key tooltip\r\n\r\n* Updating active accordion on user preference.\r\n\r\n* Fixing search bar and close btn position\r\n\r\n* Fixed a bug where entering book reader in dark mode then closing out, would leave you in a broken white state.\r\n\r\n* Fixed broken wiki links\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Series Detail Refactor (#1118)\r\n\r\n* Fixed a bug where reading list and collection's summary wouldn't render newlines\r\n\r\n* Moved all the logic in the UI for Series Detail into the backend (messy code). We are averaging 400ms max with much optimizations available. Next step is to refactor out of controller and provide unit tests.\r\n\r\n* Unit tests for CleanSpecialTitle\r\n\r\n* Laid out foundation for testing major code in SeriesController.\r\n\r\n* Refactored code so that read doesn't need to be disabled on page load. SeriesId doesn't need the series to actually load.\r\n\r\n* Removed old property from Volume\r\n\r\n* Changed tagbadge font size to rem.\r\n\r\n* Refactored some methods from SeriesController.cs into SeriesService.cs\r\n\r\n* UpdateRating unit tested\r\n\r\n* Wrote unit tests for SeriesDetail\r\n\r\n* Worked up some code where books are rendered only as volumes. However, looks like I will need to use Chapters to better support series_index as floats.\r\n\r\n* Refactored Series Detail to change Volume Name on Book libraries to have book name and series_index.\r\n\r\n* Some cleanup on the code\r\n\r\n* DeleteMultipleSeries test is hard. Going to skip.\r\n\r\n* Removed some debug code and make all tabs Books for Book library Type\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tachiyomi Bugfix (#1119)\r\n\r\n* Updated the dependencies for .NET 6.0.2\r\n\r\n* Fixed a bad prev chapter logic where we would bleed into chapters from last volume instead of specials.\r\n\r\n* Fixed the get prev chapter code to properly walk the order according to documentation and updated some bad test cases\r\n\r\n* Updated side nav to float a bit and added user settings to it.\r\n\r\n* Refactored the code to hide/show sidenav to be more angular and decoupled\r\n\r\n* Moved Changelog out of admin dashboard and into a dedicated page in user menu. Added a wiki link from user menu\r\n\r\n* Introduced a side nav item for rendering each item and refactored code to use it.\r\n\r\n* Added a filter of side nav when there are more than 10 libraries. Added some themeing overrides for side nav.\r\n\r\n* Cleaned up the template code for side nav item so if there is no link, we don't generate that html directive\r\n\r\n* Refactored side nav into a module and migrated a few pipes into a pipe module for easy re-use\r\n\r\n* Added companion bar on reading list and collection. Updated modules to load pages and make side nav items clickable as anchors, so new tab works.\r\n\r\n* Moved metadata filter into separate component/module and the button in the companion bar. Needs cleanup.\r\n\r\n* Finished cleanup and refactoring of metadata filter into separate component.\r\n\r\nRemoved filtering from Collections as it doesn't work and wasn't hooked up.\r\n\r\n* Tweaked the css on carousel component\r\n\r\n* Added to library detail and series-detail\r\n\r\n* Fixes and css vars\r\n\r\n* Stop destroying sidenav, animaton timing\r\n\r\n* Integrated side nav on the rest of the pages\r\n\r\n* Navbar now collapses to icons\r\n\r\n* mobile sidenav start\r\n\r\n* more mobile fixes\r\n\r\n* mobile tweaks\r\n\r\n* light and e-ink theme updates\r\n\r\n* white and eink dropdown color fixes\r\n\r\n* plex inspired side-nav\r\n\r\n* theme fixes\r\n\r\n* Making spacing more uniform across app\r\n\r\n* More fixes\r\n\r\n* fixing spacing on cards\r\n\r\n* actionable fix for sidenav\r\n\r\n* no scroll on mobile when sidenav is open\r\n\r\n* hide sidenav on pages\r\n\r\n* Adding card spacing\r\n\r\n* Adding ability to remove sidenav when in a reader\r\n\r\n* tidying up sidenav toggles\r\n\r\n* side-nav mobile updates\r\n\r\n* fixing up other themes\r\n\r\n* overlay fixes\r\n\r\n* Cleaned up the code to make the observables have better names.\r\n\r\nRemoved a bunch of pointless subscriptions. Cleaned up methods that werent needed.\r\n\r\nAdded jsdocs to help ensure the understandability of the 2 states for the side nav.\r\n\r\n* Integrated a highlight effect on side nav. Fixed a ton of places where the nav was being hidden when it shouldn't.\r\n\r\n* Fixed where active state wasn't working on all urls\r\n\r\n* misc fixes\r\n\r\n- smaller hamburger\r\n- z-index fixes\r\n- active fixes\r\n\r\n* Revert \"Merge branch 'develop' into feature/side-nav-upgrade\"\r\n\r\nThis reverts commit 76b0d15a984692874e0cb57e821686ea703144cf, reversing\r\nchanges made to b3ed55395473aa35577500596a211ad22a42631b.\r\n\r\n* Fixing edit-series modal spacing\r\n\r\n* Give the ability to jump to a library from admin manage libraries page\r\n\r\n* Fixed a bug with highlighting active item on side nav\r\n\r\n* Moved localized series title to companion bar via subtitle\r\n\r\n* Removed old title\r\n\r\n* Fixed a bug where clicking a link would reload the whole app, styling fixes on filter, fixed issue with initial load not setting active state, adjusted styles on active style.\r\n\r\n* code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed a bug where companion bar would be pushing content to the right even when not visible. Updated nav service localstorage key. (#1159)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Side Nav Fixes (#1161)\r\n\r\n* Fixed an issue where there was extra padding on top/bottom of readers when side nav was hidden.\r\n\r\n* Fixed a bug where fit to screen wasn't forcing width scaling\r\n\r\n* Added back total pages to many pages\r\n\r\n* Fixed the padding on series detail cards\r\n\r\n* Tweaked carousels to match series detail padding\r\n\r\n* Fixed an issue where large amount of libraries could have 2 highlighted at once due to how highlight logic works on routes.\r\n\r\n* Cleaned up some extra space in card detail layout due to moving title into compainion bar\r\n\r\n* Moved some gloabls to global and moved color-scheme to body tag\r\n\r\n* Moved scrollbar onto the body itself which helps with page jank on loading and fixes scrollbar not working with theme\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed loose chapters marked as read for Tachiyomi (#1158)\r\n\r\n* Tachiyomi-related fixes\r\n\r\n* Created unit test for MarkAsReadAnythingUntil\r\n\r\n* Applied the requested changes.\r\n\r\n* More Bugfixes from Side Nav (#1162)\r\n\r\n* Fixed a bug where the bottom of the page could be cut off\r\n\r\n* Adjusted all the headings to h2, which looks better\r\n\r\n* Refactored GetSeriesDetail to actually map the names inside the code so the UI just displays.\r\n\r\n* Put in some basic improvements to OPDS by using Series Detail type layout, but this only reduces one click.\r\n\r\n* Fixed a bug where offset from scrollbar fix causes readers to be cutoff.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* OPDS Rework (#1164)\r\n\r\n* Fixed a bug where the bottom of the page could be cut off\r\n\r\n* Adjusted all the headings to h2, which looks better\r\n\r\n* Refactored GetSeriesDetail to actually map the names inside the code so the UI just displays.\r\n\r\n* Put in some basic improvements to OPDS by using Series Detail type layout, but this only reduces one click.\r\n\r\n* Fixed a bug where offset from scrollbar fix causes readers to be cutoff.\r\n\r\n* Ensure the hamburger menu icon is aligned with side nav\r\n\r\n* Disable the image splitting dropdown in webtoon mode\r\n\r\n* Fixed broken progress/scroll code as we scroll on the body instead of window now\r\n\r\n* Fixed phone-hidden class not working due to a bad media query\r\n\r\n* Lots of changes to OPDS to provide a richer text experience. Uses Issues or Books based on library type. Cleans up the experience by providing Storyline from the get-go.\r\n\r\n* Updated OPDS-SE search description to include collections and reading lists.\r\n\r\n* Fixed up some title stuff\r\n\r\n* If a volume only has one file underneath it, flatten it and send a chapter as if it were the volume.\r\n\r\n* Code cleanup\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Feature/enhancements and more (#1166)\r\n\r\n* Moved libraryType into chapter info\r\n\r\n* Fixed a bug where you could not reset cover on a series\r\n\r\n* Patched in relevant changes from another polish branch\r\n\r\n* Refactored invite user setup to shift the checking for accessibility to the backend and always show the link. This will help with users who have some unique setups in docker.\r\n\r\n* Refactored invite user to always print the url to setup a new account.\r\n\r\n* Single page renderer uses canvasImage rather than re-requesting and relying on cache\r\n\r\n* Fixed a rendering issue where fit to split on single on a cover wouldn't force width scaling just for that image\r\n\r\n* Fixed a rendering bug with split image functionality\r\n\r\n* Added title to copy button\r\n\r\n* Fixed a bug in GetContinuePoint when a chapter is added to an already read volume and a new chapter is added loose leaf. The loose leaf would be prioritized over the volume chapter.\r\n\r\nRefactored 2 methods from controller into service and unit tested.\r\n\r\n* Fixed a bug on opening a volume in series detail that had a chapter added to it after the volume (0 chapter) was read would cause a loose leaf chapter to be opened.\r\n\r\n* Added mark as read/actionables on Files in volume detail modal. Fixed a bug where we were showing the wrong page count in a volume detail modal.\r\n\r\n* Removed OnDeck page and replaced it with a pre-filtered All-Series. Hooked up the ability to pass read state to the filter via query params. Fixed some spacing on filter post bootstrap update.\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Some string equals enhancements to reduce extra allocations\r\n\r\n* Fixed an issue when trying to download via a url, to remove query parameters to get the format\r\n\r\n* Made an optimization to Normalize method to reduce memory pressure by 100MB over the course of a scan (16k files)\r\n\r\n* Adjusted the styles on dashboard for first time setup and used a routerlink rather than href to avoid a fresh load.\r\n\r\n* Use framgment on router link\r\n\r\n* Hooked in the ability to search by release year (along with series optionally) and series will be returned back.\r\n\r\n* Fixed a bug in the filter format code where it was sending the wrong type\r\n\r\n* Only show clear all on typeahead when there are at least one selected item\r\n\r\n* Cleaned up the styles of the styles of the typeahead\r\n\r\n* Removed some dead code\r\n\r\n* Implemented the ability to filter against a series name.\r\n\r\n* Fixed filter top offset\r\n\r\n* Ensure that when we add or remove libraries, the side nav of users gets updated.\r\n\r\n* Tweaked the width on the mobile side nav\r\n\r\n* Close side nav on clicking overlay on mobile viewport\r\n\r\n* Don't show a pointer if the carousel section title is not actually selectable\r\n\r\n* Removed the User profile on the side nav so home is always first. Tweaked styles to match\r\n\r\n* Fixed up some poor documentation on FilterDto.\r\n\r\n* Fixed a bug where Latest read date wasn't being set due to an early short circuit.\r\n\r\n* When sending the chapter file, format the title of the FeedEntry more like Series Detail.\r\n\r\n* Removed dead code\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfixes  (#1177)\r\n\r\n* Fixed an underline on hover of pagination link\r\n\r\n* Ensure title of companion bar eats full width if there is no filter\r\n\r\n* If a user doesn't have the Download role, they will not be able to download over OPDS.\r\n\r\n* Fixed a bug where after going into webtoon reader mode then leaving, the bookmark effect would continue using the webtoon mode styling\r\n\r\n* Fixed a bug where continuous reader wasn't being triggered due to moving scrollbar to body and a floating point percision error on scroll top\r\n\r\n* Fixed how continuous trigger is shown so that we properly adjust scroll on the top (for prev chapter)\r\n\r\n* Fixed a bad merge that broke saving any edits to series metadata\r\n\r\n* When a epub key is not correct, even after we correct it, ignore the inlining of the style so the book is at least still readable.\r\n\r\n* Disabled double rendering (this feature is being postponed to a later release)\r\n\r\n* Disabled user setting and forced it to Single on any save\r\n\r\n* Removed cache directory from UpdateSettings validation as we don't allow changing it.\r\n\r\n* Fix security issue with url parse\r\n\r\n* After all migrations run, update the installed version in the Database. Send that installed version on the stat service.\r\n\r\n* Dependency bot to update some security stuff\r\n\r\n* Some misc code cleanup and fixes on the typeahead (still broken)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* New Feature Stats (#1179)\r\n\r\n* When searching, search against normalized names.\r\n\r\n* Added new stat fields\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Getting Ready for Release (#1180)\r\n\r\n* One more unit test for Tachiyomi\r\n\r\n* Removed some debug code in the manga reader menu\r\n\r\n* Fixed a typeahead bug where using Enter on add new item or selected options could cause items to disappear from selected state or other visual glitches\r\n\r\n* Actually fix the selection issue. We needed to filter out selected before we access element\r\n\r\n* Cleaned up collection detail page to align to new side nav design\r\n\r\n* Cleaned up some styling on the reading list page\r\n\r\n* Fixed a bug where side nav would not be visible on the main app due to some weird redirect logic\r\n\r\n* Fixed a bug where when paging to the last page, a page will be skipped and user will have to refresh manually to view\r\n\r\n* Fixed some styling bugs on drawer for light themes. Added missing pagination colors on light themes\r\n\r\n* On mobile screens, add some padding on series-detail page\r\n\r\n* Fixed a bad test case helper\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout Part 1 (#1184)\r\n\r\n* Have actionables on series detail action bar and in title to make it easier to use.\r\n\r\n* Fixed a bug where super long titles could render over the book content\r\n\r\n* Fixed a bug in get continue point where it wasn't working in an edge case\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout (#1186)\r\n\r\n* Cleaned up some styles on the progress bar in book reader\r\n\r\n* Fixed up some phone-hidden classes and added titles around the codebase. Stat reporting on first run now takes into account that admin user wont exist.\r\n\r\n* Fixed manage library page not updating last scan time when a notification event comes in.\r\n\r\n* Integrated SeriesSort ComicInfo tag (somehow it got missed)\r\n\r\n* Some minor style changes and no results found for bookmarks on chapter detail modal\r\n\r\n* Fixed the labels in action bar on book reader so Prev/Next are in same place\r\n\r\n* Cleaned up some responsive styles around images and reduced custom classes in light of new display classes on collection detail and series detail pages\r\n\r\n* Fixed an issue with webkit browsers and book reader where the scroll to would fail as the document wasn't fully rendered. A 10ms delay seems to fix the issue.\r\n\r\n* Cleaned up some code and filtering for collections. Collection detail is missing filtering functionality somehow, disabled the button and will add in future release\r\n\r\n* Correctly validate and show a message when a user is not an admin or has change password role when going through forget password flow.\r\n\r\n* Fixed a bug on manage libraries where library last scan didn't work on first scan of a library, due to there being no updated series.\r\n\r\n* Fixed a rendering issue with text being focused on confirm email page textboxes. Fixed a bug where when deleting a theme that was default, Kavita didn't reset Dark as the default theme.\r\n\r\n* Cleaned up the naming and styles for side nav active item hover\r\n\r\n* Fixed event widget to have correct styling on eink and light\r\n\r\n* Tried to fix a rendering issue on side nav for light themes, but can't figure it out\r\n\r\n* On light more, ensure switches are green\r\n\r\n* Fixed a bug where opening a page with a preselected filter, the filter toggle button would require 2 clicks to collapse\r\n\r\n* Reverted the revert of On Deck.\r\n\r\n* Improved the upload by url experience by sending a custom fail error to UI when a url returns 401.\r\n\r\n* When deleting a library, emit a series removed event for each series removed so user's dashboards/screens update.\r\n\r\n* Fixed an api throwing an error due to text being sent back instead of json.\r\n\r\n* Fixed a refresh bug with refreshing pending invites after deleting an invite. Ensure we always refresh pending invites even if user cancel's from invite, as they might invite, then hit cancel, where invite is still active.\r\n\r\n* Fixed a bug where invited users with + in the email would fail due to validation, but UI wouldn't properly inform user.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Version bump for release (#1187)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tech Debt + Series Sort bugfix (#1192)\r\n\r\n* Code cleanup.\r\n\r\nWhen copying files, if the target file already exists, append (1), (2), etc onto the file (this is enhancing existing implementation to allow multiple numbers)\r\n\r\n* Added a ton of null checks to UpdateSeriesMetadata and made the code work on the rare case (not really possible) that SeriesMetadata doesn't exist.\r\n\r\n* Updated Genre code to use strings to ensure a better, more fault tolerant update experience.\r\n\r\n* More cleanup on the codebase\r\n\r\n* Fixed a bug where Series SortName was getting emptied on file scan\r\n\r\n* Fixed a bad copy\r\n\r\n* Fixed unit tests\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Post Release Shakeout (Hotfix Testing) (#1200)\r\n\r\n* Fixed an issue where when falling back to folder parsing, sometimes the folder name wouldn't parse well, like \"Foo 50\" which parses as \"Foo\". Now the fallback will check if we have a solid series parsed from filename before we attempt to parse a folder.\r\n\r\n* Ensure SortName is set during a scan loop even if locked and it's empty string.\r\n\r\n* Added some null checks for metadata update\r\n\r\n* Fixed a bug where Updating a series name with a name of an existing series wouldn't properly check for existing series.\r\n\r\n* Tweaked the logic of OnDeck to consider LastChapterCreated from all chapters in a series, not just those with progress.\r\n\r\n* Fixed a bug where the hamburger menu was still visible on login/registration page despite not functioning\r\n\r\n* Tweaked the logic of OnDeck to consider LastChapterCreated from all chapters in a series, not just those with progress.\r\n\r\n* Removed 2 unused packages from ui\r\n\r\n* Fixed some bugs around determining what the current installed version is in Announcements\r\n\r\n* Use AnyAsync for a query to improve performance\r\n\r\n* Fixed up some fallback code\r\n\r\n* Tests are finally fixed\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* PDF Rendering on Pi (64bit) & Backup Fix (#1204)\r\n\r\n* Updated dependencies. SharpCompress has been updated to v2.1.0 which should fix pdf rendering on pi/arm64 devices.\r\n\r\n* Removed some dependencies not needed and updated the Backup code to account for themes and ensure everything gets copied every time.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Hotfix Prep (#1211)\r\n\r\n* Patched cover image change that somehow got missed\r\n\r\n* Fixed a bug where clicking bottom action bar buttons on book reader wouldn't work correctly (would close drawer when trying to open)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed some missing merge stuff\r\n\r\n* On Deck + Misc Fixes and Changes (#1215)\r\n\r\n* Added playwright and started writing e2e tests.\r\n\r\n* To make things easy, disabled other browsers while I get confortable. Added a login flow (assumes my dev env)\r\n\r\n* More tests on login page\r\n\r\n* Lots more testing code, trying to figure out auth code.\r\n\r\n* Ensure we don't track DBs inside config\r\n\r\n* Added a new date property for when chapters are added to a series which helps with OnDeck calculations. Changed a lot of heavy api calls to use IEnumerable to stream repsonse to UI.\r\n\r\n* Fixed OnDeck with a new field for when last chapter was added on Series. This is a streamlined way to query.\r\n\r\nUpdated Reading List with NormalizedTitle, CoverImage, CoverImageLocked.\r\n\r\n* Implemented the ability to read a random item in the reading list and for the reading list to be intact for order.\r\n\r\n* Tweaked the style for webtoon to not span the whole width, but use max width\r\n\r\n* When we update a cover image just send an event so we don't need to have logic for when updates occur\r\n\r\n* Fixed a bad name for entity type on cover updates\r\n\r\n* Aligned the edit collection tag modal to align with new tab design\r\n\r\n* Rewrote code for picking the first file for metadata to ensure it always picks the correct file, esp if the first chapter of a series starts with a float (1.1)\r\n\r\n* Refactored setting LastChapterAdded to ensure we do it on the Series.\r\n\r\n* Updated Chapter updating in scan loop to avoid nested for loop and an additional loop.\r\n\r\n* Fixed a bug where locked person fields wouldn't persist between scans.\r\n\r\n* Updated Contributing to reflect how to view the swagger api\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixes, Tweaks, and Series Filtering (#1217)\r\n\r\n* From previous fix, added the other locking conditions on the update series metadata.\r\n\r\n* Fixed a bug where custom series, collection tag, and reading list covers weren't being removed on cleanup.\r\n\r\n* Ensure reading list detail has a margin to align to the standard\r\n\r\n* Refactored some event stuff to use dedicated consts. Introduced a new event when users read something, which can update progress bars on cards.\r\n\r\n* Added recomended and library tags to the library detail page. This will eventually offer more custom analytics\r\n\r\n* Cleanup some code onc arousel\r\n\r\n* Adjusted scale to height/width css to better fit\r\n\r\n* Small css tweaks to better center images in the manga reader in both axis. This takes care of double page rendering as well.\r\n\r\n* When a special has a Title set in the metadata, on series detail page, show that on the card rather than filename.\r\n\r\n* Fixed a bug where when paging in manga reader, the scroll to top wasn't working due to changing where scrolling is done\r\n\r\n* More css goodness for rendering images in manga reader\r\n\r\n* Fixed a bug where clearing a typeahead externally wouldn't clear the x button\r\n\r\n* Fixed a bug where filering then using keyboard would select wrong option\r\n\r\n* Added a new sorting field for Last Chapter Added (new field) to get a similar on deck feel.\r\n\r\n* Tweaked recently updated to hit the NFR of 500ms (300ms fresh start) and still give a much better experience.\r\n\r\n* Refactored On deck to now go to all series and also sort by last updated. Recently Added Series now loads all series with sort by created.\r\n\r\n* Some tweaks on css for cover image chooser\r\n\r\n* Fixed a bug in pagination control where multiple pagination events could trigger on load and thus multiple requests for data on parent controller.\r\n\r\n* Updated edit series modal to show when the last chapter was added and when user last read it.\r\n\r\n* Implemented a highlight on the fitler button when a filter is active.\r\n\r\n* Refactored metadata filter screens to perserve the filters in the url and thus when navigating back and forth, it will retain. users should click side nav to reset the state.\r\n\r\n* Hide middle section on companion bar on phones\r\n\r\n* Cleaned up some prefilters and console.logs\r\n\r\n* Don't open drawer by default when a filter is active\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Filtering Bugfixes (#1220)\r\n\r\n* Cleaned up random strings and unified them in one place.\r\n\r\n* Implemented the ability to disable typeaheads\r\n\r\n* Refactored disable state to disable controls on filter\r\n\r\n* Fixed an overflow regression on title\r\n\r\n* Updated ComicInfo DTO which had some bad properties on it\r\n\r\n* Cleaned up some code around disabled typeaheads/filters\r\n\r\n* Fixed typeaheads causing resets to state and mucking up filter presets\r\n\r\n* Fixed state not refreshing between page loads\r\n\r\n* Fixed a bad parsing for My Charms Are Wasted on Kuroiwa Medaka - Ch. 37.5 - Volume Extras\r\n\r\n* Cleanup within the metadata filter to reuse logic and minimize extra loops.\r\n\r\n* Fixed a timing issue with typeahead and first load for people\r\n\r\n* Fixed a bug in Publication Status for a given library, which would fail due to not performing some of the query in memory. Removed a custom index on Series table that wasn't used and potentially caused constraint issues.\r\n\r\n* Added a wiki link for stats collections\r\n\r\n* Security bump\r\n\r\n* Fixed the regex\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixing duplicate chapter issue and adding unit test (#1221)\r\n\r\n* Fixing duplicate chapter issue and adding unit test\r\n\r\n* Update test name\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixes #1222 (#1223)\r\n\r\nCo-authored-by: mihaibargau <mihai.bargau@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Adding gif support (#1225)\r\n\r\n* Adding gif to accepted image extension and unit test\r\n\r\n* Revert \"Adding gif to accepted image extension and unit test\"\r\n\r\nThis reverts commit d0df8239068ddc12f44aed752804b5db60243e44.\r\n\r\n* Adding gif support and unit test\r\n\r\n* unit test and event widget\r\n\r\n- updating unit test archives to temive unneeded gifs, causing failures\r\n- adding overflow to event widget\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Readable Bookmarks (#1228)\r\n\r\n* Moved bookmarks to it's own page on side nav and integrated actions.\r\n\r\n* Implemented the ability to read bookmarks in the manga reader.\r\n\r\n* Removed old bookmark components that aren't needed any longer.\r\n\r\n* Removed recently added component as we use all-series instead now\r\n\r\n* Removed bookmark tab from card detail\r\n\r\n* Fixed scroll to top not working and being missing\r\n\r\n* When opening the side nav on mobile with metadata filter already open, collapse the filter.\r\n\r\n* When on mobile viewports, when clicking an item from side nav, collapse it afterwards\r\n\r\n* Converted most of series detail to use the card detail layout, except storyline which has custom logic\r\n\r\n* Fixed unit test\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed a bad index causing card details modal to fail to render (#1229)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Linked Series (#1230)\r\n\r\n* Implemented the ability to link different series together through Edit Series. CSS pending.\r\n\r\n* Fixed up the css for related cards to show the relation\r\n\r\n* Working on making all tabs in edit seris modal save in one go. Taking a break.\r\n\r\n* Some fixes for Robbie to help with styling on\r\n\r\n* Linked series pill, center library\r\n\r\n* Centering library detail and related pill spacing\r\n\r\n- Library detail cards are now centered if total number of items is > 6 or if mobile.\r\n- Added ability to determine if mobile (viewport width <= 480px\r\n- Fixed related card spacing\r\n- Fixed related card pill spacing\r\n\r\n* Updating relation form spacing\r\n\r\n* Fixed a bug in card detail layout when there is no pagination, we create one in a way that all items render at once.\r\n\r\n* Only auto-close side nav on phones, not tablets\r\n\r\n* Fixed a bug where we had flipped state on sideNavCollapsed$\r\n\r\n* Cleaned up some misleading comments\r\n\r\n* Implemented RBS back in and now  if you have a relationship besides prequel/sequel, the target series will show a link back to it's parent.\r\n\r\n* Added Parentto pipe\r\n\r\n* Missed a relationship type\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Publication Status Enhancements (#1231)\r\n\r\n* Trim when reading some fields from ComicInfo. Adjusted css on the site to reduce nbsp\r\n\r\n* Added Cancelled as a publication status\r\n\r\n* Ensure we track volume number from ComicInfo for the count to determine publication status\r\n\r\n* Publication Status will now check against volume number or chapter number (parsed or comicinfo). The UI will now display the progress, ie) 10/15 and will show the series as completed with a green tag badge if the progress is 100%.\r\n\r\n* Tweaked the ordering of the tabs to make it more streamlined in the reading ordering of Kavita\r\n\r\n* Tweaked the logic for filling in tag badge\r\n\r\n* Added a new publication status of Ended for series that have finished releasing, but not all items are in Kavita\r\n\r\n* Added some fields to edit series modal\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Feature/misc (#1234)\r\n\r\n* Fixed a bug where publication status could show as filled in when total number is 0 but there is a max count.\r\n\r\nAdd ComicInfo support for LocalizedSeries which will populate a Series LocalizedName.\r\n\r\nFixed an issue in tag constraint issues.\r\n\r\n* Hooked in LocalizedSeries tag into merge step in scanner.\r\n\r\n* Hooked in LocalizedSeries from ComicInfo into Kavita and also use it to help during merge phase to avoid 2 different series, if one file is using the name of the localized series.\r\n\r\n* Reduced some extra string creation and updated epub library to ignore bad ToCs.\r\n\r\n* Bumped dependencies to latest. When an epub doesn't have a dc:date with publication event type, default back to just a normal dc:date tag.\r\n\r\n* Fixed a bug where webtoon reader would error out on first load due to how we passed the function to the reader\r\n\r\n* Reverted the centering code\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Library Recomendations (#1236)\r\n\r\n* Updated cover regex for finding cover images in archives to ignore back_cover or back-cover\r\n\r\n* Fixed an issue where Tags wouldn't save due to not pulling them from the DB.\r\n\r\n* Refactored All series to it's own lazy loaded module\r\n\r\n* Modularized Dashboard and library detail. Had to change main dashboard page to be libraries. Subject to change.\r\n\r\n* Refactored login component into registration module\r\n\r\n* Series Detail module created\r\n\r\n* Refactored nav stuff into it's own module, not lazy loaded, but self contained.\r\n\r\n* Refactored theme component into a dev only module so we don't incur load for temp testing modules\r\n\r\n* Finished off modularization code. Only missing thing is to re-introduce some dashboard functionality for library view.\r\n\r\n* Implemented a basic recommendation page for library detail\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Major Search Enhancements (#1238)\r\n\r\n* Pull progress information for some of the recommended stuff.\r\n\r\n* Fixed some redirection code from last PR\r\n\r\n* Implemented the ability to search for files in the search and open the series directly.\r\n\r\n* Fixed nav search bar expanding too much\r\n\r\n* Fixed a bug in nav module not having router so some links broke\r\n\r\n* Fixed an issue where with new localized series tag, merging could fail if the user had 2 series with the series and localized series.\r\n\r\nAdded extra error handling for tracking series parsed from disk.\r\n\r\n* Fixed the slowness when typing in a typeahead by using auditTime vs debounceTime\r\n\r\n* Removed some cleaning of Edition tags from the Parser. Only Omnibus and Uncensored will be ignored when cleaning titles, Full Color, Full Contact, etc will now stay in the title for Series name.\r\n\r\n* Implemented ability to search against chapter's title (from epub or title in comicinfo). This should help users search for books in a series a lot easier.\r\n\r\n* Restrict each search type to 15 records only to keep query performant and UI useful.\r\n\r\n* Wrote some extra messaging on invite user flow around email.\r\n\r\n* Messaging update\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Misc Cleanup (#1242)\r\n\r\n* Updated the wording for Read in incognito, as 'in' was redundant\r\n\r\n* Added icons to the middle tabs for a mobile compaitible view\r\n\r\n* Fixed up the code for side nav to make the display much cleaner\r\n\r\n* Added icons to tabs\r\n\r\n* Styling polishing\r\n\r\n- Making pagination spacing uniform\r\n- Fixing onresize event\r\n- Making cards center justification on mobile only\r\n- fixing vertical alignment for companion bar icons\r\n- Fixing Issue where drawer buttons would sometimes not be visible.\r\n- Fixed vertical alignment issue with filter button\r\n\r\n* Fixing orientation change event\r\n\r\n* added fixed position to drawer\r\n\r\n- fixes styling issues\r\n\r\n* added total pages to series modal\r\n\r\n* Downgraded ExCSS package to a version that doesn't die on @page query selectors.\r\n\r\n* Cleaned up some code and wrote some bug markers in typeahead\r\n\r\n* Removed some padding top on companion bar\r\n\r\n* Aligned the top margin for card detail layout and series detail\r\n\r\n* Use a temp close button on book reader until new code is ready.\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix polishing  (#1245)\r\n\r\n* Fixed a bug where volumes that are a range fail to generate series detail\r\n\r\n* Moved tags closer to genre instead of between different people\r\n\r\n* Optimized the query for On Deck\r\n\r\n* Adjusted mime types to map to cbX types instead of their generic compression methods.\r\n\r\n* Added wiki documentation into invite user flow and register admin user to help users understand email isn't required and they can host their own service.\r\n\r\n* Refactored the document height to be set and removed on nav service, so the book reader and manga reader aren't broken.\r\n\r\n* Refactored On Deck to first be completely streamed to UI, without having to do any processing in memory. Rewrote the query so that we sort by progress then chapter added. Progress is 30 days inclusive, chapter added is 7 days.\r\n\r\n* Fixed an issue where epub date parsing would sometimes fail when it's only a year or not a year at all\r\n\r\n* Fixed a bug where incognito mode would report progress\r\n\r\n* Fixed a bug where bulk selection in storyline tab wouldn't properly run the action on the correct chapters (if selecting from volume -> chapter).\r\n\r\n* Removed a - 1 from total page from card progress bar as the original bug was fixed some time ago\r\n\r\n* Fixed a bug where the logic for filtering out a progress event for current logged in user didn't check properly when user is logged out.\r\n\r\n* When a file doesn't exist and we are trying to read, throw a kavita exception to the UI layer and log.\r\n\r\n* Removed unneeded variable and added some jsdoc\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Book Reader Redesign with e-ink focus (#1246)\r\n\r\n* Refactored the drawer into offcanvas component. Had to write some hacks to emulate how bootstrap's javascript implementation works as ngBootstrap doesn't have a component yet.\r\n\r\n* Cleaned up some of the code\r\n\r\n* Rewrote drawer to align it with the new design\r\n\r\n* First pass, refactored table of content into it's own component\r\n\r\n* Refactored all of the settings logic into a separate component. Everything is broken.\r\n\r\n* More settings on on reactive form\r\n\r\n* More code cleanup on settings\r\n\r\n* Misc fixes around the drawer code. Fixed a bug where range sliders were inheriting background color of normal text inputs\r\n\r\n* Fixed dark mode with book reader.\r\n\r\nWe now clear the theme from the main app so book reader is self-contained. Styles for dark mode are injected into the reading-section. Styles that were previously in scss are now only for the actual menu system.\r\n\r\n* Cleaned up drawer styling on header\r\n\r\n* Removed an ngIf statement for click to paginate\r\n\r\n* Tweaked the accent style to have smaller font size and adjusted style on light mode. Cleaned up some clearTimeout code in a further effort to streamline codebase.\r\n\r\n* Refactored Dark mode into a basic theme. Currently styles are hardcoded.\r\n\r\n* Patched book theme in from themes branch\r\n\r\n* Patched in the backend for Book Theme (not tested yet)\r\n\r\n* Fixed a bug in seeding code for book themes. Started integration of themes into the reader settings\r\n\r\n* Everything except managing themes is working. Themes are a bit shakey, having second thoughts if we should have them or not.\r\n\r\n* Reverted the ability to do custom user book themes. Code is stable with system themes.\r\n\r\n* Stablize the Styles (#1128)\r\n\r\n* Fixed a bug where adding multiple series to reading list would throw an error on UI, but it was successful.\r\n\r\n* When a series has a reading list, we now show the connection on Series detail.\r\n\r\n* Removed all baseurl code from UI and not-connected component since we no longer use it.\r\n\r\n* Fixed tag badges not showing a border. Added last read time to the series detail page\r\n\r\n* Fixed up error interceptor to remove no-connection code\r\n\r\n* Changed implementation for series detail. Book libraries will never send chapters back. Volume 0 volumes will not be sent in volumes ever. Fixed up more renaming logic on books to send more accurate representations to the UI.\r\n\r\n* Cleaned up the selected tab and tab display logic\r\n\r\n* Fixed a bad where statement in reading lists for series\r\n\r\n* Fixed up tab logic again\r\n\r\n* Fixed a small margin on search backdrop\r\n\r\n* Made badge expander button smaller to align with badges\r\n\r\n* Fixed a few UIs due to .form-group and .form-row being removed\r\n\r\n* Updated Theme component page to help with style testing\r\n\r\n* Added more components to theme tester\r\n\r\n* Cleaned up some styling\r\n\r\n* Fixed opacity on search item hover\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked the accordion styles for light mode\r\n\r\n* Set dark book theme as default. Refactored resetSettings to be much cleaner\r\n\r\n* Started the refactor to allow book themes to affect global css variables\r\n\r\n* Fixed some issues with my css variable declarations\r\n\r\n* Fixed a close model state update\r\n\r\n* Lots of work, but dark mode on the book reader is basically done. We have to code the themes much like the site themes\r\n\r\n* Some black theme enhancements\r\n\r\n* Started working on column layout in book reader.\r\n\r\n* Cleaned up the CSS on Reader Settings\r\n\r\n* Hooked up reading direction\r\n\r\n* Got column and double column layout working\r\n\r\n* Implemented some basic virtual paging and hooked in book color theme and layout mode into user preferences.\r\n\r\n* Migration wrote, can edit page layout and color theme on book reader. Removed book dark mode since no longer needed.\r\n\r\nFixed a bug on login/register forms where when input is focused, text is white and not black.\r\n\r\n* When loading book reader, apply column layout.\r\n\r\n* Lots of work around 2 column layout, working on images not splitting. Still not working, committing so i can merge develop in and validate code with new manga reader.\r\n\r\n* Fixed images being split into 2 BUT regression on each page boundary, total reading height is smaller and smaller\r\n\r\n* Fixed some rendering bugs where toggling column layouts would shrink images on screen constantly.\r\n\r\nFixed a bug where bottom bar wouldn't render on column layout in some conditions (this might need to be reworked)\r\n\r\n* Started progress on progress work\r\n\r\n* Updated .NET to 6.0.4\r\n\r\n* Fixed a bug where DataContextModelSnapshot was being removed on build thus new migrations were broken.\r\n\r\n* Tweaked the code around progress saving so that we don't loose track of last scroll element on page load\r\n\r\n* Trying to restore progress, but stuck\r\n\r\n* Extra merge stuff\r\n\r\n* Fixed a bug where volumes that are a range fail to generate series detail\r\n\r\n* No gutters on whole app. Book reader backend now applies the image class automatically at the backend.\r\n\r\n* Added wiki documentation into invite user flow and register admin user to help users understand email isn't required and they can host their own service.\r\n\r\n* Removed bottom padding\r\n\r\n* Refactored the document height to be set and removed on nav service, so the book reader and manga reader aren't broken.\r\n\r\n* Fixed the height of the action bar to simplify logic and keep the code cleaner. Refactored book service image scoping to be much more streamlined and efficient\r\n\r\n* Fixed the height of action bar to 62px and adjusted code to use the hardcoded px. (code commented)\r\n\r\n* Removed commented out code from fixed action bar height\r\n\r\n* Progress restoration seems to be working\r\n\r\n* Code cleanup\r\n\r\n* Ensure the bottom action bar is at the bottom of the viewport on small pages\r\n\r\n* Fixed book fonts not setting properly and added OpenDyslexic font.\r\n\r\n* Fixed up some font issues\r\n\r\n* Updated drawer so all sections are open by default\r\n\r\n* Switched some LINQ to use MinBy\r\n\r\n* When navigating between pages and column layout, adjust the shift for the user.\r\n\r\n* Removed some debug code\r\n\r\n* Blacklist .qpkg folders and don't scan Recently-Snapshot or recycle folders.\r\n\r\n* Renamed the scale width to be scoped to kavita to avoid conflicts.\r\n\r\n* Refactored ngx-sliders out to use normal range instead. Changed up the preferences to separate image and book settinngs into own accordion.\r\n\r\n* updated user preferences for new migration options (not committed yet)\r\n\r\n* Removed some debug code\r\n\r\n* Remove console.logs\r\n\r\n* Migration committed, let's release this to users.\r\n\r\n* A lot of crazy code just to ensure that when you close drawer the toggle reflectst that state.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Book Reader Bugfixes (#1254)\r\n\r\n* Fixed image scoping breaking and books not being able to load images\r\n\r\n* Cleaned up a lot of variables and added more jsdoc. After shifting the margin, we try to recover the column layout width,height, and scroll posisiton.\r\n\r\n* Tap to paginate is working on first load now\r\n\r\n* On resize, rescroll to attempt to avoid breakage\r\n\r\n* Fixed transparent background for action bar on white theme\r\n\r\n* Moved some lists to immutable arrays\r\n\r\n* Actually fixed backgournd now\r\n\r\n* Fixed some settings not updating in book reader on load\r\n\r\n* Put some code in place to test out opening menu with clicking on the document\r\n\r\n* Fixed settings not propagating to the reader\r\n\r\n* Fixing 2 column when loading annd ios mobile\r\n\r\n* Fixed an issue where paging to prev page would sometimes skip the first page.\r\n\r\n* Fixing previous page skipping first page of chapter\r\n\r\n* removing console logs\r\n\r\n* Save progress when we page\r\n\r\n* Click on document to show the side nav\r\n\r\n* Removed columns auto because it could render more columns than applicable. Don't explicitly call saveProgress on prev page, as we already do in another call.\r\n\r\nAdjusted the logic to calculate windowHeight and width to be the same throughout the reader.\r\n\r\n* Setting select fix and settings polish\r\n\r\n* Fixed awkward tooltip wording\r\n\r\n* Added a message for when there is nothing to show on recommended tab\r\n\r\n* Removed bug marker, there was no bug after all\r\n\r\n* Fixing book title truncation in action bar\r\n\r\n* When counting volumes or chapters that have range, count the max part of the range for publication status.\r\n\r\n* Fixing TOC rendering issue\r\n\r\n* Styling fixes\r\n\r\n- Fixed an issue where the image height in the book reader was the column height plus padding so it was breaking pagination calc.\r\n- Centered book reader setting pills\r\n- Made inactive setting pill into a ghost button\r\n- Fixed spacing across the reader settings drawer\r\n\r\n* Added a bit of code to allow us to disable buttons before we click for next chapter load\r\n\r\n* Removed titles from action bars\r\n\r\n* The next page button will now show as the primary color to indicate to the user what the next forward page is.\r\n\r\n* Added a view series to bookmark page and removed actions from header since it didn't work\r\n\r\n* Fixed a bug where pagination wasn't mutating url state\r\n\r\n* Lots of changes, code is kinda working.\r\n\r\nAdded Immersive Mode, but didn't generate migration.\r\n\r\nAdded concept of virtual pages with ability to see them. Math is still slightly off.\r\n\r\nCleaned up prefetching code so we do it much earlier.\r\n\r\nAdded some code that doesn't work to disable buttons with virtual paging included.\r\n\r\n* When turning immersive mode on, force tap to paginate\r\n\r\n* Refactored out the book reader state as it wasn't very beneficial\r\n\r\n* Fixed total virtual page calculation\r\n\r\n* Next/prev page seems to be working pretty well\r\n\r\n* Applied Robbie's virtual page logic and fixed a bug in prev page code\r\n\r\n* Changed the next page to use same virtual page logic\r\n\r\n* Getting back and forward working...somehow.\r\n\r\n* removing redundant code\r\n\r\n* Fixing book title overflow from new action bar changes\r\n\r\n* Polishing pagination styles\r\n\r\n* Changing chapter to section\r\n\r\n* Fixing up other book reader themes\r\n\r\n* Fixed the login header being off-center\r\n\r\n* Fixing styling to follow approach\r\n\r\n* Refactored the pagination buttons to properly call next/prev page based on reading direction\r\n\r\n* Drawer pagination buttons now respect when there is no chapters (prev/next)\r\n\r\n* Everything except disabling buttons when on last possible page working\r\n\r\n* Added Book Reader immersive mode migration\r\n\r\n* Disable next/prev buttons for continuous reading before we request next/prev chapter if there is no chapter.\r\n\r\n* Show a tooltip for the title\r\n\r\n* Fixed unit test\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* More Reader Bugfixes (#1255)\r\n\r\n* Added css to center images\r\n\r\n* Better scaling css\r\n\r\n* Removing vertical height css for actionbar calc\r\n\r\n* Fixed a bug where book settings couldn't be saved due to typo in model\r\n\r\n* fixing height across layouts\r\n\r\n* Fixed an issue where column mode would reset to user preference default between continuous reader loads\r\n\r\n* Fixing some more logic\r\n\r\n* Reading direction arrow keys now flip\r\n\r\n* Small code cleanup on Robbie's code\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Reader scroll area fix (#1257)\r\n\r\n* Changes to make the pagination area scrollable (not working, debug code for Robbie)\r\n\r\n* Adjusted the html to be easier to understand and more streamlined\r\n\r\n* Fixed inability to scroll in manga reader over pagination areas for everything but the bottom bar\r\n\r\n* Book reader now allows you to scroll over pagination area\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Adding code to make sure bottom actionbar is applied on layout change (#1258)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Last batch of bugfixes (#1262)\r\n\r\n* Refactored code to show action bar instead of drawer in immersive mode\r\n\r\n* Card grid\r\n\r\n* adding margin for pagination gap\r\n\r\n* Fixed a rare routing case that wouldn't redirect\r\n\r\n* Fixed a bug where series detail would show blank filtering\r\n\r\n* Fixing image scaling and library card spacing\r\n\r\n* Refactored some methods to be static\r\n\r\n* Adding card grid to series detail\r\n\r\n* Fixed a bug with webtoon going to non-webtoon mode, resulting in black screen.\r\n\r\n* Ensure emails are trimmed when trying to invite.\r\n\r\n* Don't show More In if there is only 1 item in there on library recommended tab\r\n\r\n* Fixed some bugs around locking metadata fields where the correct param wasn't being sent to backend.\r\n\r\n* Added some UI error messaging when the email doesn't match the confirm-email (or rather any email in the system).\r\n\r\n* Fixed some pages where actions weren't working (library detail) and removed some actionable buttons where they didn't make sense\r\n\r\n* Refactored the series detail to use Robbie's new grid system.\r\n\r\n* some styling fixes\r\n\r\n* Styling fixes\r\n\r\n- Removing select border gap\r\n- fixing switches on lite theme\r\n- fixing search result text-light\r\n\r\n* better css var naming\r\n\r\n* changing search lite text color override\r\n\r\n* fixing as per feedback\r\n\r\n* Removing boolean from being visible in bookreader\r\n\r\n* Fixed some bugs in bulk operations not being visible on light/eink screens. Added --bulk-selection-highlight-text-color and --bulk-selection-text-color.\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Remove Light and E-Ink theme (#1263)\r\n\r\n* Refactored code to show action bar instead of drawer in immersive mode\r\n\r\n* Card grid\r\n\r\n* adding margin for pagination gap\r\n\r\n* Fixed a rare routing case that wouldn't redirect\r\n\r\n* Fixed a bug where series detail would show blank filtering\r\n\r\n* Fixing image scaling and library card spacing\r\n\r\n* Refactored some methods to be static\r\n\r\n* Adding card grid to series detail\r\n\r\n* Fixed a bug with webtoon going to non-webtoon mode, resulting in black screen.\r\n\r\n* Ensure emails are trimmed when trying to invite.\r\n\r\n* Don't show More In if there is only 1 item in there on library recommended tab\r\n\r\n* Fixed some bugs around locking metadata fields where the correct param wasn't being sent to backend.\r\n\r\n* Added some UI error messaging when the email doesn't match the confirm-email (or rather any email in the system).\r\n\r\n* Fixed some pages where actions weren't working (library detail) and removed some actionable buttons where they didn't make sense\r\n\r\n* Refactored the series detail to use Robbie's new grid system.\r\n\r\n* some styling fixes\r\n\r\n* Styling fixes\r\n\r\n- Removing select border gap\r\n- fixing switches on lite theme\r\n- fixing search result text-light\r\n\r\n* better css var naming\r\n\r\n* changing search lite text color override\r\n\r\n* fixing as per feedback\r\n\r\n* Removing boolean from being visible in bookreader\r\n\r\n* Fixed some bugs in bulk operations not being visible on light/eink screens. Added --bulk-selection-highlight-text-color and --bulk-selection-text-color.\r\n\r\n* Wrote basic code to remove other themes. Need a migration instead.\r\n\r\n* Added a migration to remove light/e-ink themes and migrate users over to Dark theme by default.\r\n\r\n* Fixed unit tests\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout (#1266)\r\n\r\n* Fixed an issue with fit to screen where spread images would fail to generate a paging area long enough.\r\n\r\n* Fixed pagination placement on original scaling\r\n\r\n* Fixed an issue with webtoon reader not reporting scroll events due to a fix from manga reader.\r\n\r\n* Fixing select on black book-reader theme\r\n\r\n* Fixing canvas split centering\r\n\r\n* Fixed a bug with white mode in book reader not rendering correctly. When bookmarking new pages after previously have viewing bookmarks for a series, ensure we clear out the temp cache else your new files wont be visible till next day.\r\n\r\n* Use grid on related tab\r\n\r\n* Clear bookmarks was not hooked up. Bulk add to collection didn't have label hidden\r\n\r\n* Fixed bug where filter might stay open between pages\r\n\r\n* Fixed typo on relationship for Adaptation\r\n\r\n* Contains was missing from series relation modal\r\n\r\n* Tweaked some methods and wording on reading list page\r\n\r\n* Cleaned up the phrasing when we abort a scan.\r\n\r\n* Fixed issue where typeahead wasn't reopening and it wasn't filtering selected options\r\n\r\n* Fixed some typeahead bugs and decreased interval for docker health check\r\n\r\n* Cleaned up and fixed some logic with receiving cover image update events\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout Part 2 (#1267)\r\n\r\n* Fixed manga reader and removed debug code\r\n\r\n* Removed some console.logs\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Updated the readme to reflect new UX and some tweaks to wordings. (#1270)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* version bump (#1271)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* UX Changes, Tasks, WebP, and More! (#1280)\r\n\r\n* When account updates occur for a user, send an event to them to tell them to refresh their account information (if they are on the site at the time). This way if we revoke permissions, the site will reactively adapt.\r\n\r\n* Some cleanup on the user preferences to remove some calls we don't need anymore.\r\n\r\n* Removed old bulk cleanup bookmark code as it's no longer needed.\r\n\r\n* Tweaked the messaging for stat collection to reflect what we collect now versus when this was initially implemented.\r\n\r\n* Implemented the ability for users to configure their servers to save bookmarks as webP. Reorganized the tabs for Admin dashboard to account for upcoming features.\r\n\r\n* Implemented the ability to bulk convert bookmarks (as many times as the user wants).\r\n\r\nAdded a display of Reoccurring Jobs to the Tasks admin tab. Currently it's just placeholder, but will be enhanced further later in the release.\r\n\r\n* Tweaked the wording around the convert switch.\r\n\r\n* Moved System actions to the task tab\r\n\r\n* Added a controller just for Tachiyomi so we can have dedicated APIs for that client. Deprecated an existing API on the Reader route.\r\n\r\n* Fixed the unit tests\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Implemented the ability to read format tag and force special status. (#1284)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Implemented the ability to parse some volume and chapter keywords for chinese. (#1285)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Word Count (#1286)\r\n\r\n* Adding some code for Robbie\r\n\r\n* See more on series detail metadata area is now at the bottom on the section\r\n\r\n* Cleaned up subtitle headings to use a single class for offset with actionables\r\n\r\n* Added some markup for the new design, waiting for Robbie to finish it off\r\n\r\n* styling age-rating badge\r\n\r\n* Started hooking up basic analyze file service and hooks in the UI. Basic code to implement the count is implemented and in benchmarks.\r\n\r\n* Hooked up analyze ui to backend\r\n\r\n* Refactored Series Detail metadata area to use a new icon/title design\r\n\r\n* Cleaned up the new design\r\n\r\n* Pushing for robbie to do css\r\n\r\n* Massive performance improvement to scan series where we only need to scan folders reported that have series in them, rather than the whole library.\r\n\r\n* Removed theme page as we no longer need it. Added WordCount to DTOs so the UI can show them. Added new pipe to format numbers in compact mode.\r\n\r\n* Hooked up actual reading time based on user's words per hour\r\n\r\n* Refactor some magic numbers to consts\r\n\r\n* Hooked in progress reporting for series word count\r\n\r\n* Hooked up analyze files\r\n\r\n* Re-implemented time to read on comics\r\n\r\n* Removed the word Last Read\r\n\r\n* Show proper language name instead of iso tag on series detail page. Added some error handling on word count code.\r\n\r\n* Reworked error handling\r\n\r\n* Fixed some security vulnerabilities in npm.\r\n\r\n* Handle a case where there are no text nodes and instead of returning an empty list, htmlagilitypack returns null.\r\n\r\n* Tweaked the styles a bit on the icon-and-title\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked when we calculate min reading time\r\n\r\n* Don't use plural if there is only 1 hour for reading\r\n\r\n* Fixed the logic for caluclating time to read on comics\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Drawers, Estimated Reading Time, Korean Parsing Support (#1297)\r\n\r\n* Started building out idea around detail drawer. Need code from word count to continue\r\n\r\n* Fixed the logic for caluclating time to read on comics\r\n\r\n* Adding styles\r\n\r\n* more styling fixes\r\n\r\n* Cleaned up the styles a bit more so it's at least functional. Not sure on the feature, might abandon.\r\n\r\n* Pulled Robbie's changes in and partially migrated them to the drawer.\r\n\r\n* Add offset overrides for offcanvas so it takes our header into account\r\n\r\n* Implemented a basic time left to finish the series (or at least what's in Kavita). Rough around the edges.\r\n\r\n* Cleaned up the drawer code.\r\n\r\n* Added Quick Catch ups to recommended page. Updated the timeout for scan tasks to ensure we don't run 2 at the same time.\r\n\r\n* Quick catchups implemented\r\n\r\n* Added preliminary support for Korean filename parsing. Reduced an array alloc that is called many thousands of times per scan.\r\n\r\n* Fixing drawer overflow\r\n\r\n* Fixed a calculation bug with average reading time.\r\n\r\n* Small spacing changes to drawer\r\n\r\n* Don't show estimated reading time if the user hasn't read anything\r\n\r\n* Bump eventsource from 1.1.1 to 2.0.2 in /UI/Web\r\n\r\nBumps [eventsource](https://github.com/EventSource/eventsource) from 1.1.1 to 2.0.2.\r\n- [Release notes](https://github.com/EventSource/eventsource/releases)\r\n- [Changelog](https://github.com/EventSource/eventsource/blob/master/HISTORY.md)\r\n- [Commits](https://github.com/EventSource/eventsource/compare/v1.1.1...v2.0.2)\r\n\r\n---\r\nupdated-dependencies:\r\n- dependency-name: eventsource\r\n  dependency-type: direct:production\r\n...\r\n\r\nSigned-off-by: dependabot[bot] <support@github.com>\r\n\r\n* Added image to series detail drawer\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Time Estimation Cleanup (#1301)\r\n\r\n* Moved the calculation for time to read to the backend. Tweaked some logic around showing est time to complete.\r\n\r\n* Added debug logging to help pinpoint a duplicate issue in Kavita.\r\n\r\n* More combination logic is error checked in a special way for Robbie to reproduce an issue.\r\n\r\n* Migrated chapter detail card to use backend for time calculation. Ensure we take all chapters into account for volume time calcs\r\n\r\n* Tweaked messaging for some critical logs to include file\r\n\r\n* Ensure pages count uses comma separated number\r\n\r\n* Moved Hangfire annotations to interface level. Adjusted word count service to always recalculate when user requests via analyze series files.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Jump Bar Testing (#1302)\r\n\r\n* Implemented a basic jump bar for the library view. This currently just interacts with existing pagination controls and is not inlined with infinite scroll yet. This is a first pass implementation.\r\n\r\n* Refactored time estimates into the reading service.\r\n\r\n* Cleaned up when the jump bar is shown to mimic pagination controls\r\n\r\n* Cleanup up code in reader service.\r\n\r\n* Scroll to card when selecting a jump key that is shown on the current page.\r\n\r\n* Ensure estimated times always has the smaller number on left hand side.\r\n\r\n* Fixed a bug with a missing vertical rule\r\n\r\n* Fixed an off by 1 pixel for search overlay\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Jumpbar Tweaks (#1305)\r\n\r\n* Adjusted the detail drawer to be slightly larger.\r\n\r\n* Attempted to shorten the jump bar on smaller screens. Robbie needs to take a look at this.\r\n\r\n* Adding plex-like styling to jumpbar\r\n\r\n* style fixes\r\n\r\n* style fixes\r\n\r\n* More fixes *sigh*\r\n\r\n* fix height issue\r\n\r\n* Fixing jumpbar on mobile\r\n\r\n* viewport height fix\r\n\r\n* added --primary-color-scrollbar for overflow across the app\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fix for book cover extending across multiple pages (#1269)\r\n\r\n* Attaching book-reader scale style to parent instead of image\r\n\r\n* Fixing some width issues on images\r\n\r\n* Making sure max-height is respected\r\n\r\n* Fixing duplicate styles which caused excessive breaks\r\n\r\n* Updated the readme to reflect new UX and some tweaks to wordings. (#1270)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* version bump (#1271)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* UX Changes, Tasks, WebP, and More! (#1280)\r\n\r\n* When account updates occur for a user, send an event to them to tell them to refresh their account information (if they are on the site at the time). This way if we revoke permissions, the site will reactively adapt.\r\n\r\n* Some cleanup on the user preferences to remove some calls we don't need anymore.\r\n\r\n* Removed old bulk cleanup bookmark code as it's no longer needed.\r\n\r\n* Tweaked the messaging for stat collection to reflect what we collect now versus when this was initially implemented.\r\n\r\n* Implemented the ability for users to configure their servers to save bookmarks as webP. Reorganized the tabs for Admin dashboard to account for upcoming features.\r\n\r\n* Implemented the ability to bulk convert bookmarks (as many times as the user wants).\r\n\r\nAdded a display of Reoccurring Jobs to the Tasks admin tab. Currently it's just placeholder, but will be enhanced further later in the release.\r\n\r\n* Tweaked the wording around the convert switch.\r\n\r\n* Moved System actions to the task tab\r\n\r\n* Added a controller just for Tachiyomi so we can have dedicated APIs for that client. Deprecated an existing API on the Reader route.\r\n\r\n* Fixed the unit tests\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Implemented the ability to read format tag and force special status. (#1284)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Implemented the ability to parse some volume and chapter keywords for chinese. (#1285)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Word Count (#1286)\r\n\r\n* Adding some code for Robbie\r\n\r\n* See more on series detail metadata area is now at the bottom on the section\r\n\r\n* Cleaned up subtitle headings to use a single class for offset with actionables\r\n\r\n* Added some markup for the new design, waiting for Robbie to finish it off\r\n\r\n* styling age-rating badge\r\n\r\n* Started hooking up basic analyze file service and hooks in the UI. Basic code to implement the count is implemented and in benchmarks.\r\n\r\n* Hooked up analyze ui to backend\r\n\r\n* Refactored Series Detail metadata area to use a new icon/title design\r\n\r\n* Cleaned up the new design\r\n\r\n* Pushing for robbie to do css\r\n\r\n* Massive performance improvement to scan series where we only need to scan folders reported that have series in them, rather than the whole library.\r\n\r\n* Removed theme page as we no longer need it. Added WordCount to DTOs so the UI can show them. Added new pipe to format numbers in compact mode.\r\n\r\n* Hooked up actual reading time based on user's words per hour\r\n\r\n* Refactor some magic numbers to consts\r\n\r\n* Hooked in progress reporting for series word count\r\n\r\n* Hooked up analyze files\r\n\r\n* Re-implemented time to read on comics\r\n\r\n* Removed the word Last Read\r\n\r\n* Show proper language name instead of iso tag on series detail page. Added some error handling on word count code.\r\n\r\n* Reworked error handling\r\n\r\n* Fixed some security vulnerabilities in npm.\r\n\r\n* Handle a case where there are no text nodes and instead of returning an empty list, htmlagilitypack returns null.\r\n\r\n* Tweaked the styles a bit on the icon-and-title\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked when we calculate min reading time\r\n\r\n* Don't use plural if there is only 1 hour for reading\r\n\r\n* Fixed the logic for caluclating time to read on comics\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Drawers, Estimated Reading Time, Korean Parsing Support (#1297)\r\n\r\n* Started building out idea around detail drawer. Need code from word count to continue\r\n\r\n* Fixed the logic for caluclating time to read on comics\r\n\r\n* Adding styles\r\n\r\n* more styling fixes\r\n\r\n* Cleaned up the styles a bit more so it's at least functional. Not sure on the feature, might abandon.\r\n\r\n* Pulled Robbie's changes in and partially migrated them to the drawer.\r\n\r\n* Add offset overrides for offcanvas so it takes our header into account\r\n\r\n* Implemented a basic time left to finish the series (or at least what's in Kavita). Rough around the edges.\r\n\r\n* Cleaned up the drawer code.\r\n\r\n* Added Quick Catch ups to recommended page. Updated the timeout for scan tasks to ensure we don't run 2 at the same time.\r\n\r\n* Quick catchups implemented\r\n\r\n* Added preliminary support for Korean filename parsing. Reduced an array alloc that is called many thousands of times per scan.\r\n\r\n* Fixing drawer overflow\r\n\r\n* Fixed a calculation bug with average reading time.\r\n\r\n* Small spacing changes to drawer\r\n\r\n* Don't show estimated reading time if the user hasn't read anything\r\n\r\n* Bump eventsource from 1.1.1 to 2.0.2 in /UI/Web\r\n\r\nBumps [eventsource](https://github.com/EventSource/eventsource) from 1.1.1 to 2.0.2.\r\n- [Release notes](https://github.com/EventSource/eventsource/releases)\r\n- [Changelog](https://github.com/EventSource/eventsource/blob/master/HISTORY.md)\r\n- [Commits](https://github.com/EventSource/eventsource/compare/v1.1.1...v2.0.2)\r\n\r\n---\r\nupdated-dependencies:\r\n- dependency-name: eventsource\r\n  dependency-type: direct:production\r\n...\r\n\r\nSigned-off-by: dependabot[bot] <support@github.com>\r\n\r\n* Added image to series detail drawer\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Time Estimation Cleanup (#1301)\r\n\r\n* Moved the calculation for time to read to the backend. Tweaked some logic around showing est time to complete.\r\n\r\n* Added debug logging to help pinpoint a duplicate issue in Kavita.\r\n\r\n* More combination logic is error checked in a special way for Robbie to reproduce an issue.\r\n\r\n* Migrated chapter detail card to use backend for time calculation. Ensure we take all chapters into account for volume time calcs\r\n\r\n* Tweaked messaging for some critical logs to include file\r\n\r\n* Ensure pages count uses comma separated number\r\n\r\n* Moved Hangfire annotations to interface level. Adjusted word count service to always recalculate when user requests via analyze series files.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Jump Bar Testing (#1302)\r\n\r\n* Implemented a basic jump bar for the library view. This currently just interacts with existing pagination controls and is not inlined with infinite scroll yet. This is a first pass implementation.\r\n\r\n* Refactored time estimates into the reading service.\r\n\r\n* Cleaned up when the jump bar is shown to mimic pagination controls\r\n\r\n* Cleanup up code in reader service.\r\n\r\n* Scroll to card when selecting a jump key that is shown on the current page.\r\n\r\n* Ensure estimated times always has the smaller number on left hand side.\r\n\r\n* Fixed a bug with a missing vertical rule\r\n\r\n* Fixed an off by 1 pixel for search overlay\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Jumpbar Tweaks (#1305)\r\n\r\n* Adjusted the detail drawer to be slightly larger.\r\n\r\n* Attempted to shorten the jump bar on smaller screens. Robbie needs to take a look at this.\r\n\r\n* Adding plex-like styling to jumpbar\r\n\r\n* style fixes\r\n\r\n* style fixes\r\n\r\n* More fixes *sigh*\r\n\r\n* fix height issue\r\n\r\n* Fixing jumpbar on mobile\r\n\r\n* viewport height fix\r\n\r\n* added --primary-color-scrollbar for overflow across the app\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nCo-authored-by: majora2007 <josephmajora@gmail.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix/reader issues (#1311)\r\n\r\n* Updated the design of icon and text to show a label.\r\n\r\n* Fixed a bug when fit to height and there is overflow on horizontal, the pagination area is stuck to the original width and after scrolling right, the pagination area doesn't move.\r\n\r\n* Attempt to fix a border showing on eink readers white mode with book reader\r\n\r\n* Removed debug code\r\n\r\n* Added back in pagination controls\r\n\r\n* fixing viewport overflow issue\r\n\r\n* Ensure volume detail drawer shows all pages for the volume, not just first chapter. Don't show release date when it's not a real date. Non-ongoing series will now show a different icon.\r\n\r\n* Fixing drawer viewport issue\r\n\r\n* Fix for book cover extending across multiple pages (#1269)\r\n\r\n* Attaching book-reader scale style to parent instead of image\r\n\r\n* Fixing some width issues on images\r\n\r\n* Making sure max-height is respected\r\n\r\n* Fixing duplicate styles which caused excessive breaks\r\n\r\n* Updated the readme to reflect new UX and some tweaks to wordings. (#1270)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* version bump (#1271)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* UX Changes, Tasks, WebP, and More! (#1280)\r\n\r\n* When account updates occur for a user, send an event to them to tell them to refresh their account information (if they are on the site at the time). This way if we revoke permissions, the site will reactively adapt.\r\n\r\n* Some cleanup on the user preferences to remove some calls we don't need anymore.\r\n\r\n* Removed old bulk cleanup bookmark code as it's no longer needed.\r\n\r\n* Tweaked the messaging for stat collection to reflect what we collect now versus when this was initially implemented.\r\n\r\n* Implemented the ability for users to configure their servers to save bookmarks as webP. Reorganized the tabs for Admin dashboard to account for upcoming features.\r\n\r\n* Implemented the ability to bulk convert bookmarks (as many times as the user wants).\r\n\r\nAdded a display of Reoccurring Jobs to the Tasks admin tab. Currently it's just placeholder, but will be enhanced further later in the release.\r\n\r\n* Tweaked the wording around the convert switch.\r\n\r\n* Moved System actions to the task tab\r\n\r\n* Added a controller just for Tachiyomi so we can have dedicated APIs for that client. Deprecated an existing API on the Reader route.\r\n\r\n* Fixed the unit tests\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Implemented the ability to read format tag and force special status. (#1284)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Implemented the ability to parse some volume and chapter keywords for chinese. (#1285)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Word Count (#1286)\r\n\r\n* Adding some code for Robbie\r\n\r\n* See more on series detail metadata area is now at the bottom on the section\r\n\r\n* Cleaned up subtitle headings to use a single class for offset with actionables\r\n\r\n* Added some markup for the new design, waiting for Robbie to finish it off\r\n\r\n* styling age-rating badge\r\n\r\n* Started hooking up basic analyze file service and hooks in the UI. Basic code to implement the count is implemented and in benchmarks.\r\n\r\n* Hooked up analyze ui to backend\r\n\r\n* Refactored Series Detail metadata area to use a new icon/title design\r\n\r\n* Cleaned up the new design\r\n\r\n* Pushing for robbie to do css\r\n\r\n* Massive performance improvement to scan series where we only need to scan folders reported that have series in them, rather than the whole library.\r\n\r\n* Removed theme page as we no longer need it. Added WordCount to DTOs so the UI can show them. Added new pipe to format numbers in compact mode.\r\n\r\n* Hooked up actual reading time based on user's words per hour\r\n\r\n* Refactor some magic numbers to consts\r\n\r\n* Hooked in progress reporting for series word count\r\n\r\n* Hooked up analyze files\r\n\r\n* Re-implemented time to read on comics\r\n\r\n* Removed the word Last Read\r\n\r\n* Show proper language name instead of iso tag on series detail page. Added some error handling on word count code.\r\n\r\n* Reworked error handling\r\n\r\n* Fixed some security vulnerabilities in npm.\r\n\r\n* Handle a case where there are no text nodes and instead of returning an empty list, htmlagilitypack returns null.\r\n\r\n* Tweaked the styles a bit on the icon-and-title\r\n\r\n* Code cleanup\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Tweaked when we calculate min reading time\r\n\r\n* Don't use plural if there is only 1 hour for reading\r\n\r\n* Fixed the logic for caluclating time to read on comics\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Drawers, Estimated Reading Time, Korean Parsing Support (#1297)\r\n\r\n* Started building out idea around detail drawer. Need code from word count to continue\r\n\r\n* Fixed the logic for caluclating time to read on comics\r\n\r\n* Adding styles\r\n\r\n* more styling fixes\r\n\r\n* Cleaned up the styles a bit more so it's at least functional. Not sure on the feature, might abandon.\r\n\r\n* Pulled Robbie's changes in and partially migrated them to the drawer.\r\n\r\n* Add offset overrides for offcanvas so it takes our header into account\r\n\r\n* Implemented a basic time left to finish the series (or at least what's in Kavita). Rough around the edges.\r\n\r\n* Cleaned up the drawer code.\r\n\r\n* Added Quick Catch ups to recommended page. Updated the timeout for scan tasks to ensure we don't run 2 at the same time.\r\n\r\n* Quick catchups implemented\r\n\r\n* Added preliminary support for Korean filename parsing. Reduced an array alloc that is called many thousands of times per scan.\r\n\r\n* Fixing drawer overflow\r\n\r\n* Fixed a calculation bug with average reading time.\r\n\r\n* Small spacing changes to drawer\r\n\r\n* Don't show estimated reading time if the user hasn't read anything\r\n\r\n* Bump eventsource from 1.1.1 to 2.0.2 in /UI/Web\r\n\r\nBumps [eventsource](https://github.com/EventSource/eventsource) from 1.1.1 to 2.0.2.\r\n- [Release notes](https://github.com/EventSource/eventsource/releases)\r\n- [Changelog](https://github.com/EventSource/eventsource/blob/master/HISTORY.md)\r\n- [Commits](https://github.com/EventSource/eventsource/compare/v1.1.1...v2.0.2)\r\n\r\n---\r\nupdated-dependencies:\r\n- dependency-name: eventsource\r\n  dependency-type: direct:production\r\n...\r\n\r\nSigned-off-by: dependabot[bot] <support@github.com>\r\n\r\n* Added image to series detail drawer\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Time Estimation Cleanup (#1301)\r\n\r\n* Moved the calculation for time to read to the backend. Tweaked some logic around showing est time to complete.\r\n\r\n* Added debug logging to help pinpoint a duplicate issue in Kavita.\r\n\r\n* More combination logic is error checked in a special way for Robbie to reproduce an issue.\r\n\r\n* Migrated chapter detail card to use backend for time calculation. Ensure we take all chapters into account for volume time calcs\r\n\r\n* Tweaked messaging for some critical logs to include file\r\n\r\n* Ensure pages count uses comma separated number\r\n\r\n* Moved Hangfire annotations to interface level. Adjusted word count service to always recalculate when user requests via analyze series files.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Jump Bar Testing (#1302)\r\n\r\n* Implemented a basic jump bar for the library view. This currently just interacts with existing pagination controls and is not inlined with infinite scroll yet. This is a first pass implementation.\r\n\r\n* Refactored time estimates into the reading service.\r\n\r\n* Cleaned up when the jump bar is shown to mimic pagination controls\r\n\r\n* Cleanup up code in reader service.\r\n\r\n* Scroll to card when selecting a jump key that is shown on the current page.\r\n\r\n* Ensure estimated times always has the smaller number on left hand side.\r\n\r\n* Fixed a bug with a missing vertical rule\r\n\r\n* Fixed an off by 1 pixel for search overlay\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Jumpbar Tweaks (#1305)\r\n\r\n* Adjusted the detail drawer to be slightly larger.\r\n\r\n* Attempted to shorten the jump bar on smaller screens. Robbie needs to take a look at this.\r\n\r\n* Adding plex-like styling to jumpbar\r\n\r\n* style fixes\r\n\r\n* style fixes\r\n\r\n* More fixes *sigh*\r\n\r\n* fix height issue\r\n\r\n* Fixing jumpbar on mobile\r\n\r\n* viewport height fix\r\n\r\n* added --primary-color-scrollbar for overflow across the app\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nCo-authored-by: majora2007 <josephmajora@gmail.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Close drawer when opening a chapter to read\r\n\r\n* The actionables were not working on chapters in the detail drawer for a volume. Added a distinct read action instead of having the user to have hidden knowledge you can click the cover images.\r\n\r\n* Debug code in.\r\n\r\nFixed a bug where book reader pagination wasn't covering from top to bottom when immersive mode was on.\r\n\r\nTrying to better ensure images don't span multiple virtual pages in column mode.\r\n\r\nChanged icon/title so label is bolded\r\n\r\n* Updated some dependencies for security issues. Fixed up the fix for images on column view wrapping to next virtual page. Lots of css tweaks to the layout code to make it easier to work with.\r\n\r\n* When switching from column layout to default, scroll back to where the user was.\r\n\r\n* Fixed some overlap on default mode with bottom bar\r\n\r\n* Series Detail uses the cover image update mechanism builtin, instead of the old way to handle.\r\n\r\nAdded some text when there is no summary on a volume/chapter.\r\n\r\n* Side nav filter now has clear button within field. Filter no longer shows when side nav is collapsed.\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* bugfix/user-preferences-accordion (#1307)\r\n\r\n* Add files via upload\r\n\r\n* Revert \"Add files via upload\"\r\n\r\nThis reverts commit 446e3e0f046859a0695aedfe79f28965ad104864.\r\n\r\nRevert upload package.json\r\n\r\n* bugfix/user-preferences\r\n\r\nFixed a bug with the BookReader panel id missing brackets which prevented the accordion from functioning correctly.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Infinite Scroll + List View + Cover Upload Redesign (#1319)\r\n\r\n* Started with the redesign of the cover image chooser redesign to be less click intensive for volume/chapter images.\r\n\r\nMade some headings bold in card detail drawer.\r\n\r\n* Tweaked the styles\r\n\r\n* Moved where the info cards show\r\n\r\n* Added an ability to open a page settings drawer\r\n\r\n* Cleaned up some old code that isn't needed anymore.\r\n\r\n* Started implementing a list view. Refactored some title code to a dedicated component\r\n\r\n* List view implemented but way too many API calls. Either need caching or adjusting the SeriesDetail api.\r\n\r\n* Fixed a bug where if the progress bar didn't render on a card item while a download was in progress, the download indicator would be removed.\r\n\r\n* Large refactor to move a lot of the needed fields to the chapter and volume dtos for series detail. All fields are noted when only used in series detail.\r\n\r\n* Implemented cards for other tabs (except related)\r\n\r\n* Fixed the unit test which needed a mocked reader service call.\r\n\r\n* More cleanup around age rating and removing old code from the refactor. Commented out sorting till i feel motivated to work on that.\r\n\r\n* Some cleanup and restored cards as initial layout. Time to test this out and see if there is value add.\r\n\r\n* Added ability for Chapters tab to show the volume chapters belong to (if applicable)\r\n\r\n* Adding style fixes\r\n\r\n* Cover image updates, don't allow the first image (which is what is currently set) to respond to cover changes.\r\n\r\nHide the ID field on list item for series detail.\r\n\r\n* Refactored the title for list item to be injectable\r\n\r\n* Cleaned up the selection code to make it less finicky on mobile when tap scrolling.\r\n\r\n* Refactored chapter tab to show volume as well on list view.\r\n\r\n* Ensure word count shows for Volumes\r\n\r\n* Started adding virtual scrolling, pushing up so Robbie can mess around\r\n\r\n* Started adding virtual scrolling, pushing up so Robbie can mess around\r\n\r\n* Fixed a bug where all chapters would come under specials\r\n\r\n* Show title data as accent if set.\r\n\r\n* Style fixes for virtual scroller\r\n\r\n* Restyling scroll\r\n\r\n* Implemented a way to show storyline with virtual scrolling\r\n\r\n* Show Word Count for chapters and cleaned up some logics.\r\n\r\n* I might have card layout working with virtual scroll code.\r\n\r\n* Some cleanup to hide more system like properties from info bar on series detail page. Fixed some missing time estimate info on storyline chapters.\r\n\r\n* Fixed a regression on series service when I integrated VolumeTitle.\r\n\r\n* Refactored read time to the backend. Added WordCount to the volume itself so we don't need to calculate on frontend. When asking to analyze files from a series, force the calculation.\r\n\r\n* Fixed SeriesDetail api code\r\n\r\n* Fixed up the code in the drawer to better update list/card mode\r\n\r\n* Basic infinite scroll implemented, however due to how we are updating the list to render, we are re-rending cards that haven't been touched.\r\n\r\n* Updated how we render and layout data for infinite scroll on library detail. It's almost there.\r\n\r\n* Started laying foundation for loading pages backwards.\r\n\r\nRemoved lazy loading of images since we are now using virtual paging.\r\n\r\n* Hooked in some basic code to allow user to load a prev page with infinite scroll.\r\n\r\n* Fixed up series detail api and undid the non-lazy loaded images.\r\n\r\nChanged the router to help with this infinite loading on Firefox issue.\r\n\r\n* Fixed up some naming issues with Series Detail and added a new test.\r\n\r\n* This is an infinite scroll without pagination implementation. It is not fully done, but off to a good start. Virtual scroller with jump bar is working pretty well, def needs more polishing and tweaking. There are hacks in this implementation that need to be revisited.\r\n\r\n* Refactored code so that we don't use any pagination and load all results by default.\r\n\r\n* Misc code cleanup from build warnings.\r\n\r\n* Cleaned up some logic for how to display titles in list view.\r\n\r\n* More title cleanup for specials\r\n\r\n* Hooked up page layout to user preferences and renamed an existing user pref name to match the dto.\r\n\r\n* Swapped out everything but storyline with virtual-scroller over CDK\r\n\r\n* Removed CDK from series detail.\r\n\r\n* Default value for migration on page layout\r\n\r\n* Updating card layout for library detail page\r\n\r\n* fixing height for mobile\r\n\r\n* Moved scrollbar\r\n\r\n* Tweaked some styling for layouts when there is no data\r\n\r\n* Refactored the series cards into their own component to make it re-usable.\r\n\r\n* More tweaks on series info cards layout and enhanced a few pages with trackby functions.\r\n\r\n* Removed some dead code\r\n\r\n* Added download on series detail to actionables to fit in with new scroll strategy.\r\n\r\n* Fixed language not being updated and sent to the backend for series update.\r\n\r\n* Fixed a bad migration (if you ran any prior migration in this branch, you need to undo before you use this commit)\r\n\r\n* Adding sticky tabs\r\n\r\n* fixed mobile gap on sticky tab\r\n\r\n* Enhanced the card title for books to show number up front.\r\n\r\n* Adjusted the gutters on admin dashboard\r\n\r\n* Removed debug code\r\n\r\n* Removing duplicate book title\r\n\r\n* Cleaned up old references to cdk scroller\r\n\r\n* Implemented a basic jump bar scaling algorithm. Not perfect, but works pretty well.\r\n\r\n* Code smells\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixing sticky tabs overlapping title on longer titles (#1320)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* dynamic height for series detail (#1321)\r\n\r\n* Adding dynamic height function\r\n\r\n* pushing change requests\r\n\r\n* Moved method to getter\r\n\r\n* Changed carousel reel to onpush strat\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* New PDF Reader (#1324)\r\n\r\n* Refactored all the code that opens the reader to use a unified function. Added new library and setup basic pdf reader route.\r\n\r\n* Progress saving is implemented. Targeting ES6 now.\r\n\r\n* Customized the toolbar to remove things we don't want, made the download button download with correct filename. Adjusted zoom setting to work well on first load regardless of device.\r\n\r\n* Stream the pdf file to the UI rather than handling the download ourselves.\r\n\r\n* Started implementing a custom toolbar.\r\n\r\n* Fixed up the jump bar calculations\r\n\r\n* Fixed filtering being broken\r\n\r\n* Pushing up for Robbie to cleanup the toolbar layout\r\n\r\n* Added an additional button. Working on logic while robbie takes styling\r\n\r\n* Tried to fix the code for robbie\r\n\r\n* Tweaks for fonts\r\n\r\n* Added button for book mode, but doesn't seem to work after renderer is built\r\n\r\n* Removed book mode\r\n\r\n* Removed the old image caching code for pdfs as it's not needed with new reader\r\n\r\n* Removed the interfaces to extract images from pdf.\r\n\r\n* Fixed original pagination area not scaling correctly\r\n\r\n* Integrated series remove events to library detail\r\n\r\n* Cleaned up the getter naming convention\r\n\r\n* Cleaned up some of the manga reader code to reduce cluter and improve re-use\r\n\r\n* Implemented Japanese parser support for volume and chapters.\r\n\r\n* Fixed a bug where resetting scroll in manga reader wasn't working\r\n\r\n* Fixed a bug where word count grew on each scan.\r\n\r\n* Removed unused variable\r\n\r\n* Ensure we calculate word count on files with their own cache timestamp\r\n\r\n* Adjusted size of reel headers\r\n\r\n* Put some code in for moving on original image with keyboard, but it's not in use.\r\n\r\n* Cleaned up the css for the pdf reader\r\n\r\n* Cleaned up the code\r\n\r\n* Tweaked the list item so we show scrollbar now when fully read\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Bugfix for sticky tabs on firefox (#1322)\r\n\r\n* Updating calcs for firefox\r\n\r\n* Removing unused code\r\n\r\n* Fixed up browser discrepencies\r\n\r\n* Review updates\r\n\r\n* Review updates\r\n\r\n* Added debouncing to scroll\r\n\r\n* Fixed a janky scroll issue with overscrolling\r\n\r\n* Cleaned up the code to use renderer and injectable document for SSR.\r\n\r\n* Removing sticky tabs\r\n\r\nCo-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Directory Picker Rework (#1325)\r\n\r\n* Started on the directory picker refactor.\r\n\r\n* Coded some basic working version. Needs styling and variable cleanup\r\n\r\n* code cleanup\r\n\r\n* Implemented the ability to expose swagger on non-development servers.\r\n\r\n* Implemented the ability to expose swagger on non-development servers.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* All Around Polish (#1328)\r\n\r\n* Added --card-list-item-bg-color for the card list items\r\n\r\n* Updated the card list item progress to match how cards render\r\n\r\n* Implemented the ability to configure how many backups are retained.\r\n\r\n* Fixed a bug where odd jump keys could cause a bad index error for jump bar\r\n\r\n* Commented out more code for the pagination route if we go with that.\r\n\r\n* Reverted a move of DisableConcurrentExecution to interface, as it seems to not work there.\r\n\r\n* Updated manga format utility code to pipes\r\n\r\n* Fixed bulk selection on series detail page\r\n\r\n* Fixed bulk selection on all other pages\r\n\r\n* Changed card item to OnPush\r\n\r\n* Updated image component to OnPush\r\n\r\n* Updated Series Card to OnPush\r\n\r\n* Updated Series Detail to OnPush\r\n\r\n* Lots of changes here. Integrated parentscroll support on card detail layout. Added jump bar (custom js implementation) on collection, reading list and all series pages. Updated UserParams to default to no pagination. Lots of cleanup all around\r\n\r\n* Updated some notes on a module use\r\n\r\n* Some code cleanup\r\n\r\n* Fixed up a broken test due to the mapper not being configured in the test.\r\n\r\n* Applied TabID pattern to edit collection tags\r\n\r\n* Applied css from series detail to collection detail page to remove double scrollbar\r\n\r\n* Implemented the ability to sort by Time To Read.\r\n\r\n* Throw an error to the UI when we extract an archive and it contains invalid characters in the filename for the Server OS.\r\n\r\n* Tweaked how the page scrolls for jumpbar on collection detail. We will have to polish another release\r\n\r\n* Cleaned up the styling on directory picker\r\n\r\n* Put some code in but it doesn't work for scroll to top on virtual scrolling. I'll do it later.\r\n\r\n* Fixed a container bug\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Fixed a bug where there was no pagination on the dashboard and it would take some time to load (#1329)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Swagger, Tachiyomi, and some new settings (#1331)\r\n\r\n* Fixed up swagger generation\r\n\r\n* Updated Tachiyomi's latest-chapter to hopefully solve some sync issues.\r\n\r\n* Fixed #1279 with table of contents due to new EPubReader\r\n\r\n* When errors occur, show the event widget icon in red\r\n\r\n* Lots of documentation added and tweaked some wording around backups and swagger\r\n\r\n* For promidius\r\n\r\n* Return proper ChapterDTO\r\n\r\n* Hacks for Promidius\r\n\r\n* Cleanup code\r\n\r\n* No loose leaf, send max chapter\r\n\r\n* One more encode change\r\n\r\n* Implemented code per promiduius' requirements\r\n\r\n* Fixed a bug in the epub parsing where even if you had a series index and series group, but didn't have the series in the title, Kavita wouldn't group them properly.\r\n\r\n* Removed some extra comment\r\n\r\n* Implemented the ability to change a library's type after it's been setup. This displays a warning explaining the dangers of it.\r\n\r\n* Removed some whitespace\r\n\r\n* Blur descriptions based on read status for list item view to avoid spoilers\r\n\r\n* Tweaked placement of a tooltip due to new series detail styles\r\n\r\n* Hooked up a user preference for bluring unread summaries. Fixed a bug in refresh token where we would cause re-authentication when it shouldn't be needed.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Add KnownProxies configuration (#1332)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* More Stat collection (#1337)\r\n\r\n* Ensure that Scan Series triggers a file analysis task.\r\n\r\n* Tweaked concurrency for Analyze Files\r\n\r\n* Implemented new stats tracking for upcoming performance release.\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Double Page Rendering (#1333)\r\n\r\n* First commit\r\n\r\nEnabling double layout mode (and minor fixes)\r\n\r\n* Second commit\r\n\r\n* bug-fix/side-nav-icon\r\n\r\nSide nav icons were not aligned to centred.\r\n\r\n* bug-fix/side-nav-icon\r\n\r\nSide navigation icons were not aligned centred.\r\n\r\n* Squashed commit of the following:\r\n\r\ncommit d796bcdc0a084ff3ab187b8c6aca74805b68d463\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Thu May 26 00:24:25 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 3c92b6d8a5250b8d52331d125a44290bab310697\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 19:11:01 2022 -0500\r\n\r\n    Fixed the logic for caluclating time to read on comics\r\n\r\ncommit e7617862a597ec28d6623b6468d0d70d060bcbf0\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 17:49:45 2022 -0500\r\n\r\n    Don't use plural if there is only 1 hour for reading\r\n\r\ncommit 713e20ebf4338e48591f01c3ccbdd2dd1bd8e4aa\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 17:48:50 2022 -0500\r\n\r\n    Tweaked when we calculate min reading time\r\n\r\ncommit c0f7dd39a2e792ae1e385c15a5991bdf1e6bf76b\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Wed May 25 22:10:42 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit c1490d6e86367377c11ccba568ddd9d206eaae87\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 16:53:39 2022 -0500\r\n\r\n    Word Count (#1286)\r\n\r\n    * Adding some code for Robbie\r\n\r\n    * See more on series detail metadata area is now at the bottom on the section\r\n\r\n    * Cleaned up subtitle headings to use a single class for offset with actionables\r\n\r\n    * Added some markup for the new design, waiting for Robbie to finish it off\r\n\r\n    * styling age-rating badge\r\n\r\n    * Started hooking up basic analyze file service and hooks in the UI. Basic code to implement the count is implemented and in benchmarks.\r\n\r\n    * Hooked up analyze ui to backend\r\n\r\n    * Refactored Series Detail metadata area to use a new icon/title design\r\n\r\n    * Cleaned up the new design\r\n\r\n    * Pushing for robbie to do css\r\n\r\n    * Massive performance improvement to scan series where we only need to scan folders reported that have series in them, rather than the whole library.\r\n\r\n    * Removed theme page as we no longer need it. Added WordCount to DTOs so the UI can show them. Added new pipe to format numbers in compact mode.\r\n\r\n    * Hooked up actual reading time based on user's words per hour\r\n\r\n    * Refactor some magic numbers to consts\r\n\r\n    * Hooked in progress reporting for series word count\r\n\r\n    * Hooked up analyze files\r\n\r\n    * Re-implemented time to read on comics\r\n\r\n    * Removed the word Last Read\r\n\r\n    * Show proper language name instead of iso tag on series detail page. Added some error handling on word count code.\r\n\r\n    * Reworked error handling\r\n\r\n    * Fixed some security vulnerabilities in npm.\r\n\r\n    * Handle a case where there are no text nodes and instead of returning an empty list, htmlagilitypack returns null.\r\n\r\n    * Tweaked the styles a bit on the icon-and-title\r\n\r\n    * Code cleanup\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit 0a70ac35dca3180b2b62927ddb22153945467c8a\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Wed May 25 19:39:11 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit a9a1ec02cac0162b6d4dad5cb9c0b964cd11fded\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 14:25:53 2022 -0500\r\n\r\n    Implemented the ability to parse some volume and chapter keywords for chinese. (#1285)\r\n\r\ncommit 1247f450e2c7001bcc4bb48ca16979656bd521c7\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Wed May 25 17:21:56 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 1a128a3af435e5d54e13ceb189648f5bfbcacd39\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 12:05:16 2022 -0500\r\n\r\n    Implemented the ability to read format tag and force special status. (#1284)\r\n\r\ncommit a0e1ba8d67a232357a43040ac4e886635f61cbf2\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Mon May 23 23:30:19 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit e0a2fc615f0ea2c363394c9596711d08043e1738\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Mon May 23 18:19:52 2022 -0500\r\n\r\n    UX Changes, Tasks, WebP, and More! (#1280)\r\n\r\n    * When account updates occur for a user, send an event to them to tell them to refresh their account information (if they are on the site at the time). This way if we revoke permissions, the site will reactively adapt.\r\n\r\n    * Some cleanup on the user preferences to remove some calls we don't need anymore.\r\n\r\n    * Removed old bulk cleanup bookmark code as it's no longer needed.\r\n\r\n    * Tweaked the messaging for stat collection to reflect what we collect now versus when this was initially implemented.\r\n\r\n    * Implemented the ability for users to configure their servers to save bookmarks as webP. Reorganized the tabs for Admin dashboard to account for upcoming features.\r\n\r\n    * Implemented the ability to bulk convert bookmarks (as many times as the user wants).\r\n\r\n    Added a display of Reoccurring Jobs to the Tasks admin tab. Currently it's just placeholder, but will be enhanced further later in the release.\r\n\r\n    * Tweaked the wording around the convert switch.\r\n\r\n    * Moved System actions to the task tab\r\n\r\n    * Added a controller just for Tachiyomi so we can have dedicated APIs for that client. Deprecated an existing API on the Reader route.\r\n\r\n    * Fixed the unit tests\r\n\r\ncommit dd83b6a9a1ee06dd342b96b3be5ca36c6d1ba8d6\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 21 23:36:25 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 16eb1e3e8ed19f4b0857b1b14593448b072d48ca\r\nAuthor: Joseph Milazzo <josephmajora@gmail.com>\r\nDate:   Sat May 21 18:24:18 2022 -0500\r\n\r\n    version bump (#1271)\r\n\r\ncommit f4f91fa5a957f92b175d63b9af30ad5e5c94decf\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 21 23:03:49 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 1801afd4a7e28f0c9da669b61fd5970002a44c8f\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Sat May 21 17:52:57 2022 -0500\r\n\r\n    Updated the readme to reflect new UX and some tweaks to wordings. (#1270)\r\n\r\ncommit bcad2e4a553e864b91dfef260527601cfd35da31\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 21 02:18:06 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 81082508f2d81dbff00856f1b1988147f2f2127f\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Fri May 20 21:05:09 2022 -0500\r\n\r\n    Release Shakeout Part 2 (#1267)\r\n\r\n    * Fixed manga reader and removed debug code\r\n\r\n    * Removed some console.logs\r\n\r\ncommit 92010379f165cf56307af37d448cfe6734d677ba\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Fri May 20 23:00:48 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit a0623415647c276f6131f39172ae0dd2ffa6aee5\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Fri May 20 17:50:17 2022 -0500\r\n\r\n    Release Shakeout (#1266)\r\n\r\n    * Fixed an issue with fit to screen where spread images would fail to generate a paging area long enough.\r\n\r\n    * Fixed pagination placement on original scaling\r\n\r\n    * Fixed an issue with webtoon reader not reporting scroll events due to a fix from manga reader.\r\n\r\n    * Fixing select on black book-reader theme\r\n\r\n    * Fixing canvas split centering\r\n\r\n    * Fixed a bug with white mode in book reader not rendering correctly. When bookmarking new pages after previously have viewing bookmarks for a series, ensure we clear out the temp cache else your new files wont be visible till next day.\r\n\r\n    * Use grid on related tab\r\n\r\n    * Clear bookmarks was not hooked up. Bulk add to collection didn't have label hidden\r\n\r\n    * Fixed bug where filter might stay open between pages\r\n\r\n    * Fixed typo on relationship for Adaptation\r\n\r\n    * Contains was missing from series relation modal\r\n\r\n    * Tweaked some methods and wording on reading list page\r\n\r\n    * Cleaned up the phrasing when we abort a scan.\r\n\r\n    * Fixed issue where typeahead wasn't reopening and it wasn't filtering selected options\r\n\r\n    * Fixed some typeahead bugs and decreased interval for docker health check\r\n\r\n    * Cleaned up and fixed some logic with receiving cover image update events\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit 49d8a7c6cabc2cac2b2839b421af97854986f31e\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Thu May 19 12:24:13 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit f2b1cd55f0e5b7f4f70c2a2029af6aa85225dc7e\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Thu May 19 07:14:18 2022 -0500\r\n\r\n    Remove Light and E-Ink theme (#1263)\r\n\r\n    * Refactored code to show action bar instead of drawer in immersive mode\r\n\r\n    * Card grid\r\n\r\n    * adding margin for pagination gap\r\n\r\n    * Fixed a rare routing case that wouldn't redirect\r\n\r\n    * Fixed a bug where series detail would show blank filtering\r\n\r\n    * Fixing image scaling and library card spacing\r\n\r\n    * Refactored some methods to be static\r\n\r\n    * Adding card grid to series detail\r\n\r\n    * Fixed a bug with webtoon going to non-webtoon mode, resulting in black screen.\r\n\r\n    * Ensure emails are trimmed when trying to invite.\r\n\r\n    * Don't show More In if there is only 1 item in there on library recommended tab\r\n\r\n    * Fixed some bugs around locking metadata fields where the correct param wasn't being sent to backend.\r\n\r\n    * Added some UI error messaging when the email doesn't match the confirm-email (or rather any email in the system).\r\n\r\n    * Fixed some pages where actions weren't working (library detail) and removed some actionable buttons where they didn't make sense\r\n\r\n    * Refactored the series detail to use Robbie's new grid system.\r\n\r\n    * some styling fixes\r\n\r\n    * Styling fixes\r\n\r\n    - Removing select border gap\r\n    - fixing switches on lite theme\r\n    - fixing search result text-light\r\n\r\n    * better css var naming\r\n\r\n    * changing search lite text color override\r\n\r\n    * fixing as per feedback\r\n\r\n    * Removing boolean from being visible in bookreader\r\n\r\n    * Fixed some bugs in bulk operations not being visible on light/eink screens. Added --bulk-selection-highlight-text-color and --bulk-selection-text-color.\r\n\r\n    * Wrote basic code to remove other themes. Need a migration instead.\r\n\r\n    * Added a migration to remove light/e-ink themes and migrate users over to Dark theme by default.\r\n\r\n    * Fixed unit tests\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit 876e19177e57e06a8919450e350eeefb1c2a0302\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Thu May 19 00:46:22 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 1961b412688f90f7b099d1f086bd5629dd1515e1\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 18 19:31:49 2022 -0500\r\n\r\n    Last batch of bugfixes (#1262)\r\n\r\n    * Refactored code to show action bar instead of drawer in immersive mode\r\n\r\n    * Card grid\r\n\r\n    * adding margin for pagination gap\r\n\r\n    * Fixed a rare routing case that wouldn't redirect\r\n\r\n    * Fixed a bug where series detail would show blank filtering\r\n\r\n    * Fixing image scaling and library card spacing\r\n\r\n    * Refactored some methods to be static\r\n\r\n    * Adding card grid to series detail\r\n\r\n    * Fixed a bug with webtoon going to non-webtoon mode, resulting in black screen.\r\n\r\n    * Ensure emails are trimmed when trying to invite.\r\n\r\n    * Don't show More In if there is only 1 item in there on library recommended tab\r\n\r\n    * Fixed some bugs around locking metadata fields where the correct param wasn't being sent to backend.\r\n\r\n    * Added some UI error messaging when the email doesn't match the confirm-email (or rather any email in the system).\r\n\r\n    * Fixed some pages where actions weren't working (library detail) and removed some actionable buttons where they didn't make sense\r\n\r\n    * Refactored the series detail to use Robbie's new grid system.\r\n\r\n    * some styling fixes\r\n\r\n    * Styling fixes\r\n\r\n    - Removing select border gap\r\n    - fixing switches on lite theme\r\n    - fixing search result text-light\r\n\r\n    * better css var naming\r\n\r\n    * changing search lite text color override\r\n\r\n    * fixing as per feedback\r\n\r\n    * Removing boolean from being visible in bookreader\r\n\r\n    * Fixed some bugs in bulk operations not being visible on light/eink screens. Added --bulk-selection-highlight-text-color and --bulk-selection-text-color.\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit 6f23a3bc6d31ac1f0d0ca6e3d5a985e980d9649e\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sun May 15 21:31:42 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 92fb185f2030331a5c26c7c70b06531b00157c21\r\nAuthor: Robbie Davis <robbie@therobbiedavis.com>\r\nDate:   Sun May 15 17:21:17 2022 -0400\r\n\r\n    Adding code to make sure bottom actionbar is applied on layout change (#1258)\r\n\r\ncommit bb791b7789b047b39c7c687477eccb3bd2f24786\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sun May 15 19:44:47 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit cdc49317705d7a74aa9ed0cb0dfaa291039ca7ad\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Sun May 15 14:34:53 2022 -0500\r\n\r\n    Reader scroll area fix (#1257)\r\n\r\n    * Changes to make the pagination area scrollable (not working, debug code for Robbie)\r\n\r\n    * Adjusted the html to be easier to understand and more streamlined\r\n\r\n    * Fixed inability to scroll in manga reader over pagination areas for everything but the bottom bar\r\n\r\n    * Book reader now allows you to scroll over pagination area\r\n\r\ncommit ccb6414e9e07366efd6a1195e7dde77eda869a48\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 14 22:13:24 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit d458a823ef6e3b779b6c5722db2b226597cb7793\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Sat May 14 17:02:58 2022 -0500\r\n\r\n    More Reader Bugfixes (#1255)\r\n\r\n    * Added css to center images\r\n\r\n    * Better scaling css\r\n\r\n    * Removing vertical height css for actionbar calc\r\n\r\n    * Fixed a bug where book settings couldn't be saved due to typo in model\r\n\r\n    * fixing height across layouts\r\n\r\n    * Fixed an issue where column mode would reset to user preference default between continuous reader loads\r\n\r\n    * Fixing some more logic\r\n\r\n    * Reading direction arrow keys now flip\r\n\r\n    * Small code cleanup on Robbie's code\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit be5b997259f6442fcac8401a09db711971e257b2\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 14 00:40:11 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit f701f8e5999da4e7ce8f8e1b4c7a968953426a92\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Fri May 13 19:30:37 2022 -0500\r\n\r\n    Book Reader Bugfixes (#1254)\r\n\r\n    * Fixed image scoping breaking and books not being able to load images\r\n\r\n    * Cleaned up a lot of variables and added more jsdoc. After shifting the margin, we try to recover the column layout width,height, and scroll posisiton.\r\n\r\n    * Tap to paginate is working on first load now\r\n\r\n    * On resize, rescroll to attempt to avoid breakage\r\n\r\n    * Fixed transparent background for action bar on white theme\r\n\r\n    * Moved some lists to immutable arrays\r\n\r\n    * Actually fixed backgournd now\r\n\r\n    * Fixed some settings not updating in book reader on load\r\n\r\n    * Put some code in place to test out opening menu with clicking on the document\r\n\r\n    * Fixed settings not propagating to the reader\r\n\r\n    * Fixing 2 column when loading annd ios mobile\r\n\r\n    * Fixed an issue where paging to prev page would sometimes skip the first page.\r\n\r\n    * Fixing previous page skipping first page of chapter\r\n\r\n    * removing console logs\r\n\r\n    * Save progress when we page\r\n\r\n    * Click on document to show the side nav\r\n\r\n    * Removed columns auto because it could render more columns than applicable. Don't explicitly call saveProgress on prev page, as we already do in another call.\r\n\r\n    Adjusted the logic to calculate windowHeight and width to be the same throughout the reader.\r\n\r\n    * Setting select fix and settings polish\r\n\r\n    * Fixed awkward tooltip wording\r\n\r\n    * Added a message for when there is nothing to show on recommended tab\r\n\r\n    * Removed bug marker, there was no bug after all\r\n\r\n    * Fixing book title truncation in action bar\r\n\r\n    * When counting volumes or chapters that have range, count the max part of the range for publication status.\r\n\r\n    * Fixing TOC rendering issue\r\n\r\n    * Styling fixes\r\n\r\n    - Fixed an issue where the image height in the book reader was the column height plus padding so it was breaking pagination calc.\r\n    - Centered book reader setting pills\r\n    - Made inactive setting pill into a ghost button\r\n    - Fixed spacing across the reader settings drawer\r\n\r\n    * Added a bit of code to allow us to disable buttons before we click for next chapter load\r\n\r\n    * Removed titles from action bars\r\n\r\n    * The next page button will now show as the primary color to indicate to the user what the next forward page is.\r\n\r\n    * Added a view series to bookmark page and removed actions from header since it didn't work\r\n\r\n    * Fixed a bug where pagination wasn't mutating url state\r\n\r\n    * Lots of changes, code is kinda working.\r\n\r\n    Added Immersive Mode, but didn't generate migration.\r\n\r\n    Added concept of virtual pages with ability to see them. Math is still slightly off.\r\n\r\n    Cleaned up prefetching code so we do it much earlier.\r\n\r\n    Added some code that doesn't work to disable buttons with virtual paging included.\r\n\r\n    * When turning immersive mode on, force tap to paginate\r\n\r\n    * Refactored out the book reader state as it wasn't very beneficial\r\n\r\n    * Fixed total virtual page calculation\r\n\r\n    * Next/prev page seems to be working pretty well\r\n\r\n    * Applied Robbie's virtual page logic and fixed a bug in prev page code\r\n\r\n    * Changed the next page to use same virtual page logic\r\n\r\n    * Getting back and forward working...somehow.\r\n\r\n    * removing redundant code\r\n\r\n    * Fixing book title overflow from new action bar changes\r\n\r\n    * Polishing pagination styles\r\n\r\n    * Changing chapter to section\r\n\r\n    * Fixing up other book reader themes\r\n\r\n    * Fixed the login header being off-center\r\n\r\n    * Fixing styling to follow approach\r\n\r\n    * Refactored the pagination buttons to properly call next/prev page based on reading direction\r\n\r\n    * Drawer pagination buttons now respect when there is no chapters (prev/next)\r\n\r\n    * Everything except disabling buttons when on last possible page working\r\n\r\n    * Added Book Reader immersive mode migration\r\n\r\n    * Disable next/prev buttons for continuous reading before we request next/prev chapter if there is no chapter.\r\n\r\n    * Show a tooltip for the title\r\n\r\n    * Fixed unit test\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit dfcc2f081311113fa4cf1b96097ccc92d3677f54\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Mon May 9 01:01:46 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 2723a6cd1061a0abd575b60b4240897fd99ce93a\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Sun May 8 19:52:15 2022 -0500\r\n\r\n    Book Reader Redesign with e-ink focus (#1246)\r\n\r\n    * Refactored the drawer into offcanvas component. Had to write some hacks to emulate how bootstrap's javascript implementation works as ngBootstrap doesn't have a component yet.\r\n\r\n    * Cleaned up some of the code\r\n\r\n    * Rewrote drawer to align it with the new design\r\n\r\n    * First pass, refactored table of content into it's own component\r\n\r\n    * Refactored all of the settings logic into a separate component. Everything is broken.\r\n\r\n    * More settings on on reactive form\r\n\r\n    * More code cleanup on settings\r\n\r\n    * Misc fixes around the drawer code. Fixed a bug where range sliders were inheriting background color of normal text inputs\r\n\r\n    * Fixed dark mode with book reader.\r\n\r\n    We now clear the theme from the main app so book reader is self-contained. Styles for dark mode are injected into the reading-section. Styles that were previously in scss are now only for the actual menu system.\r\n\r\n    * Cleaned up drawer styling on header\r\n\r\n    * Removed an ngIf statement for click to paginate\r\n\r\n    * Tweaked the accent style to have smaller font size and adjusted style on light mode. Cleaned up some clearTimeout code in a further effort to streamline codebase.\r\n\r\n    * Refactored Dark mode into a basic theme. Currently styles are hardcoded.\r\n\r\n    * Patched book theme in from themes branch\r\n\r\n    * Patched in the backend for Book Theme (not tested yet)\r\n\r\n    * Fixed a bug in seeding code for book themes. Started integration of themes into the reader settings\r\n\r\n    * Everything except managing themes is working. Themes are a bit shakey, having second thoughts if we should have them or not.\r\n\r\n    * Reverted the ability to do custom user book themes. Code is stable with system themes.\r\n\r\n    * Stablize the Styles (#1128)\r\n\r\n    * Fixed a bug where adding multiple series to reading list would throw an error on UI, but it was successful.\r\n\r\n    * When a series has a reading list, we now show the connection on Series detail.\r\n\r\n    * Removed all baseurl code from UI and not-connected component since we no longer use it.\r\n\r\n    * Fixed tag badges not showing a border. Added last read time to the series detail page\r\n\r\n    * Fixed up error interceptor to remove no-connection code\r\n\r\n    * Changed implementation for series detail. Book libraries will never send chapters back. Volume 0 volumes will not be sent in volumes ever. Fixed up more renaming logic on books to send more accurate representations to the UI.\r\n\r\n    * Cleaned up the selected tab and tab display logic\r\n\r\n    * Fixed a bad where statement in reading lists for series\r\n\r\n    * Fixed up tab logic again\r\n\r\n    * Fixed a small margin on search backdrop\r\n\r\n    * Made badge expander button smaller to align with badges\r\n\r\n    * Fixed a few UIs due to .form-group and .form-row being removed\r\n\r\n    * Updated Theme component page to help with style testing\r\n\r\n    * Added more components to theme tester\r\n\r\n    * Cleaned up some styling\r\n\r\n    * Fixed opacity on search item hover\r\n\r\n    * Bump versions by dotnet-bump-version.\r\n\r\n    * Tweaked the accordion styles for light mode\r\n\r\n    * Set dark book theme as default. Refactored resetSettings to be much cleaner\r\n\r\n    * Started the refactor to allow book themes to affect global css variables\r\n\r\n    * Fixed some issues with my css variable declarations\r\n\r\n    * Fixed a close model state update\r\n\r\n    * Lots of work, but dark mode on the book reader is basically done. We have to code the themes much like the site themes\r\n\r\n    * Some black theme enhancements\r\n\r\n    * Started working on column layout in book reader.\r\n\r\n    * Cleaned up the CSS on Reader Settings\r\n\r\n    * Hooked up reading direction\r\n\r\n    * Got column and double column layout working\r\n\r\n    * Implemented some basic virtual paging and hooked in book color theme and layout mode into user preferences.\r\n\r\n    * Migration wrote, can edit page layout and color theme on book reader. Removed book dark mode since no longer needed.\r\n\r\n    Fixed a bug on login/register forms where when input is focused, text is white and not black.\r\n\r\n    * When loading book reader, apply column layout.\r\n\r\n    * Lots of work around 2 column layout, working on images not splitting. Still not working, committing so i can merge develop in and validate code with new manga reader.\r\n\r\n    * Fixed images being split into 2 BUT regression on each page boundary, total reading height is smaller and smaller\r\n\r\n    * Fixed some rendering bugs where toggling column layouts would shrink images on screen constantly.\r\n\r\n    Fixed a bug where bottom bar wouldn't render on column layout in some conditions (this might need to be reworked)\r\n\r\n    * Started progress on progress work\r\n\r\n    * Updated .NET to 6.0.4\r\n\r\n    * Fixed a bug where DataContextModelSnapshot was being removed on build thus new migrations were broken.\r\n\r\n    * Tweaked the code around progress saving so that we don't loose track of last scroll element on page load\r\n\r\n    * Trying to restore progress, but stuck\r\n\r\n    * Extra merge stuff\r\n\r\n    * Fixed a bug where volumes that are a range fail to generate series detail\r\n\r\n    * No gutters on whole app. Book reader backend now applies the image class automatically at the backend.\r\n\r\n    * Added wiki documentation into invite user flow and register admin user to help users understand email isn't required and they can host their own service.\r\n\r\n    * Removed bottom padding\r\n\r\n    * Refactored the document height to be set and removed on nav service, so the book reader and manga reader aren't broken.\r\n\r\n    * Fixed the height of the action bar to simplify logic and keep the code cleaner. Refactored book service image scoping to be much more streamlined and efficient\r\n\r\n    * Fixed the height of action bar to 62px and adjusted code to use the hardcoded px. (code commented)\r\n\r\n    * Removed commented out code from fixed action bar height\r\n\r\n    * Progress restoration seems to be working\r\n\r\n    * Code cleanup\r\n\r\n    * Ensure the bottom action bar is at the bottom of the viewport on small pages\r\n\r\n    * Fixed book fonts not setting properly and added OpenDyslexic font.\r\n\r\n    * Fixed up some font issues\r\n\r\n    * Updated drawer so all sections are open by default\r\n\r\n    * Switched some LINQ to use MinBy\r\n\r\n    * When navigating between pages and column layout, adjust the shift for the user.\r\n\r\n    * Removed some debug code\r\n\r\n    * Blacklist .qpkg folders and don't scan Recently-Snapshot or recycle folders.\r\n\r\n    * Renamed the scale width to be scoped to kavita to avoid conflicts.\r\n\r\n    * Refactored ngx-sliders out to use normal range instead. Changed up the preferences to separate image and book settinngs into own accordion.\r\n\r\n    * updated user preferences for new migration options (not committed yet)\r\n\r\n    * Removed some debug code\r\n\r\n    * Remove console.logs\r\n\r\n    * Migration committed, let's release this to users.\r\n\r\n    * A lot of crazy code just to ensure that when you close drawer the toggle reflectst that state.\r\n\r\n* bug-fix/typos and linting\r\n\r\n* Update API.csproj\r\n\r\n* Squashed commit of the following:\r\n\r\ncommit d796bcdc0a084ff3ab187b8c6aca74805b68d463\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Thu May 26 00:24:25 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 3c92b6d8a5250b8d52331d125a44290bab310697\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 19:11:01 2022 -0500\r\n\r\n    Fixed the logic for caluclating time to read on comics\r\n\r\ncommit e7617862a597ec28d6623b6468d0d70d060bcbf0\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 17:49:45 2022 -0500\r\n\r\n    Don't use plural if there is only 1 hour for reading\r\n\r\ncommit 713e20ebf4338e48591f01c3ccbdd2dd1bd8e4aa\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 17:48:50 2022 -0500\r\n\r\n    Tweaked when we calculate min reading time\r\n\r\ncommit c0f7dd39a2e792ae1e385c15a5991bdf1e6bf76b\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Wed May 25 22:10:42 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit c1490d6e86367377c11ccba568ddd9d206eaae87\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 16:53:39 2022 -0500\r\n\r\n    Word Count (#1286)\r\n\r\n    * Adding some code for Robbie\r\n\r\n    * See more on series detail metadata area is now at the bottom on the section\r\n\r\n    * Cleaned up subtitle headings to use a single class for offset with actionables\r\n\r\n    * Added some markup for the new design, waiting for Robbie to finish it off\r\n\r\n    * styling age-rating badge\r\n\r\n    * Started hooking up basic analyze file service and hooks in the UI. Basic code to implement the count is implemented and in benchmarks.\r\n\r\n    * Hooked up analyze ui to backend\r\n\r\n    * Refactored Series Detail metadata area to use a new icon/title design\r\n\r\n    * Cleaned up the new design\r\n\r\n    * Pushing for robbie to do css\r\n\r\n    * Massive performance improvement to scan series where we only need to scan folders reported that have series in them, rather than the whole library.\r\n\r\n    * Removed theme page as we no longer need it. Added WordCount to DTOs so the UI can show them. Added new pipe to format numbers in compact mode.\r\n\r\n    * Hooked up actual reading time based on user's words per hour\r\n\r\n    * Refactor some magic numbers to consts\r\n\r\n    * Hooked in progress reporting for series word count\r\n\r\n    * Hooked up analyze files\r\n\r\n    * Re-implemented time to read on comics\r\n\r\n    * Removed the word Last Read\r\n\r\n    * Show proper language name instead of iso tag on series detail page. Added some error handling on word count code.\r\n\r\n    * Reworked error handling\r\n\r\n    * Fixed some security vulnerabilities in npm.\r\n\r\n    * Handle a case where there are no text nodes and instead of returning an empty list, htmlagilitypack returns null.\r\n\r\n    * Tweaked the styles a bit on the icon-and-title\r\n\r\n    * Code cleanup\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit 0a70ac35dca3180b2b62927ddb22153945467c8a\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Wed May 25 19:39:11 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit a9a1ec02cac0162b6d4dad5cb9c0b964cd11fded\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 14:25:53 2022 -0500\r\n\r\n    Implemented the ability to parse some volume and chapter keywords for chinese. (#1285)\r\n\r\ncommit 1247f450e2c7001bcc4bb48ca16979656bd521c7\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Wed May 25 17:21:56 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 1a128a3af435e5d54e13ceb189648f5bfbcacd39\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 25 12:05:16 2022 -0500\r\n\r\n    Implemented the ability to read format tag and force special status. (#1284)\r\n\r\ncommit a0e1ba8d67a232357a43040ac4e886635f61cbf2\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Mon May 23 23:30:19 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit e0a2fc615f0ea2c363394c9596711d08043e1738\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Mon May 23 18:19:52 2022 -0500\r\n\r\n    UX Changes, Tasks, WebP, and More! (#1280)\r\n\r\n    * When account updates occur for a user, send an event to them to tell them to refresh their account information (if they are on the site at the time). This way if we revoke permissions, the site will reactively adapt.\r\n\r\n    * Some cleanup on the user preferences to remove some calls we don't need anymore.\r\n\r\n    * Removed old bulk cleanup bookmark code as it's no longer needed.\r\n\r\n    * Tweaked the messaging for stat collection to reflect what we collect now versus when this was initially implemented.\r\n\r\n    * Implemented the ability for users to configure their servers to save bookmarks as webP. Reorganized the tabs for Admin dashboard to account for upcoming features.\r\n\r\n    * Implemented the ability to bulk convert bookmarks (as many times as the user wants).\r\n\r\n    Added a display of Reoccurring Jobs to the Tasks admin tab. Currently it's just placeholder, but will be enhanced further later in the release.\r\n\r\n    * Tweaked the wording around the convert switch.\r\n\r\n    * Moved System actions to the task tab\r\n\r\n    * Added a controller just for Tachiyomi so we can have dedicated APIs for that client. Deprecated an existing API on the Reader route.\r\n\r\n    * Fixed the unit tests\r\n\r\ncommit dd83b6a9a1ee06dd342b96b3be5ca36c6d1ba8d6\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 21 23:36:25 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 16eb1e3e8ed19f4b0857b1b14593448b072d48ca\r\nAuthor: Joseph Milazzo <josephmajora@gmail.com>\r\nDate:   Sat May 21 18:24:18 2022 -0500\r\n\r\n    version bump (#1271)\r\n\r\ncommit f4f91fa5a957f92b175d63b9af30ad5e5c94decf\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 21 23:03:49 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 1801afd4a7e28f0c9da669b61fd5970002a44c8f\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Sat May 21 17:52:57 2022 -0500\r\n\r\n    Updated the readme to reflect new UX and some tweaks to wordings. (#1270)\r\n\r\ncommit bcad2e4a553e864b91dfef260527601cfd35da31\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 21 02:18:06 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 81082508f2d81dbff00856f1b1988147f2f2127f\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Fri May 20 21:05:09 2022 -0500\r\n\r\n    Release Shakeout Part 2 (#1267)\r\n\r\n    * Fixed manga reader and removed debug code\r\n\r\n    * Removed some console.logs\r\n\r\ncommit 92010379f165cf56307af37d448cfe6734d677ba\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Fri May 20 23:00:48 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit a0623415647c276f6131f39172ae0dd2ffa6aee5\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Fri May 20 17:50:17 2022 -0500\r\n\r\n    Release Shakeout (#1266)\r\n\r\n    * Fixed an issue with fit to screen where spread images would fail to generate a paging area long enough.\r\n\r\n    * Fixed pagination placement on original scaling\r\n\r\n    * Fixed an issue with webtoon reader not reporting scroll events due to a fix from manga reader.\r\n\r\n    * Fixing select on black book-reader theme\r\n\r\n    * Fixing canvas split centering\r\n\r\n    * Fixed a bug with white mode in book reader not rendering correctly. When bookmarking new pages after previously have viewing bookmarks for a series, ensure we clear out the temp cache else your new files wont be visible till next day.\r\n\r\n    * Use grid on related tab\r\n\r\n    * Clear bookmarks was not hooked up. Bulk add to collection didn't have label hidden\r\n\r\n    * Fixed bug where filter might stay open between pages\r\n\r\n    * Fixed typo on relationship for Adaptation\r\n\r\n    * Contains was missing from series relation modal\r\n\r\n    * Tweaked some methods and wording on reading list page\r\n\r\n    * Cleaned up the phrasing when we abort a scan.\r\n\r\n    * Fixed issue where typeahead wasn't reopening and it wasn't filtering selected options\r\n\r\n    * Fixed some typeahead bugs and decreased interval for docker health check\r\n\r\n    * Cleaned up and fixed some logic with receiving cover image update events\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit 49d8a7c6cabc2cac2b2839b421af97854986f31e\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Thu May 19 12:24:13 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit f2b1cd55f0e5b7f4f70c2a2029af6aa85225dc7e\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Thu May 19 07:14:18 2022 -0500\r\n\r\n    Remove Light and E-Ink theme (#1263)\r\n\r\n    * Refactored code to show action bar instead of drawer in immersive mode\r\n\r\n    * Card grid\r\n\r\n    * adding margin for pagination gap\r\n\r\n    * Fixed a rare routing case that wouldn't redirect\r\n\r\n    * Fixed a bug where series detail would show blank filtering\r\n\r\n    * Fixing image scaling and library card spacing\r\n\r\n    * Refactored some methods to be static\r\n\r\n    * Adding card grid to series detail\r\n\r\n    * Fixed a bug with webtoon going to non-webtoon mode, resulting in black screen.\r\n\r\n    * Ensure emails are trimmed when trying to invite.\r\n\r\n    * Don't show More In if there is only 1 item in there on library recommended tab\r\n\r\n    * Fixed some bugs around locking metadata fields where the correct param wasn't being sent to backend.\r\n\r\n    * Added some UI error messaging when the email doesn't match the confirm-email (or rather any email in the system).\r\n\r\n    * Fixed some pages where actions weren't working (library detail) and removed some actionable buttons where they didn't make sense\r\n\r\n    * Refactored the series detail to use Robbie's new grid system.\r\n\r\n    * some styling fixes\r\n\r\n    * Styling fixes\r\n\r\n    - Removing select border gap\r\n    - fixing switches on lite theme\r\n    - fixing search result text-light\r\n\r\n    * better css var naming\r\n\r\n    * changing search lite text color override\r\n\r\n    * fixing as per feedback\r\n\r\n    * Removing boolean from being visible in bookreader\r\n\r\n    * Fixed some bugs in bulk operations not being visible on light/eink screens. Added --bulk-selection-highlight-text-color and --bulk-selection-text-color.\r\n\r\n    * Wrote basic code to remove other themes. Need a migration instead.\r\n\r\n    * Added a migration to remove light/e-ink themes and migrate users over to Dark theme by default.\r\n\r\n    * Fixed unit tests\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit 876e19177e57e06a8919450e350eeefb1c2a0302\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Thu May 19 00:46:22 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 1961b412688f90f7b099d1f086bd5629dd1515e1\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed May 18 19:31:49 2022 -0500\r\n\r\n    Last batch of bugfixes (#1262)\r\n\r\n    * Refactored code to show action bar instead of drawer in immersive mode\r\n\r\n    * Card grid\r\n\r\n    * adding margin for pagination gap\r\n\r\n    * Fixed a rare routing case that wouldn't redirect\r\n\r\n    * Fixed a bug where series detail would show blank filtering\r\n\r\n    * Fixing image scaling and library card spacing\r\n\r\n    * Refactored some methods to be static\r\n\r\n    * Adding card grid to series detail\r\n\r\n    * Fixed a bug with webtoon going to non-webtoon mode, resulting in black screen.\r\n\r\n    * Ensure emails are trimmed when trying to invite.\r\n\r\n    * Don't show More In if there is only 1 item in there on library recommended tab\r\n\r\n    * Fixed some bugs around locking metadata fields where the correct param wasn't being sent to backend.\r\n\r\n    * Added some UI error messaging when the email doesn't match the confirm-email (or rather any email in the system).\r\n\r\n    * Fixed some pages where actions weren't working (library detail) and removed some actionable buttons where they didn't make sense\r\n\r\n    * Refactored the series detail to use Robbie's new grid system.\r\n\r\n    * some styling fixes\r\n\r\n    * Styling fixes\r\n\r\n    - Removing select border gap\r\n    - fixing switches on lite theme\r\n    - fixing search result text-light\r\n\r\n    * better css var naming\r\n\r\n    * changing search lite text color override\r\n\r\n    * fixing as per feedback\r\n\r\n    * Removing boolean from being visible in bookreader\r\n\r\n    * Fixed some bugs in bulk operations not being visible on light/eink screens. Added --bulk-selection-highlight-text-color and --bulk-selection-text-color.\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit 6f23a3bc6d31ac1f0d0ca6e3d5a985e980d9649e\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sun May 15 21:31:42 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 92fb185f2030331a5c26c7c70b06531b00157c21\r\nAuthor: Robbie Davis <robbie@therobbiedavis.com>\r\nDate:   Sun May 15 17:21:17 2022 -0400\r\n\r\n    Adding code to make sure bottom actionbar is applied on layout change (#1258)\r\n\r\ncommit bb791b7789b047b39c7c687477eccb3bd2f24786\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sun May 15 19:44:47 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit cdc49317705d7a74aa9ed0cb0dfaa291039ca7ad\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Sun May 15 14:34:53 2022 -0500\r\n\r\n    Reader scroll area fix (#1257)\r\n\r\n    * Changes to make the pagination area scrollable (not working, debug code for Robbie)\r\n\r\n    * Adjusted the html to be easier to understand and more streamlined\r\n\r\n    * Fixed inability to scroll in manga reader over pagination areas for everything but the bottom bar\r\n\r\n    * Book reader now allows you to scroll over pagination area\r\n\r\ncommit ccb6414e9e07366efd6a1195e7dde77eda869a48\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 14 22:13:24 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit d458a823ef6e3b779b6c5722db2b226597cb7793\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Sat May 14 17:02:58 2022 -0500\r\n\r\n    More Reader Bugfixes (#1255)\r\n\r\n    * Added css to center images\r\n\r\n    * Better scaling css\r\n\r\n    * Removing vertical height css for actionbar calc\r\n\r\n    * Fixed a bug where book settings couldn't be saved due to typo in model\r\n\r\n    * fixing height across layouts\r\n\r\n    * Fixed an issue where column mode would reset to user preference default between continuous reader loads\r\n\r\n    * Fixing some more logic\r\n\r\n    * Reading direction arrow keys now flip\r\n\r\n    * Small code cleanup on Robbie's code\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit be5b997259f6442fcac8401a09db711971e257b2\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Sat May 14 00:40:11 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit f701f8e5999da4e7ce8f8e1b4c7a968953426a92\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Fri May 13 19:30:37 2022 -0500\r\n\r\n    Book Reader Bugfixes (#1254)\r\n\r\n    * Fixed image scoping breaking and books not being able to load images\r\n\r\n    * Cleaned up a lot of variables and added more jsdoc. After shifting the margin, we try to recover the column layout width,height, and scroll posisiton.\r\n\r\n    * Tap to paginate is working on first load now\r\n\r\n    * On resize, rescroll to attempt to avoid breakage\r\n\r\n    * Fixed transparent background for action bar on white theme\r\n\r\n    * Moved some lists to immutable arrays\r\n\r\n    * Actually fixed backgournd now\r\n\r\n    * Fixed some settings not updating in book reader on load\r\n\r\n    * Put some code in place to test out opening menu with clicking on the document\r\n\r\n    * Fixed settings not propagating to the reader\r\n\r\n    * Fixing 2 column when loading annd ios mobile\r\n\r\n    * Fixed an issue where paging to prev page would sometimes skip the first page.\r\n\r\n    * Fixing previous page skipping first page of chapter\r\n\r\n    * removing console logs\r\n\r\n    * Save progress when we page\r\n\r\n    * Click on document to show the side nav\r\n\r\n    * Removed columns auto because it could render more columns than applicable. Don't explicitly call saveProgress on prev page, as we already do in another call.\r\n\r\n    Adjusted the logic to calculate windowHeight and width to be the same throughout the reader.\r\n\r\n    * Setting select fix and settings polish\r\n\r\n    * Fixed awkward tooltip wording\r\n\r\n    * Added a message for when there is nothing to show on recommended tab\r\n\r\n    * Removed bug marker, there was no bug after all\r\n\r\n    * Fixing book title truncation in action bar\r\n\r\n    * When counting volumes or chapters that have range, count the max part of the range for publication status.\r\n\r\n    * Fixing TOC rendering issue\r\n\r\n    * Styling fixes\r\n\r\n    - Fixed an issue where the image height in the book reader was the column height plus padding so it was breaking pagination calc.\r\n    - Centered book reader setting pills\r\n    - Made inactive setting pill into a ghost button\r\n    - Fixed spacing across the reader settings drawer\r\n\r\n    * Added a bit of code to allow us to disable buttons before we click for next chapter load\r\n\r\n    * Removed titles from action bars\r\n\r\n    * The next page button will now show as the primary color to indicate to the user what the next forward page is.\r\n\r\n    * Added a view series to bookmark page and removed actions from header since it didn't work\r\n\r\n    * Fixed a bug where pagination wasn't mutating url state\r\n\r\n    * Lots of changes, code is kinda working.\r\n\r\n    Added Immersive Mode, but didn't generate migration.\r\n\r\n    Added concept of virtual pages with ability to see them. Math is still slightly off.\r\n\r\n    Cleaned up prefetching code so we do it much earlier.\r\n\r\n    Added some code that doesn't work to disable buttons with virtual paging included.\r\n\r\n    * When turning immersive mode on, force tap to paginate\r\n\r\n    * Refactored out the book reader state as it wasn't very beneficial\r\n\r\n    * Fixed total virtual page calculation\r\n\r\n    * Next/prev page seems to be working pretty well\r\n\r\n    * Applied Robbie's virtual page logic and fixed a bug in prev page code\r\n\r\n    * Changed the next page to use same virtual page logic\r\n\r\n    * Getting back and forward working...somehow.\r\n\r\n    * removing redundant code\r\n\r\n    * Fixing book title overflow from new action bar changes\r\n\r\n    * Polishing pagination styles\r\n\r\n    * Changing chapter to section\r\n\r\n    * Fixing up other book reader themes\r\n\r\n    * Fixed the login header being off-center\r\n\r\n    * Fixing styling to follow approach\r\n\r\n    * Refactored the pagination buttons to properly call next/prev page based on reading direction\r\n\r\n    * Drawer pagination buttons now respect when there is no chapters (prev/next)\r\n\r\n    * Everything except disabling buttons when on last possible page working\r\n\r\n    * Added Book Reader immersive mode migration\r\n\r\n    * Disable next/prev buttons for continuous reading before we request next/prev chapter if there is no chapter.\r\n\r\n    * Show a tooltip for the title\r\n\r\n    * Fixed unit test\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit dfcc2f081311113fa4cf1b96097ccc92d3677f54\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Mon May 9 01:01:46 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 2723a6cd1061a0abd575b60b4240897fd99ce93a\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Sun May 8 19:52:15 2022 -0500\r\n\r\n    Book Reader Redesign with e-ink focus (#1246)\r\n\r\n    * Refactored the drawer into offcanvas component. Had to write some hacks to emulate how bootstrap's javascript implementation works as ngBootstrap doesn't have a component yet.\r\n\r\n    * Cleaned up some of the code\r\n\r\n    * Rewrote drawer to align it with the new design\r\n\r\n    * First pass, refactored table of content into it's own component\r\n\r\n    * Refactored all of the settings logic into a separate component. Everything is broken.\r\n\r\n    * More settings on on reactive form\r\n\r\n    * More code cleanup on settings\r\n\r\n    * Misc fixes around the drawer code. Fixed a bug where range sliders were inheriting background color of normal text inputs\r\n\r\n    * Fixed dark mode with book reader.\r\n\r\n    We now clear the theme from the main app so book reader is self-contained. Styles for dark mode are injected into the reading-section. Styles that were previously in scss are now only for the actual menu system.\r\n\r\n    * Cleaned up drawer styling on header\r\n\r\n    * Removed an ngIf statement for click to paginate\r\n\r\n    * Tweaked the accent style to have smaller font size and adjusted style on light mode. Cleaned up some clearTimeout code in a further effort to streamline codebase.\r\n\r\n    * Refactored Dark mode into a basic theme. Currently styles are hardcoded.\r\n\r\n    * Patched book theme in from themes branch\r\n\r\n    * Patched in the backend for Book Theme (not tested yet)\r\n\r\n    * Fixed a bug in seeding code for book themes. Started integration of themes into the reader settings\r\n\r\n    * Everything except managing themes is working. Themes are a bit shakey, having second thoughts if we should have them or not.\r\n\r\n    * Reverted the ability to do custom user book themes. Code is stable with system themes.\r\n\r\n    * Stablize the Styles (#1128)\r\n\r\n    * Fixed a bug where adding multiple series to reading list would throw an error on UI, but it was successful.\r\n\r\n    * When a series has a reading list, we now show the connection on Series detail.\r\n\r\n    * Removed all baseurl code from UI and not-connected component since we no longer use it.\r\n\r\n    * Fixed tag badges not showing a border. Added last read time to the series detail page\r\n\r\n    * Fixed up error interceptor to remove no-connection code\r\n\r\n    * Changed implementation for series detail. Book libraries will never send chapters back. Volume 0 volumes will not be sent in volumes ever. Fixed up more renaming logic on books to send more accurate representations to the UI.\r\n\r\n    * Cleaned up the selected tab and tab display logic\r\n\r\n    * Fixed a bad where statement in reading lists for series\r\n\r\n    * Fixed up tab logic again\r\n\r\n    * Fixed a small margin on search backdrop\r\n\r\n    * Made badge expander button smaller to align with badges\r\n\r\n    * Fixed a few UIs due to .form-group and .form-row being removed\r\n\r\n    * Updated Theme component page to help with style testing\r\n\r\n    * Added more components to theme tester\r\n\r\n    * Cleaned up some styling\r\n\r\n    * Fixed opacity on search item hover\r\n\r\n    * Bump versions by dotnet-bump-version.\r\n\r\n    * Tweaked the accordion styles for light mode\r\n\r\n    * Set dark book theme as default. Refactored resetSettings to be much cleaner\r\n\r\n    * Started the refactor to allow book themes to affect global css variables\r\n\r\n    * Fixed some issues with my css variable declarations\r\n\r\n    * Fixed a close model state update\r\n\r\n    * Lots of work, but dark mode on the book reader is basically done. We have to code the themes much like the site themes\r\n\r\n    * Some black theme enhancements\r\n\r\n    * Started working on column layout in book reader.\r\n\r\n    * Cleaned up the CSS on Reader Settings\r\n\r\n    * Hooked up reading direction\r\n\r\n    * Got column and double column layout working\r\n\r\n    * Implemented some basic virtual paging and hooked in book color theme and layout mode into user preferences.\r\n\r\n    * Migration wrote, can edit page layout and color theme on book reader. Removed book dark mode since no longer needed.\r\n\r\n    Fixed a bug on login/register forms where when input is focused, text is white and not black.\r\n\r\n    * When loading book reader, apply column layout.\r\n\r\n    * Lots of work around 2 column layout, working on images not splitting. Still not working, committing so i can merge develop in and validate code with new manga reader.\r\n\r\n    * Fixed images being split into 2 BUT regression on each page boundary, total reading height is smaller and smaller\r\n\r\n    * Fixed some rendering bugs where toggling column layouts would shrink images on screen constantly.\r\n\r\n    Fixed a bug where bottom bar wouldn't render on column layout in some conditions (this might need to be reworked)\r\n\r\n    * Started progress on progress work\r\n\r\n    * Updated .NET to 6.0.4\r\n\r\n    * Fixed a bug where DataContextModelSnapshot was being removed on build thus new migrations were broken.\r\n\r\n    * Tweaked the code around progress saving so that we don't loose track of last scroll element on page load\r\n\r\n    * Trying to restore progress, but stuck\r\n\r\n    * Extra merge stuff\r\n\r\n    * Fixed a bug where volumes that are a range fail to generate series detail\r\n\r\n    * No gutters on whole app. Book reader backend now applies the image class automatically at the backend.\r\n\r\n    * Added wiki documentation into invite user flow and register admin user to help users understand email isn't required and they can host their own service.\r\n\r\n    * Removed bottom padding\r\n\r\n    * Refactored the document height to be set and removed on nav service, so the book reader and manga reader aren't broken.\r\n\r\n    * Fixed the height of the action bar to simplify logic and keep the code cleaner. Refactored book service image scoping to be much more streamlined and efficient\r\n\r\n    * Fixed the height of action bar to 62px and adjusted code to use the hardcoded px. (code commented)\r\n\r\n    * Removed commented out code from fixed action bar height\r\n\r\n    * Progress restoration seems to be working\r\n\r\n    * Code cleanup\r\n\r\n    * Ensure the bottom action bar is at the bottom of the viewport on small pages\r\n\r\n    * Fixed book fonts not setting properly and added OpenDyslexic font.\r\n\r\n    * Fixed up some font issues\r\n\r\n    * Updated drawer so all sections are open by default\r\n\r\n    * Switched some LINQ to use MinBy\r\n\r\n    * When navigating between pages and column layout, adjust the shift for the user.\r\n\r\n    * Removed some debug code\r\n\r\n    * Blacklist .qpkg folders and don't scan Recently-Snapshot or recycle folders.\r\n\r\n    * Renamed the scale width to be scoped to kavita to avoid conflicts.\r\n\r\n    * Refactored ngx-sliders out to use normal range instead. Changed up the preferences to separate image and book settinngs into own accordion.\r\n\r\n    * updated user preferences for new migration options (not committed yet)\r\n\r\n    * Removed some debug code\r\n\r\n    * Remove console.logs\r\n\r\n    * Migration committed, let's release this to users.\r\n\r\n    * A lot of crazy code just to ensure that when you close drawer the toggle reflectst that state.\r\n\r\n* bug-fix/typos & linting\r\n\r\n* Add files via upload\r\n\r\n* bug-fix/double layout\r\n\r\nhtml: image-1 <img> needed closing\r\nscss: full-height needed display: inline-block (not grid)\r\n\r\n* bug-fix/itemsPerPage\r\n\r\nSet items per page to 112 (%8=0, %7=0)\r\n\r\n* Revert \"Add files via upload\"\r\n\r\nThis reverts commit 446e3e0f046859a0695aedfe79f28965ad104864.\r\n\r\nRevert upload package.json\r\n\r\n* bugfix/user-preferences\r\n\r\nFixed a bug with the BookReader panel id missing brackets which prevented the accordion from functioning correctly.\r\n\r\n* Squashed commit of the following:\r\n\r\ncommit ebbb3ec86b546bd01d17d5b631620de6ec6b7f54\r\nMerge: 24d90527 2ed0aca8\r\nAuthor: marcelo <mguimaraes@okanagan.bc.ca>\r\nDate:   Fri Jun 17 21:15:42 2022 -0700\r\n\r\n    Merge remote-tracking branch 'upstream/develop' into develop\r\n\r\ncommit 2ed0aca866eebf40edf13fe44e1a4cbd417ad47f\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Thu Jun 16 17:20:39 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 9c851b0f0e2e473e229456913ac026b6cb7ab5e1\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Thu Jun 16 12:08:09 2022 -0500\r\n\r\n    Directory Picker Rework (#1325)\r\n\r\n    * Started on the directory picker refactor.\r\n\r\n    * Coded some basic working version. Needs styling and variable cleanup\r\n\r\n    * code cleanup\r\n\r\n    * Implemented the ability to expose swagger on non-development servers.\r\n\r\n    * Implemented the ability to expose swagger on non-development servers.\r\n\r\ncommit 0f5a7ee6fac33767208901ec7bf6ef61c547e523\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Thu Jun 16 14:09:35 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit c8418d127c3a36cee16393ee70748f9fb0216efc\r\nAuthor: Robbie Davis <robbie@therobbiedavis.com>\r\nDate:   Thu Jun 16 09:50:23 2022 -0400\r\n\r\n    Bugfix for sticky tabs on firefox (#1322)\r\n\r\n    * Updating calcs for firefox\r\n\r\n    * Removing unused code\r\n\r\n    * Fixed up browser discrepencies\r\n\r\n    * Review updates\r\n\r\n    * Review updates\r\n\r\n    * Added debouncing to scroll\r\n\r\n    * Fixed a janky scroll issue with overscrolling\r\n\r\n    * Cleaned up the code to use renderer and injectable document for SSR.\r\n\r\n    * Removing sticky tabs\r\n\r\n    Co-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\ncommit 5b829af5312ca107d4d16ded6efb02d5475287b4\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Wed Jun 15 21:57:45 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 3ab3a10ae79445ebf6d0fe2ecf3d1de989adb398\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Wed Jun 15 16:43:32 2022 -0500\r\n\r\n    New PDF Reader (#1324)\r\n\r\n    * Refactored all the code that opens the reader to use a unified function. Added new library and setup basic pdf reader route.\r\n\r\n    * Progress saving is implemented. Targeting ES6 now.\r\n\r\n    * Customized the toolbar to remove things we don't want, made the download button download with correct filename. Adjusted zoom setting to work well on first load regardless of device.\r\n\r\n    * Stream the pdf file to the UI rather than handling the download ourselves.\r\n\r\n    * Started implementing a custom toolbar.\r\n\r\n    * Fixed up the jump bar calculations\r\n\r\n    * Fixed filtering being broken\r\n\r\n    * Pushing up for Robbie to cleanup the toolbar layout\r\n\r\n    * Added an additional button. Working on logic while robbie takes styling\r\n\r\n    * Tried to fix the code for robbie\r\n\r\n    * Tweaks for fonts\r\n\r\n    * Added button for book mode, but doesn't seem to work after renderer is built\r\n\r\n    * Removed book mode\r\n\r\n    * Removed the old image caching code for pdfs as it's not needed with new reader\r\n\r\n    * Removed the interfaces to extract images from pdf.\r\n\r\n    * Fixed original pagination area not scaling correctly\r\n\r\n    * Integrated series remove events to library detail\r\n\r\n    * Cleaned up the getter naming convention\r\n\r\n    * Cleaned up some of the manga reader code to reduce cluter and improve re-use\r\n\r\n    * Implemented Japanese parser support for volume and chapters.\r\n\r\n    * Fixed a bug where resetting scroll in manga reader wasn't working\r\n\r\n    * Fixed a bug where word count grew on each scan.\r\n\r\n    * Removed unused variable\r\n\r\n    * Ensure we calculate word count on files with their own cache timestamp\r\n\r\n    * Adjusted size of reel headers\r\n\r\n    * Put some code in for moving on original image with keyboard, but it's not in use.\r\n\r\n    * Cleaned up the css for the pdf reader\r\n\r\n    * Cleaned up the code\r\n\r\n    * Tweaked the list item so we show scrollbar now when fully read\r\n\r\ncommit 384fac68c443c3c7aaa159f0944d400e236a5177\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Tue Jun 14 15:18:27 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 78f0bad144b487bbe7dee3f6eecb9a827062c741\r\nAuthor: Robbie Davis <robbie@therobbiedavis.com>\r\nDate:   Tue Jun 14 11:01:06 2022 -0400\r\n\r\n    dynamic height for series detail (#1321)\r\n\r\n    * Adding dynamic height function\r\n\r\n    * pushing change requests\r\n\r\n    * Moved method to getter\r\n\r\n    * Changed carousel reel to onpush strat\r\n\r\n    Co-authored-by: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\n\r\ncommit 1edf23d8c37a1bfde12e980b487e3d0636d411b6\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Tue Jun 14 12:20:50 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 791e852596245447682c3fbe370048a31f578314\r\nAuthor: Robbie Davis <robbie@therobbiedavis.com>\r\nDate:   Tue Jun 14 08:07:28 2022 -0400\r\n\r\n    Fixing sticky tabs overlapping title on longer titles (#1320)\r\n\r\ncommit 549b889639b9164ca1406e958667b8236a3fd6a4\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Mon Jun 13 21:51:00 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit bbc48a5f5b4742ca206ad5606c58ad789069fe2f\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Mon Jun 13 16:37:49 2022 -0500\r\n\r\n    Infinite Scroll + List View + Cover Upload Redesign (#1319)\r\n\r\n    * Started with the redesign of the cover image chooser redesign to be less click intensive for volume/chapter images.\r\n\r\n    Made some headings bold in card detail drawer.\r\n\r\n    * Tweaked the styles\r\n\r\n    * Moved where the info cards show\r\n\r\n    * Added an ability to open a page settings drawer\r\n\r\n    * Cleaned up some old code that isn't needed anymore.\r\n\r\n    * Started implementing a list view. Refactored some title code to a dedicated component\r\n\r\n    * List view implemented but way too many API calls. Either need caching or adjusting the SeriesDetail api.\r\n\r\n    * Fixed a bug where if the progress bar didn't render on a card item while a download was in progress, the download indicator would be removed.\r\n\r\n    * Large refactor to move a lot of the needed fields to the chapter and volume dtos for series detail. All fields are noted when only used in series detail.\r\n\r\n    * Implemented cards for other tabs (except related)\r\n\r\n    * Fixed the unit test which needed a mocked reader service call.\r\n\r\n    * More cleanup around age rating and removing old code from the refactor. Commented out sorting till i feel motivated to work on that.\r\n\r\n    * Some cleanup and restored cards as initial layout. Time to test this out and see if there is value add.\r\n\r\n    * Added ability for Chapters tab to show the volume chapters belong to (if applicable)\r\n\r\n    * Adding style fixes\r\n\r\n    * Cover image updates, don't allow the first image (which is what is currently set) to respond to cover changes.\r\n\r\n    Hide the ID field on list item for series detail.\r\n\r\n    * Refactored the title for list item to be injectable\r\n\r\n    * Cleaned up the selection code to make it less finicky on mobile when tap scrolling.\r\n\r\n    * Refactored chapter tab to show volume as well on list view.\r\n\r\n    * Ensure word count shows for Volumes\r\n\r\n    * Started adding virtual scrolling, pushing up so Robbie can mess around\r\n\r\n    * Started adding virtual scrolling, pushing up so Robbie can mess around\r\n\r\n    * Fixed a bug where all chapters would come under specials\r\n\r\n    * Show title data as accent if set.\r\n\r\n    * Style fixes for virtual scroller\r\n\r\n    * Restyling scroll\r\n\r\n    * Implemented a way to show storyline with virtual scrolling\r\n\r\n    * Show Word Count for chapters and cleaned up some logics.\r\n\r\n    * I might have card layout working with virtual scroll code.\r\n\r\n    * Some cleanup to hide more system like properties from info bar on series detail page. Fixed some missing time estimate info on storyline chapters.\r\n\r\n    * Fixed a regression on series service when I integrated VolumeTitle.\r\n\r\n    * Refactored read time to the backend. Added WordCount to the volume itself so we don't need to calculate on frontend. When asking to analyze files from a series, force the calculation.\r\n\r\n    * Fixed SeriesDetail api code\r\n\r\n    * Fixed up the code in the drawer to better update list/card mode\r\n\r\n    * Basic infinite scroll implemented, however due to how we are updating the list to render, we are re-rending cards that haven't been touched.\r\n\r\n    * Updated how we render and layout data for infinite scroll on library detail. It's almost there.\r\n\r\n    * Started laying foundation for loading pages backwards.\r\n\r\n    Removed lazy loading of images since we are now using virtual paging.\r\n\r\n    * Hooked in some basic code to allow user to load a prev page with infinite scroll.\r\n\r\n    * Fixed up series detail api and undid the non-lazy loaded images.\r\n\r\n    Changed the router to help with this infinite loading on Firefox issue.\r\n\r\n    * Fixed up some naming issues with Series Detail and added a new test.\r\n\r\n    * This is an infinite scroll without pagination implementation. It is not fully done, but off to a good start. Virtual scroller with jump bar is working pretty well, def needs more polishing and tweaking. There are hacks in this implementation that need to be revisited.\r\n\r\n    * Refactored code so that we don't use any pagination and load all results by default.\r\n\r\n    * Misc code cleanup from build warnings.\r\n\r\n    * Cleaned up some logic for how to display titles in list view.\r\n\r\n    * More title cleanup for specials\r\n\r\n    * Hooked up page layout to user preferences and renamed an existing user pref name to match the dto.\r\n\r\n    * Swapped out everything but storyline with virtual-scroller over CDK\r\n\r\n    * Removed CDK from series detail.\r\n\r\n    * Default value for migration on page layout\r\n\r\n    * Updating card layout for library detail page\r\n\r\n    * fixing height for mobile\r\n\r\n    * Moved scrollbar\r\n\r\n    * Tweaked some styling for layouts when there is no data\r\n\r\n    * Refactored the series cards into their own component to make it re-usable.\r\n\r\n    * More tweaks on series info cards layout and enhanced a few pages with trackby functions.\r\n\r\n    * Removed some dead code\r\n\r\n    * Added download on series detail to actionables to fit in with new scroll strategy.\r\n\r\n    * Fixed language not being updated and sent to the backend for series update.\r\n\r\n    * Fixed a bad migration (if you ran any prior migration in this branch, you need to undo before you use this commit)\r\n\r\n    * Adding sticky tabs\r\n\r\n    * fixed mobile gap on sticky tab\r\n\r\n    * Enhanced the card title for books to show number up front.\r\n\r\n    * Adjusted the gutters on admin dashboard\r\n\r\n    * Removed debug code\r\n\r\n    * Removing duplicate book title\r\n\r\n    * Cleaned up old references to cdk scroller\r\n\r\n    * Implemented a basic jump bar scaling algorithm. Not perfect, but works pretty well.\r\n\r\n    * Code smells\r\n\r\n    Co-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\ncommit f0f0e23e88845dc36430df031305f9765aeaa26e\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Fri Jun 10 15:05:27 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 54e94bfcb22753c89c3ceee104130937e296b0d4\r\nAuthor: Marcelo Guimar\u00e3es Junior <75567460+magujun@users.noreply.github.com>\r\nDate:   Fri Jun 10 07:52:42 2022 -0700\r\n\r\n    bugfix/user-preferences-accordion (#1307)\r\n\r\n    * Add files via upload\r\n\r\n    * Revert \"Add files via upload\"\r\n\r\n    This reverts commit 446e3e0f046859a0695aedfe79f28965ad104864.\r\n\r\n    Revert upload package.json\r\n\r\n    * bugfix/user-preferences\r\n\r\n    Fixed a bug with the BookReader panel id missing brackets which prevented the accordion from functioning correctly.\r\n\r\ncommit 0124620e36c4db090e834d76199cd67c0e3bbe9e\r\nAuthor: majora2007 <josephmajora@gmail.com>\r\nDate:   Wed Jun 8 00:06:51 2022 +0000\r\n\r\n    Bump versions by dotnet-bump-version.\r\n\r\ncommit 77b8551620ff43475de5a32dd799ee70a4c97996\r\nAuthor: Joseph Milazzo <joseph.v.milazzo@gmail.com>\r\nDate:   Tue Jun 7 18:48:25 2022 -0500\r\n\u2026\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Release Shakeout (#1340)\r\n\r\n* Fixed a bug where analyze series would not force a re-analysis. Fixed a bug where if files weren't changed since last analysis, then series word count got reset to 0.\r\n\r\n* Fixed epub images not loading in detail drawer\r\n\r\n* Fixed a bug on double page layout where the reader would be wonky when moving to and from mobile layout.\r\n\r\n* package-lock.json updated\r\n\r\n* Cleaned up some wording\r\n\r\n* Moved a conditional on jump bar\r\n\r\n* Bugfix for Double Page Rendering skipping pages (#1339)\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Double (Manga) fixes\r\n\r\n. Fixed: *ngIf condition, last page loading Double\r\n. Added: isLoose, pageAmount, and CanvasImageNextDouble to keep track of double sequence breaks (nn/n/w)\r\n. Fixed: ShouldRenderReverseDouble and pageAmount conditions\r\n. Added: Setting isLoose on loadPage()\r\n. Added: canvasImageNextDouble in loadPage()\r\n\r\nCo-authored-by: majora2007 <josephmajora@gmail.com>\r\n\r\n* Added comments for Magunjun's PR.\r\n\r\nCo-authored-by: Marcelo Guimar\u00e3es Junior <75567460+magujun@users.noreply.github.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Manga Reader Double Layout bugfixes (#1341)\r\n\r\n* Enforce some max heights on series detail page\r\n\r\n* Added some icon to layout mode to help the user understand how they work (Robbie needs to css it)\r\n\r\n* Adding split-double icon\r\n\r\n* Fixing reverse\r\n\r\n* Added lots of debug code, refactored documentation, and added some history for wide images\r\n\r\n* More prefetching code for wide images\r\n\r\n* Fixed the issue where sometimes paging backwards would skip an image\r\n\r\n* Fixed up a bug where occasionally on double (manga) paging backwards could skip a page.\r\n\r\nFixed a bug on double where last page could get duplicated.\r\n\r\n* Don't update pageDimensionHistory since we don't need it\r\n\r\n* Forgot some changes\r\n\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Last Shakeout (#1342)\r\n\r\n* Fixed a bug where series estimate reading time could be calculated before we restore esisting time.\r\n\r\n* Cleaned up debug code for the reader\r\n\r\n* Fixed an issue where pagination areas on wide images wasn't proper height\r\n\r\n* Fixed a pagination height calc\r\n\r\n* Small change\r\n\r\n* Bump versions by dotnet-bump-version.\r\n\r\n* Version bump\r\n\r\n* Version bump (#1343)\r\n\r\nCo-authored-by: ThePromidius <thepromidiusyt@gmail.com>\r\nCo-authored-by: Robbie Davis <robbie@therobbiedavis.com>\r\nCo-authored-by: mihaibargau <45738311+mihaibargau@users.noreply.github.com>\r\nCo-authored-by: mihaibargau <mihai.bargau@gmail.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>\r\nCo-authored-by: Marcelo Guimar\u00e3es Junior <75567460+magujun@users.noreply.github.com>\r\nCo-authored-by: tjarls <tjarls@gmail.com>\r\nCo-authored-by: magujun <guimaraesjunior.marcelo@gmail.com>\r\nCo-authored-by: marcelo <mguimaraes@okanagan.bc.ca>",
      "files_changed": [
        ".vscode/launch.json",
        ".vscode/settings.json",
        "API.Benchmark/EpubBenchmark.cs",
        "API.Benchmark/Program.cs",
        "API.Tests/API.Tests.csproj",
        "API.Tests/Parser/MangaParserTests.cs",
        "API.Tests/Services/BookmarkServiceTests.cs",
        "API.Tests/Services/CacheServiceTests.cs",
        "API.Tests/Services/CleanupServiceTests.cs",
        "API.Tests/Services/SeriesServiceTests.cs",
        "API.Tests/Services/SiteThemeServiceTests.cs",
        "API/API.csproj",
        "API/Controllers/AccountController.cs",
        "API/Controllers/AdminController.cs",
        "API/Controllers/BookController.cs",
        "API/Controllers/DownloadController.cs",
        "API/Controllers/ImageController.cs",
        "API/Controllers/LibraryController.cs",
        "API/Controllers/MetadataController.cs",
        "API/Controllers/OPDSController.cs",
        "API/Controllers/ReaderController.cs",
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/RecommendedController.cs",
        "API/Controllers/SeriesController.cs",
        "API/Controllers/ServerController.cs",
        "API/Controllers/SettingsController.cs",
        "API/Controllers/TachiyomiController.cs",
        "API/Controllers/UsersController.cs",
        "API/DTOs/ChapterDto.cs",
        "API/DTOs/Filtering/SortField.cs",
        "API/DTOs/Jobs/JobDto.cs",
        "API/DTOs/JumpBar/JumpKeyDto.cs",
        "API/DTOs/Metadata/ChapterMetadataDto.cs",
        "API/DTOs/Reader/HourEstimateRangeDto.cs",
        "API/DTOs/ReadingLists/ReadingListDto.cs",
        "API/DTOs/SeriesDetail/SeriesDetailDto.cs",
        "API/DTOs/SeriesDto.cs",
        "API/DTOs/Settings/ServerSettingDTO.cs",
        "API/DTOs/Stats/ServerInfoDto.cs",
        "API/DTOs/System/DirectoryDto.cs",
        "API/DTOs/UpdateLibraryDto.cs",
        "API/DTOs/Uploads/UploadFileDto.cs",
        "API/DTOs/UserPreferencesDto.cs",
        "API/DTOs/VolumeDto.cs",
        "API/Data/DataContext.cs",
        "API/Data/Metadata/ComicInfo.cs",
        "API/Data/MigrateBookmarks.cs",
        "API/Data/MigrateCoverImages.cs",
        "API/Data/Migrations/20220524172543_WordCount.Designer.cs",
        "API/Data/Migrations/20220524172543_WordCount.cs",
        "API/Data/Migrations/20220610153822_TimeEstimateInDB.Designer.cs",
        "API/Data/Migrations/20220610153822_TimeEstimateInDB.cs",
        "API/Data/Migrations/20220613131125_RenamedBookReaderLayoutMode.Designer.cs",
        "API/Data/Migrations/20220613131125_RenamedBookReaderLayoutMode.cs",
        "API/Data/Migrations/20220613131302_GlobalPageLayoutModeUserSetting.Designer.cs",
        "API/Data/Migrations/20220613131302_GlobalPageLayoutModeUserSetting.cs",
        "API/Data/Migrations/20220615190640_LastFileAnalysis.Designer.cs",
        "API/Data/Migrations/20220615190640_LastFileAnalysis.cs",
        "API/Data/Migrations/20220625215526_BlurUnreadSummaries.Designer.cs",
        "API/Data/Migrations/20220625215526_BlurUnreadSummaries.cs",
        "API/Data/Migrations/DataContextModelSnapshot.cs",
        "API/Data/Repositories/GenreRepository.cs",
        "API/Data/Repositories/LibraryRepository.cs",
        "API/Data/Repositories/MangaFileRepository.cs",
        "API/Data/Repositories/PersonRepository.cs",
        "API/Data/Repositories/SeriesRepository.cs",
        "API/Data/Repositories/SettingsRepository.cs",
        "API/Data/Repositories/UserRepository.cs",
        "API/Data/Seed.cs",
        "API/Data/UnitOfWork.cs",
        "API/Entities/AppUserPreferences.cs",
        "API/Entities/Chapter.cs",
        "API/Entities/Enums/PersonRole.cs",
        "API/Entities/Enums/ServerSettingKey.cs",
        "API/Entities/Enums/UserPreferences/PageLayoutMode.cs",
        "API/Entities/Interfaces/IHasReadTimeEstimate.cs",
        "API/Entities/MangaFile.cs",
        "API/Entities/Series.cs",
        "API/Entities/Volume.cs",
        "API/Extensions/ApplicationServiceExtensions.cs",
        "API/Helpers/AutoMapperProfiles.cs",
        "API/Helpers/CacheHelper.cs",
        "API/Helpers/Converters/ServerSettingConverter.cs",
        "API/Helpers/UserParams.cs",
        "API/Parser/DefaultParser.cs",
        "API/Parser/Parser.cs",
        "API/Services/ArchiveService.cs",
        "API/Services/BookService.cs",
        "API/Services/BookmarkService.cs",
        "API/Services/CacheService.cs",
        "API/Services/DirectoryService.cs",
        "API/Services/ImageService.cs",
        "API/Services/MetadataService.cs",
        "API/Services/ReaderService.cs",
        "API/Services/ReadingItemService.cs",
        "API/Services/SeriesService.cs",
        "API/Services/TaskScheduler.cs",
        "API/Services/Tasks/BackupService.cs",
        "API/Services/Tasks/CleanupService.cs",
        "API/Services/Tasks/Metadata/WordCountAnalyzerService.cs",
        "API/Services/Tasks/Scanner/ParseScannedFiles.cs",
        "API/Services/Tasks/ScannerService.cs",
        "API/Services/Tasks/StatsService.cs",
        "API/Services/TokenService.cs",
        "API/SignalR/EventHub.cs",
        "API/SignalR/MessageFactory.cs",
        "API/SignalR/MessageHub.cs",
        "API/SignalR/Presence/PresenceTracker.cs",
        "API/Startup.cs",
        "API/config/appsettings.Development.json",
        "Kavita.Common/Kavita.Common.csproj",
        "Kavita.sln.DotSettings",
        "UI/Web/angular.json",
        "UI/Web/e2e/tsconfig.json",
        "UI/Web/global-setup.ts",
        "UI/Web/package-lock.json",
        "UI/Web/package.json",
        "UI/Web/src/app/_models/chapter-metadata.ts",
        "UI/Web/src/app/_models/chapter.ts",
        "UI/Web/src/app/_models/events/user-update-event.ts",
        "UI/Web/src/app/_models/hour-estimate-range.ts",
        "UI/Web/src/app/_models/job/job.ts",
        "UI/Web/src/app/_models/jumpbar/jump-key.ts",
        "UI/Web/src/app/_models/page-layout-mode.ts",
        "UI/Web/src/app/_models/preferences/preferences.ts",
        "UI/Web/src/app/_models/reading-list.ts",
        "UI/Web/src/app/_models/series-filter.ts",
        "UI/Web/src/app/_models/series.ts",
        "UI/Web/src/app/_models/system/directory-dto.ts",
        "UI/Web/src/app/_models/volume.ts",
        "UI/Web/src/app/_services/account.service.ts",
        "UI/Web/src/app/_services/action-factory.service.ts",
        "UI/Web/src/app/_services/action.service.ts",
        "UI/Web/src/app/_services/library.service.ts",
        "UI/Web/src/app/_services/message-hub.service.ts",
        "UI/Web/src/app/_services/metadata.service.ts",
        "UI/Web/src/app/_services/reader.service.ts",
        "UI/Web/src/app/_services/recommendation.service.ts",
        "UI/Web/src/app/_services/scroll.service.ts",
        "UI/Web/src/app/_services/series.service.ts",
        "UI/Web/src/app/_services/server.service.ts",
        "UI/Web/src/app/admin/_modals/directory-picker/directory-picker.component.html",
        "UI/Web/src/app/admin/_modals/directory-picker/directory-picker.component.scss",
        "UI/Web/src/app/admin/_modals/directory-picker/directory-picker.component.ts",
        "UI/Web/src/app/admin/_modals/library-editor-modal/library-editor-modal.component.html",
        "UI/Web/src/app/admin/_modals/library-editor-modal/library-editor-modal.component.ts",
        "UI/Web/src/app/admin/_models/server-settings.ts",
        "UI/Web/src/app/admin/admin.module.ts",
        "UI/Web/src/app/admin/dashboard/dashboard.component.html",
        "UI/Web/src/app/admin/dashboard/dashboard.component.ts",
        "UI/Web/src/app/admin/manage-email-settings/manage-email-settings.component.html",
        "UI/Web/src/app/admin/manage-email-settings/manage-email-settings.component.scss",
        "UI/Web/src/app/admin/manage-email-settings/manage-email-settings.component.ts",
        "UI/Web/src/app/admin/manage-media-settings/manage-media-settings.component.html",
        "UI/Web/src/app/admin/manage-media-settings/manage-media-settings.component.scss",
        "UI/Web/src/app/admin/manage-media-settings/manage-media-settings.component.ts",
        "UI/Web/src/app/admin/manage-settings/manage-settings.component.html",
        "UI/Web/src/app/admin/manage-settings/manage-settings.component.scss",
        "UI/Web/src/app/admin/manage-settings/manage-settings.component.ts",
        "UI/Web/src/app/admin/manage-system/manage-system.component.html",
        "UI/Web/src/app/admin/manage-system/manage-system.component.ts",
        "UI/Web/src/app/admin/manage-tasks-settings/manage-tasks-settings.component.html",
        "UI/Web/src/app/admin/manage-tasks-settings/manage-tasks-settings.component.scss",
        "UI/Web/src/app/admin/manage-tasks-settings/manage-tasks-settings.component.ts",
        "UI/Web/src/app/all-series/all-series.component.html",
        "UI/Web/src/app/all-series/all-series.component.ts",
        "UI/Web/src/app/app-routing.module.ts",
        "UI/Web/src/app/app.component.html",
        "UI/Web/src/app/app.component.ts",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.html",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.scss",
        "UI/Web/src/app/book-reader/book-reader/book-reader.component.ts",
        "UI/Web/src/app/book-reader/reader-settings/reader-settings.component.html",
        "UI/Web/src/app/bookmark/bookmarks/bookmarks.component.html",
        "UI/Web/src/app/bookmark/bookmarks/bookmarks.component.ts",
        "UI/Web/src/app/cards/_modals/card-details-modal/card-details-modal.component.ts",
        "UI/Web/src/app/cards/_modals/edit-collection-tags/edit-collection-tags.component.html",
        "UI/Web/src/app/cards/_modals/edit-collection-tags/edit-collection-tags.component.ts",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.html",
        "UI/Web/src/app/cards/_modals/edit-series-modal/edit-series-modal.component.ts",
        "UI/Web/src/app/cards/bookmark/bookmark.component.html",
        "UI/Web/src/app/cards/bookmark/bookmark.component.scss",
        "UI/Web/src/app/cards/bookmark/bookmark.component.ts",
        "UI/Web/src/app/cards/bulk-operations/bulk-operations.component.ts",
        "UI/Web/src/app/cards/card-detail-drawer/card-detail-drawer.component.html",
        "UI/Web/src/app/cards/card-detail-drawer/card-detail-drawer.component.scss",
        "UI/Web/src/app/cards/card-detail-drawer/card-detail-drawer.component.ts",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.html",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.scss",
        "UI/Web/src/app/cards/card-detail-layout/card-detail-layout.component.ts",
        "UI/Web/src/app/cards/card-item/card-actionables/card-actionables.component.html",
        "UI/Web/src/app/cards/card-item/card-item.component.html",
        "UI/Web/src/app/cards/card-item/card-item.component.ts",
        "UI/Web/src/app/cards/cards.module.ts",
        "UI/Web/src/app/cards/chapter-metadata-detail/chapter-metadata-detail.component.ts",
        "UI/Web/src/app/cards/cover-image-chooser/cover-image-chooser.component.html",
        "UI/Web/src/app/cards/cover-image-chooser/cover-image-chooser.component.ts",
        "UI/Web/src/app/cards/entity-info-cards/entity-info-cards.component.html",
        "UI/Web/src/app/cards/entity-info-cards/entity-info-cards.component.scss",
        "UI/Web/src/app/cards/entity-info-cards/entity-info-cards.component.ts",
        "UI/Web/src/app/cards/entity-title/entity-title.component.html",
        "UI/Web/src/app/cards/entity-title/entity-title.component.scss",
        "UI/Web/src/app/cards/entity-title/entity-title.component.ts",
        "UI/Web/src/app/cards/list-item/list-item.component.html",
        "UI/Web/src/app/cards/list-item/list-item.component.scss",
        "UI/Web/src/app/cards/list-item/list-item.component.ts",
        "UI/Web/src/app/cards/series-card/series-card.component.ts",
        "UI/Web/src/app/cards/series-info-cards/series-info-cards.component.html",
        "UI/Web/src/app/cards/series-info-cards/series-info-cards.component.scss",
        "UI/Web/src/app/cards/series-info-cards/series-info-cards.component.ts",
        "UI/Web/src/app/carousel/carousel-reel/carousel-reel.component.html",
        "UI/Web/src/app/carousel/carousel-reel/carousel-reel.component.scss",
        "UI/Web/src/app/carousel/carousel-reel/carousel-reel.component.ts",
        "UI/Web/src/app/collections/all-collections/all-collections.component.html",
        "UI/Web/src/app/collections/all-collections/all-collections.component.ts",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.html",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.scss",
        "UI/Web/src/app/collections/collection-detail/collection-detail.component.ts",
        "UI/Web/src/app/dashboard/dashboard.component.html",
        "UI/Web/src/app/dashboard/dashboard.component.ts",
        "UI/Web/src/app/dev-only/theme-test/theme-test.component.html",
        "UI/Web/src/app/dev-only/theme-test/theme-test.component.ts",
        "UI/Web/src/app/library-detail/library-detail.component.html",
        "UI/Web/src/app/library-detail/library-detail.component.ts",
        "UI/Web/src/app/library-detail/library-recommended/library-recommended.component.html",
        "UI/Web/src/app/library-detail/library-recommended/library-recommended.component.ts",
        "UI/Web/src/app/manga-reader/fullscreen-icon.pipe.ts",
        "UI/Web/src/app/manga-reader/infinite-scroller/infinite-scroller.component.ts",
        "UI/Web/src/app/manga-reader/manga-reader.component.html",
        "UI/Web/src/app/manga-reader/manga-reader.component.scss",
        "UI/Web/src/app/manga-reader/manga-reader.component.ts",
        "UI/Web/src/app/manga-reader/manga-reader.module.ts",
        "UI/Web/src/app/metadata-filter/metadata-filter.component.html",
        "UI/Web/src/app/nav/events-widget/events-widget.component.html",
        "UI/Web/src/app/nav/events-widget/events-widget.component.scss",
        "UI/Web/src/app/nav/grouped-typeahead/grouped-typeahead.component.html",
        "UI/Web/src/app/nav/grouped-typeahead/grouped-typeahead.component.scss",
        "UI/Web/src/app/nav/nav-header/nav-header.component.ts",
        "UI/Web/src/app/pdf-reader/package-lock.json",
        "UI/Web/src/app/pdf-reader/pdf-reader.module.ts",
        "UI/Web/src/app/pdf-reader/pdf-reader.router.module.ts",
        "UI/Web/src/app/pdf-reader/pdf-reader/pdf-reader.component.html",
        "UI/Web/src/app/pdf-reader/pdf-reader/pdf-reader.component.scss",
        "UI/Web/src/app/pdf-reader/pdf-reader/pdf-reader.component.ts",
        "UI/Web/src/app/pipe/age-rating.pipe.ts",
        "UI/Web/src/app/pipe/compact-number.pipe.ts",
        "UI/Web/src/app/pipe/default-value.pipe.ts",
        "UI/Web/src/app/pipe/language-name.pipe.ts",
        "UI/Web/src/app/pipe/manga-format-icon.pipe.ts",
        "UI/Web/src/app/pipe/manga-format.pipe.ts",
        "UI/Web/src/app/pipe/pipe.module.ts",
        "UI/Web/src/app/reader-shared/_modals/shorcuts-modal/shorcuts-modal.component.html",
        "UI/Web/src/app/reader-shared/_modals/shorcuts-modal/shorcuts-modal.component.scss",
        "UI/Web/src/app/reader-shared/_modals/shorcuts-modal/shorcuts-modal.component.ts",
        "UI/Web/src/app/reader-shared/_modals/shortcuts-modal/shortcuts-modal.component.html",
        "UI/Web/src/app/reader-shared/_modals/shortcuts-modal/shortcuts-modal.component.scss",
        "UI/Web/src/app/reader-shared/_modals/shortcuts-modal/shortcuts-modal.component.ts",
        "UI/Web/src/app/reader-shared/reader-shared.module.ts",
        "UI/Web/src/app/reading-list/dragable-ordered-list/dragable-ordered-list.component.html",
        "UI/Web/src/app/reading-list/dragable-ordered-list/dragable-ordered-list.component.scss",
        "UI/Web/src/app/reading-list/dragable-ordered-list/dragable-ordered-list.component.ts",
        "UI/Web/src/app/reading-list/draggable-ordered-list/draggable-ordered-list.component.html",
        "UI/Web/src/app/reading-list/draggable-ordered-list/draggable-ordered-list.component.scss",
        "UI/Web/src/app/reading-list/draggable-ordered-list/draggable-ordered-list.component.ts",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.html",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.scss",
        "UI/Web/src/app/reading-list/reading-list-detail/reading-list-detail.component.ts",
        "UI/Web/src/app/reading-list/reading-list.module.ts",
        "UI/Web/src/app/reading-list/reading-lists/reading-lists.component.html",
        "UI/Web/src/app/reading-list/reading-lists/reading-lists.component.ts",
        "UI/Web/src/app/series-detail/series-detail.component.html",
        "UI/Web/src/app/series-detail/series-detail.component.scss",
        "UI/Web/src/app/series-detail/series-detail.component.ts",
        "UI/Web/src/app/series-detail/series-detail.module.ts",
        "UI/Web/src/app/series-detail/series-metadata-detail/series-metadata-detail.component.html",
        "UI/Web/src/app/series-detail/series-metadata-detail/series-metadata-detail.component.ts",
        "UI/Web/src/app/shared/_services/download.service.ts",
        "UI/Web/src/app/shared/_services/filter-utilities.service.ts",
        "UI/Web/src/app/shared/_services/utility.service.ts",
        "UI/Web/src/app/shared/circular-loader/circular-loader.component.html",
        "UI/Web/src/app/shared/circular-loader/circular-loader.component.ts",
        "UI/Web/src/app/shared/icon-and-title/icon-and-title.component.html",
        "UI/Web/src/app/shared/icon-and-title/icon-and-title.component.scss",
        "UI/Web/src/app/shared/icon-and-title/icon-and-title.component.ts",
        "UI/Web/src/app/shared/image/image.component.scss",
        "UI/Web/src/app/shared/image/image.component.ts",
        "UI/Web/src/app/shared/read-more/read-more.component.html",
        "UI/Web/src/app/shared/read-more/read-more.component.scss",
        "UI/Web/src/app/shared/read-more/read-more.component.ts",
        "UI/Web/src/app/shared/series-format/series-format.component.html",
        "UI/Web/src/app/shared/shared.module.ts",
        "UI/Web/src/app/sidenav/side-nav-companion-bar/side-nav-companion-bar.component.html",
        "UI/Web/src/app/sidenav/side-nav-companion-bar/side-nav-companion-bar.component.ts",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.html",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.scss",
        "UI/Web/src/app/sidenav/side-nav/side-nav.component.ts",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.html",
        "UI/Web/src/app/user-settings/user-preferences/user-preferences.component.ts",
        "UI/Web/src/styles.scss",
        "UI/Web/src/theme/components/_card.scss",
        "UI/Web/src/theme/components/_offcanvas.scss",
        "UI/Web/src/theme/themes/dark.scss",
        "UI/Web/src/theme/utilities/_global.scss",
        "UI/Web/tsconfig.json"
      ],
      "insertions": 17625,
      "deletions": 3259,
      "original_hash": "6d0b18c98fa088d8d967469aa556c5dd5f26d516",
      "malicious_files": [
        "API/Controllers/ReadingListController.cs",
        "API/Controllers/AccountController.cs",
        "API/Controllers/BaseApiController.cs"
      ]
    }
  ]
}