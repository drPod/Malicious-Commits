{
  "tuleap": [
    {
      "hash": "33acc56f75d5a153b151b3d033451280c9b0c64a",
      "author": "Yannis ROSSETTO",
      "author_email": "yannis.rossetto@enalean.com",
      "committed_date": "2022-06-13T18:12:04+02:00",
      "message": "feat: create a Git branch from REST API\n\nThis is part of story #26803 create Tuleap Git branch & pull request from artifact\n\nA Git branch can be created in a Git repository if the user is able to write\nin it with the REST endoint POST git/:id/branches.\n\nThe expected json body content is like:\n\n{\n  \"branch_name\": \"string\",\n  \"reference\": \"string\"\n}\n\nThe REST call does not return anything for now.\n\nA branch cannot be created from a tag, only from another branch or a\ncommit.\n\nThe git command update-ref[1] has been used to do the branch creation.\n\nTo test, do not forget to deploy the new sudoers config file.\n\n[1] https://git-scm.com/docs/git-update-ref\n\nChange-Id: Ica42bfbfe801e53881658c9404204f1907641ceb",
      "files_changed": [
        "plugins/git/bin/create-new-branch.php",
        "plugins/git/etc/sudoers.d/git-create-new-branch",
        "plugins/git/include/Branch/BranchCreationExecutor.php",
        "plugins/git/include/Branch/CannotCreateNewBranchException.php",
        "plugins/git/include/Git_Exec.class.php",
        "plugins/git/include/REST/v1/Branch/BranchCreator.php",
        "plugins/git/include/REST/v1/GitBranchPOSTRepresentation.php",
        "plugins/git/include/REST/v1/RepositoryResource.class.php",
        "plugins/git/tests/rest/Git/RepositoryTest.php",
        "plugins/git/tests/rest/setup.sh",
        "plugins/git/tests/unit/Git_ExecTest.php",
        "plugins/git/tests/unit/REST/v1/Branch/BranchCreatorTest.php",
        "tests/psalm/psalm.xml",
        "tools/rpm/tuleap.rhel7.spec"
      ],
      "insertions": 675,
      "deletions": 12,
      "original_hash": "33acc56f75d5a153b151b3d033451280c9b0c64a",
      "malicious_files": [
        "plugins/git/include/REST/v1/Branch/BranchCreator.php"
      ]
    },
    {
      "hash": "58ecb1dee1c46075d3e089980301ebfbe0bafd33",
      "author": "Yannis ROSSETTO",
      "author_email": "yannis.rossetto@enalean.com",
      "committed_date": "2022-07-05T17:49:53+02:00",
      "message": "fix: Fine grained permissions must be well handled in POST git/:id/branches\n\nThis fixes request #27538 Fine grained permissions are not checked when creating a branch with REST API\n\nThe fine grained permissions were not taken into account in the previous\nchecks.\n\nChange-Id: I1fa72ab34e4f41d5ea3ec9dd21e990ce330d780f",
      "files_changed": [
        "plugins/git/include/REST/v1/Branch/BranchCreator.php",
        "plugins/git/include/REST/v1/RepositoryResource.class.php",
        "plugins/git/tests/unit/REST/v1/Branch/BranchCreatorTest.php"
      ],
      "insertions": 44,
      "deletions": 27,
      "original_hash": "58ecb1dee1c46075d3e089980301ebfbe0bafd33",
      "malicious_files": [
        "plugins/git/include/REST/v1/Branch/BranchCreator.php"
      ]
    }
  ]
}