{
  "xwiki-rendering": [
    {
      "hash": "c40e2f5f9482ec6c3e71dbf1fff5ba8a5e44cdc1",
      "author": "Michael Hamann",
      "author_email": "michael.hamann@xwiki.com",
      "committed_date": "2022-06-30T16:47:21+02:00",
      "message": "XRENDERING-663: Restrict allowed attributes in HTML rendering\n\n* Change HTML renderers to only print allowed attributes and elements.\n* Add prefix to forbidden attributes to preserve them in XWiki syntax.\n* Adapt tests to expect that invalid attributes get a prefix.",
      "files_changed": [
        "xwiki-rendering-integration-tests/src/test/resources/simple/escape/escape15.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/group/group9.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/horizontalline/horizontalline5.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/italic/italic8.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/list/definitionlist7.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/list/list13.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/list/list8.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/macros/macro10.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/paragraph/paragraph6.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/quote/quote3.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/section/section6.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/strikedout/strikedout4.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/subscript/subscript2.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/superscript/superscript2.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/table/table3.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/verbatim/verbatim6.test",
        "xwiki-rendering-integration-tests/src/test/resources/simple/verbatim/verbatim7.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/image/image1.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/image/image12.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/image/image8.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/image/image9.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/link/links14.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/link/links15.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/link/links19.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/link/links2.test",
        "xwiki-rendering-integration-tests/src/test/resources/wiki/link/links8.test",
        "xwiki-rendering-macros/xwiki-rendering-macro-html/src/main/java/org/xwiki/rendering/internal/macro/html/HTMLMacroXHTMLRenderer.java",
        "xwiki-rendering-macros/xwiki-rendering-macro-html/src/main/java/org/xwiki/rendering/internal/macro/html/renderers/annotatedhtml5/HTMLMacroAnnotatedHTML5Renderer.java",
        "xwiki-rendering-macros/xwiki-rendering-macro-html/src/main/java/org/xwiki/rendering/internal/macro/html/renderers/annotatedxhtml/HTMLMacroAnnotatedXHTMLRenderer.java",
        "xwiki-rendering-macros/xwiki-rendering-macro-html/src/main/java/org/xwiki/rendering/internal/macro/html/renderers/html5/HTMLMacroHTML5Renderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-annotatedhtml5/src/main/java/org/xwiki/rendering/internal/renderer/html5/AnnotatedHTML5ChainingRenderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-annotatedhtml5/src/main/java/org/xwiki/rendering/internal/renderer/html5/AnnotatedHTML5Renderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-annotatedhtml5/src/test/resources/annotatedhtml50/simple/monospace/monospace2.out.txt",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-annotatedxhtml/src/main/java/org/xwiki/rendering/internal/renderer/xhtml/AnnotatedXHTMLChainingRenderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-annotatedxhtml/src/main/java/org/xwiki/rendering/internal/renderer/xhtml/AnnotatedXHTMLRenderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-html5/src/main/java/org/xwiki/rendering/internal/renderer/html5/HTML5ChainingRenderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-html5/src/main/java/org/xwiki/rendering/internal/renderer/html5/HTML5Renderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-html5/src/test/java/org/xwiki/rendering/internal/html5/HTML5ChainingRendererTest.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml/src/main/java/org/xwiki/rendering/internal/parser/xhtml/wikimodel/XHTMLXWikiGeneratorListener.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml/src/main/java/org/xwiki/rendering/internal/renderer/xhtml/XHTMLChainingRenderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml/src/main/java/org/xwiki/rendering/internal/renderer/xhtml/XHTMLRenderer.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml/src/test/java/org/xwiki/rendering/internal/renderer/xhtml/XHTMLChainingRendererTest.java",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml/src/test/resources/xhtml10/simple/monospace/monospace2.inout.txt",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml/src/test/resources/xhtml10/specific/bold/bold4.test",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml/src/test/resources/xhtml10/specific/encoding/encoding1.test",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml/src/test/resources/xhtml10/specific/group/group1.test",
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-xhtml5/src/test/resources/xhtml5/simple/monospace/monospace2.inout.txt",
        "xwiki-rendering-xml/src/main/java/org/xwiki/rendering/renderer/printer/XHTMLWikiPrinter.java"
      ],
      "insertions": 330,
      "deletions": 117,
      "original_hash": "c40e2f5f9482ec6c3e71dbf1fff5ba8a5e44cdc1",
      "malicious_files": [
        "xwiki-rendering-syntaxes/xwiki-rendering-syntax-html5/src/test/java/org/xwiki/rendering/internal/html5/HTML5ChainingRendererTest.java"
      ]
    }
  ]
}